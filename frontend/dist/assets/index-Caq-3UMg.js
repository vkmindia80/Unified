var pO=Object.defineProperty;var mO=(e,t,r)=>t in e?pO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var xp=(e,t,r)=>mO(e,typeof t!="symbol"?t+"":t,r);function gO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var yO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function En(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function my(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var ij={exports:{}},Af={},aj={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),vO=Symbol.for("react.portal"),xO=Symbol.for("react.fragment"),bO=Symbol.for("react.strict_mode"),wO=Symbol.for("react.profiler"),_O=Symbol.for("react.provider"),jO=Symbol.for("react.context"),SO=Symbol.for("react.forward_ref"),NO=Symbol.for("react.suspense"),kO=Symbol.for("react.memo"),EO=Symbol.for("react.lazy"),z1=Symbol.iterator;function CO(e){return e===null||typeof e!="object"?null:(e=z1&&e[z1]||e["@@iterator"],typeof e=="function"?e:null)}var oj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sj=Object.assign,lj={};function vs(e,t,r){this.props=e,this.context=t,this.refs=lj,this.updater=r||oj}vs.prototype.isReactComponent={};vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cj(){}cj.prototype=vs.prototype;function gy(e,t,r){this.props=e,this.context=t,this.refs=lj,this.updater=r||oj}var yy=gy.prototype=new cj;yy.constructor=gy;sj(yy,vs.prototype);yy.isPureReactComponent=!0;var U1=Array.isArray,uj=Object.prototype.hasOwnProperty,vy={current:null},dj={key:!0,ref:!0,__self:!0,__source:!0};function fj(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)uj.call(t,n)&&!dj.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:dc,type:e,key:a,ref:o,props:i,_owner:vy.current}}function OO(e,t){return{$$typeof:dc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xy(e){return typeof e=="object"&&e!==null&&e.$$typeof===dc}function PO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var W1=/\/+/g;function bp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PO(""+e.key):t.toString(36)}function Mu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case dc:case vO:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+bp(o,0):n,U1(i)?(r="",e!=null&&(r=e.replace(W1,"$&/")+"/"),Mu(i,t,r,"",function(u){return u})):i!=null&&(xy(i)&&(i=OO(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(W1,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",U1(e))for(var s=0;s<e.length;s++){a=e[s];var c=n+bp(a,s);o+=Mu(a,t,r,c,i)}else if(c=CO(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=n+bp(a,s++),o+=Mu(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vc(e,t,r){if(e==null)return e;var n=[],i=0;return Mu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function TO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hr={current:null},$u={transition:null},AO={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:$u,ReactCurrentOwner:vy};function hj(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Vc,forEach:function(e,t,r){Vc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vc(e,function(){t++}),t},toArray:function(e){return Vc(e,function(t){return t})||[]},only:function(e){if(!xy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=vs;Ee.Fragment=xO;Ee.Profiler=wO;Ee.PureComponent=gy;Ee.StrictMode=bO;Ee.Suspense=NO;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AO;Ee.act=hj;Ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=sj({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=vy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)uj.call(t,c)&&!dj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:dc,type:e.type,key:i,ref:a,props:n,_owner:o}};Ee.createContext=function(e){return e={$$typeof:jO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_O,_context:e},e.Consumer=e};Ee.createElement=fj;Ee.createFactory=function(e){var t=fj.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:SO,render:e}};Ee.isValidElement=xy;Ee.lazy=function(e){return{$$typeof:EO,_payload:{_status:-1,_result:e},_init:TO}};Ee.memo=function(e,t){return{$$typeof:kO,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=$u.transition;$u.transition={};try{e()}finally{$u.transition=t}};Ee.unstable_act=hj;Ee.useCallback=function(e,t){return hr.current.useCallback(e,t)};Ee.useContext=function(e){return hr.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return hr.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return hr.current.useEffect(e,t)};Ee.useId=function(){return hr.current.useId()};Ee.useImperativeHandle=function(e,t,r){return hr.current.useImperativeHandle(e,t,r)};Ee.useInsertionEffect=function(e,t){return hr.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return hr.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return hr.current.useMemo(e,t)};Ee.useReducer=function(e,t,r){return hr.current.useReducer(e,t,r)};Ee.useRef=function(e){return hr.current.useRef(e)};Ee.useState=function(e){return hr.current.useState(e)};Ee.useSyncExternalStore=function(e,t,r){return hr.current.useSyncExternalStore(e,t,r)};Ee.useTransition=function(){return hr.current.useTransition()};Ee.version="18.3.1";aj.exports=Ee;var b=aj.exports;const Te=En(b),pj=gO({__proto__:null,default:Te},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO=b,DO=Symbol.for("react.element"),MO=Symbol.for("react.fragment"),$O=Object.prototype.hasOwnProperty,LO=RO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IO={key:!0,ref:!0,__self:!0,__source:!0};function mj(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$O.call(t,n)&&!IO.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:DO,type:e,key:a,ref:o,props:i,_owner:LO.current}}Af.Fragment=MO;Af.jsx=mj;Af.jsxs=mj;ij.exports=Af;var l=ij.exports,K0={},gj={exports:{}},Fr={},yj={exports:{}},vj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,te){var ie=q.length;q.push(te);e:for(;0<ie;){var oe=ie-1>>>1,se=q[oe];if(0<i(se,te))q[oe]=te,q[ie]=se,ie=oe;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var te=q[0],ie=q.pop();if(ie!==te){q[0]=ie;e:for(var oe=0,se=q.length,we=se>>>1;oe<we;){var Ce=2*(oe+1)-1,ge=q[Ce],z=Ce+1,B=q[z];if(0>i(ge,ie))z<se&&0>i(B,ge)?(q[oe]=B,q[z]=ie,oe=z):(q[oe]=ge,q[Ce]=ie,oe=Ce);else if(z<se&&0>i(B,ie))q[oe]=B,q[z]=ie,oe=z;else break e}}return te}function i(q,te){var ie=q.sortIndex-te.sortIndex;return ie!==0?ie:q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=q)n(u),te.sortIndex=te.expirationTime,t(c,te);else break;te=r(u)}}function _(q){if(v=!1,w(q),!g)if(r(c)!==null)g=!0,Y(j);else{var te=r(u);te!==null&&Q(_,te.startTime-q)}}function j(q,te){g=!1,v&&(v=!1,p(A),A=-1),m=!0;var ie=h;try{for(w(te),f=r(c);f!==null&&(!(f.expirationTime>te)||q&&!L());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var se=oe(f.expirationTime<=te);te=e.unstable_now(),typeof se=="function"?f.callback=se:f===r(c)&&n(c),w(te)}else n(c);f=r(c)}if(f!==null)var we=!0;else{var Ce=r(u);Ce!==null&&Q(_,Ce.startTime-te),we=!1}return we}finally{f=null,h=ie,m=!1}}var k=!1,P=null,A=-1,M=5,R=-1;function L(){return!(e.unstable_now()-R<M)}function U(){if(P!==null){var q=e.unstable_now();R=q;var te=!0;try{te=P(!0,q)}finally{te?X():(k=!1,P=null)}}else k=!1}var X;if(typeof x=="function")X=function(){x(U)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,le=J.port2;J.port1.onmessage=U,X=function(){le.postMessage(null)}}else X=function(){y(U,0)};function Y(q){P=q,k||(k=!0,X())}function Q(q,te){A=y(function(){q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,Y(j))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var ie=h;h=te;try{return q()}finally{h=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=h;h=q;try{return te()}finally{h=ie}},e.unstable_scheduleCallback=function(q,te,ie){var oe=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?oe+ie:oe):ie=oe,q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ie+se,q={id:d++,callback:te,priorityLevel:q,startTime:ie,expirationTime:se,sortIndex:-1},ie>oe?(q.sortIndex=ie,t(u,q),r(c)===null&&q===r(u)&&(v?(p(A),A=-1):v=!0,Q(_,ie-oe))):(q.sortIndex=se,t(c,q),g||m||(g=!0,Y(j))),q},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(q){var te=h;return function(){var ie=h;h=te;try{return q.apply(this,arguments)}finally{h=ie}}}})(vj);yj.exports=vj;var BO=yj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO=b,Ir=BO;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xj=new Set,Pl={};function no(e,t){Ko(e,t),Ko(e+"Capture",t)}function Ko(e,t){for(Pl[e]=t,e=0;e<t.length;e++)xj.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y0=Object.prototype.hasOwnProperty,zO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H1={},q1={};function UO(e){return Y0.call(q1,e)?!0:Y0.call(H1,e)?!1:zO.test(e)?q1[e]=!0:(H1[e]=!0,!1)}function WO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HO(e,t,r,n){if(t===null||typeof t>"u"||WO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var by=/[\-:]([a-z])/g;function wy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(by,wy);Ht[t]=new pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(by,wy);Ht[t]=new pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(by,wy);Ht[t]=new pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new pr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function _y(e,t,r,n){var i=Ht.hasOwnProperty(t)?Ht[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HO(t,r,i,n)&&(r=null),n||i===null?UO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xi=FO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kc=Symbol.for("react.element"),bo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),jy=Symbol.for("react.strict_mode"),G0=Symbol.for("react.profiler"),bj=Symbol.for("react.provider"),wj=Symbol.for("react.context"),Sy=Symbol.for("react.forward_ref"),X0=Symbol.for("react.suspense"),Q0=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),_j=Symbol.for("react.offscreen"),V1=Symbol.iterator;function Bs(e){return e===null||typeof e!="object"?null:(e=V1&&e[V1]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,wp;function ll(e){if(wp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wp=t&&t[1]||""}return`
`+wp+e}var _p=!1;function jp(e,t){if(!e||_p)return"";_p=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{_p=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ll(e):""}function qO(e){switch(e.tag){case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return e=jp(e.type,!1),e;case 11:return e=jp(e.type.render,!1),e;case 1:return e=jp(e.type,!0),e;default:return""}}function J0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wo:return"Fragment";case bo:return"Portal";case G0:return"Profiler";case jy:return"StrictMode";case X0:return"Suspense";case Q0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wj:return(e.displayName||"Context")+".Consumer";case bj:return(e._context.displayName||"Context")+".Provider";case Sy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ny:return t=e.displayName||null,t!==null?t:J0(e.type)||"Memo";case Pi:t=e._payload,e=e._init;try{return J0(e(t))}catch{}}return null}function VO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J0(t);case 8:return t===jy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KO(e){var t=jj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yc(e){e._valueTracker||(e._valueTracker=KO(e))}function Sj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Z0(e,t){var r=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function K1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nj(e,t){t=t.checked,t!=null&&_y(e,"checked",t,!1)}function em(e,t){Nj(e,t);var r=Zi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tm(e,t.type,r):t.hasOwnProperty("defaultValue")&&tm(e,t.type,Zi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Y1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function tm(e,t,r){(t!=="number"||sd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cl=Array.isArray;function $o(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(cl(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zi(r)}}function kj(e,t){var r=Zi(t.value),n=Zi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function X1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ej(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ej(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gc,Cj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YO=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(e){YO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yl[t]=yl[e]})});function Oj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yl.hasOwnProperty(e)&&yl[e]?(""+t).trim():t+"px"}function Pj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Oj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var GO=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function im(e,t){if(t){if(GO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function am(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=null;function ky(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sm=null,Lo=null,Io=null;function Q1(e){if(e=pc(e)){if(typeof sm!="function")throw Error(re(280));var t=e.stateNode;t&&(t=Lf(t),sm(e.stateNode,e.type,t))}}function Tj(e){Lo?Io?Io.push(e):Io=[e]:Lo=e}function Aj(){if(Lo){var e=Lo,t=Io;if(Io=Lo=null,Q1(e),t)for(e=0;e<t.length;e++)Q1(t[e])}}function Rj(e,t){return e(t)}function Dj(){}var Sp=!1;function Mj(e,t,r){if(Sp)return e(t,r);Sp=!0;try{return Rj(e,t,r)}finally{Sp=!1,(Lo!==null||Io!==null)&&(Dj(),Aj())}}function Al(e,t){var r=e.stateNode;if(r===null)return null;var n=Lf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var lm=!1;if(si)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){lm=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{lm=!1}function XO(e,t,r,n,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var vl=!1,ld=null,cd=!1,cm=null,QO={onError:function(e){vl=!0,ld=e}};function JO(e,t,r,n,i,a,o,s,c){vl=!1,ld=null,XO.apply(QO,arguments)}function ZO(e,t,r,n,i,a,o,s,c){if(JO.apply(this,arguments),vl){if(vl){var u=ld;vl=!1,ld=null}else throw Error(re(198));cd||(cd=!0,cm=u)}}function io(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $j(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function J1(e){if(io(e)!==e)throw Error(re(188))}function eP(e){var t=e.alternate;if(!t){if(t=io(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return J1(i),e;if(a===n)return J1(i),t;a=a.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function Lj(e){return e=eP(e),e!==null?Ij(e):null}function Ij(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ij(e);if(t!==null)return t;e=e.sibling}return null}var Bj=Ir.unstable_scheduleCallback,Z1=Ir.unstable_cancelCallback,tP=Ir.unstable_shouldYield,rP=Ir.unstable_requestPaint,ft=Ir.unstable_now,nP=Ir.unstable_getCurrentPriorityLevel,Ey=Ir.unstable_ImmediatePriority,Fj=Ir.unstable_UserBlockingPriority,ud=Ir.unstable_NormalPriority,iP=Ir.unstable_LowPriority,zj=Ir.unstable_IdlePriority,Rf=null,Ln=null;function aP(e){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Rf,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:lP,oP=Math.log,sP=Math.LN2;function lP(e){return e>>>=0,e===0?32:31-(oP(e)/sP|0)|0}var Xc=64,Qc=4194304;function ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=ul(s):(a&=o,a!==0&&(n=ul(a)))}else o=r&~i,o!==0?n=ul(o):a!==0&&(n=ul(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-jn(t),i=1<<r,n|=e[r],t&=~i;return n}function cP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-jn(a),s=1<<o,c=i[o];c===-1?(!(s&r)||s&n)&&(i[o]=cP(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function um(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uj(){var e=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),e}function Np(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=r}function dP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-jn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Cy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-jn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Be=0;function Wj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hj,Oy,qj,Vj,Kj,dm=!1,Jc=[],zi=null,Ui=null,Wi=null,Rl=new Map,Dl=new Map,Di=[],fP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eb(e,t){switch(e){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(t.pointerId)}}function zs(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=pc(t),t!==null&&Oy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hP(e,t,r,n,i){switch(t){case"focusin":return zi=zs(zi,e,t,r,n,i),!0;case"dragenter":return Ui=zs(Ui,e,t,r,n,i),!0;case"mouseover":return Wi=zs(Wi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Rl.set(a,zs(Rl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Dl.set(a,zs(Dl.get(a)||null,e,t,r,n,i)),!0}return!1}function Yj(e){var t=wa(e.target);if(t!==null){var r=io(t);if(r!==null){if(t=r.tag,t===13){if(t=$j(r),t!==null){e.blockedOn=t,Kj(e.priority,function(){qj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);om=n,r.target.dispatchEvent(n),om=null}else return t=pc(r),t!==null&&Oy(t),e.blockedOn=r,!1;t.shift()}return!0}function tb(e,t,r){Lu(e)&&r.delete(t)}function pP(){dm=!1,zi!==null&&Lu(zi)&&(zi=null),Ui!==null&&Lu(Ui)&&(Ui=null),Wi!==null&&Lu(Wi)&&(Wi=null),Rl.forEach(tb),Dl.forEach(tb)}function Us(e,t){e.blockedOn===t&&(e.blockedOn=null,dm||(dm=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,pP)))}function Ml(e){function t(i){return Us(i,e)}if(0<Jc.length){Us(Jc[0],e);for(var r=1;r<Jc.length;r++){var n=Jc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zi!==null&&Us(zi,e),Ui!==null&&Us(Ui,e),Wi!==null&&Us(Wi,e),Rl.forEach(t),Dl.forEach(t),r=0;r<Di.length;r++)n=Di[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Di.length&&(r=Di[0],r.blockedOn===null);)Yj(r),r.blockedOn===null&&Di.shift()}var Bo=xi.ReactCurrentBatchConfig,fd=!0;function mP(e,t,r,n){var i=Be,a=Bo.transition;Bo.transition=null;try{Be=1,Py(e,t,r,n)}finally{Be=i,Bo.transition=a}}function gP(e,t,r,n){var i=Be,a=Bo.transition;Bo.transition=null;try{Be=4,Py(e,t,r,n)}finally{Be=i,Bo.transition=a}}function Py(e,t,r,n){if(fd){var i=fm(e,t,r,n);if(i===null)Mp(e,t,n,hd,r),eb(e,n);else if(hP(i,e,t,r,n))n.stopPropagation();else if(eb(e,n),t&4&&-1<fP.indexOf(e)){for(;i!==null;){var a=pc(i);if(a!==null&&Hj(a),a=fm(e,t,r,n),a===null&&Mp(e,t,n,hd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Mp(e,t,n,null,r)}}var hd=null;function fm(e,t,r,n){if(hd=null,e=ky(n),e=wa(e),e!==null)if(t=io(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$j(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hd=e,null}function Gj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nP()){case Ey:return 1;case Fj:return 4;case ud:case iP:return 16;case zj:return 536870912;default:return 16}default:return 16}}var Li=null,Ty=null,Iu=null;function Xj(){if(Iu)return Iu;var e,t=Ty,r=t.length,n,i="value"in Li?Li.value:Li.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Iu=i.slice(e,1<n?1-n:void 0)}function Bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zc(){return!0}function rb(){return!1}function zr(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Zc:rb,this.isPropagationStopped=rb,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),t}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ay=zr(xs),hc=ot({},xs,{view:0,detail:0}),yP=zr(hc),kp,Ep,Ws,Df=ot({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ry,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(kp=e.screenX-Ws.screenX,Ep=e.screenY-Ws.screenY):Ep=kp=0,Ws=e),kp)},movementY:function(e){return"movementY"in e?e.movementY:Ep}}),nb=zr(Df),vP=ot({},Df,{dataTransfer:0}),xP=zr(vP),bP=ot({},hc,{relatedTarget:0}),Cp=zr(bP),wP=ot({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),_P=zr(wP),jP=ot({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SP=zr(jP),NP=ot({},xs,{data:0}),ib=zr(NP),kP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CP[e])?!!t[e]:!1}function Ry(){return OP}var PP=ot({},hc,{key:function(e){if(e.key){var t=kP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ry,charCode:function(e){return e.type==="keypress"?Bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TP=zr(PP),AP=ot({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ab=zr(AP),RP=ot({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ry}),DP=zr(RP),MP=ot({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$P=zr(MP),LP=ot({},Df,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IP=zr(LP),BP=[9,13,27,32],Dy=si&&"CompositionEvent"in window,xl=null;si&&"documentMode"in document&&(xl=document.documentMode);var FP=si&&"TextEvent"in window&&!xl,Qj=si&&(!Dy||xl&&8<xl&&11>=xl),ob=" ",sb=!1;function Jj(e,t){switch(e){case"keyup":return BP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _o=!1;function zP(e,t){switch(e){case"compositionend":return Zj(t);case"keypress":return t.which!==32?null:(sb=!0,ob);case"textInput":return e=t.data,e===ob&&sb?null:e;default:return null}}function UP(e,t){if(_o)return e==="compositionend"||!Dy&&Jj(e,t)?(e=Xj(),Iu=Ty=Li=null,_o=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qj&&t.locale!=="ko"?null:t.data;default:return null}}var WP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WP[e.type]:t==="textarea"}function e3(e,t,r,n){Tj(n),t=pd(t,"onChange"),0<t.length&&(r=new Ay("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bl=null,$l=null;function HP(e){d3(e,0)}function Mf(e){var t=No(e);if(Sj(t))return e}function qP(e,t){if(e==="change")return t}var t3=!1;if(si){var Op;if(si){var Pp="oninput"in document;if(!Pp){var cb=document.createElement("div");cb.setAttribute("oninput","return;"),Pp=typeof cb.oninput=="function"}Op=Pp}else Op=!1;t3=Op&&(!document.documentMode||9<document.documentMode)}function ub(){bl&&(bl.detachEvent("onpropertychange",r3),$l=bl=null)}function r3(e){if(e.propertyName==="value"&&Mf($l)){var t=[];e3(t,$l,e,ky(e)),Mj(HP,t)}}function VP(e,t,r){e==="focusin"?(ub(),bl=t,$l=r,bl.attachEvent("onpropertychange",r3)):e==="focusout"&&ub()}function KP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mf($l)}function YP(e,t){if(e==="click")return Mf(t)}function GP(e,t){if(e==="input"||e==="change")return Mf(t)}function XP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:XP;function Ll(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Y0.call(t,i)||!Nn(e[i],t[i]))return!1}return!0}function db(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fb(e,t){var r=db(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=db(r)}}function n3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i3(){for(var e=window,t=sd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sd(e.document)}return t}function My(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QP(e){var t=i3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&n3(r.ownerDocument.documentElement,r)){if(n!==null&&My(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=fb(r,a);var o=fb(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JP=si&&"documentMode"in document&&11>=document.documentMode,jo=null,hm=null,wl=null,pm=!1;function hb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pm||jo==null||jo!==sd(n)||(n=jo,"selectionStart"in n&&My(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wl&&Ll(wl,n)||(wl=n,n=pd(hm,"onSelect"),0<n.length&&(t=new Ay("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jo)))}function eu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var So={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},Tp={},a3={};si&&(a3=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function $f(e){if(Tp[e])return Tp[e];if(!So[e])return e;var t=So[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in a3)return Tp[e]=t[r];return e}var o3=$f("animationend"),s3=$f("animationiteration"),l3=$f("animationstart"),c3=$f("transitionend"),u3=new Map,pb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function na(e,t){u3.set(e,t),no(t,[e])}for(var Ap=0;Ap<pb.length;Ap++){var Rp=pb[Ap],ZP=Rp.toLowerCase(),eT=Rp[0].toUpperCase()+Rp.slice(1);na(ZP,"on"+eT)}na(o3,"onAnimationEnd");na(s3,"onAnimationIteration");na(l3,"onAnimationStart");na("dblclick","onDoubleClick");na("focusin","onFocus");na("focusout","onBlur");na(c3,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tT=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function mb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ZO(n,t,void 0,e),e.currentTarget=null}function d3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;mb(i,s,u),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;mb(i,s,u),a=c}}}if(cd)throw e=cm,cd=!1,cm=null,e}function Je(e,t){var r=t[xm];r===void 0&&(r=t[xm]=new Set);var n=e+"__bubble";r.has(n)||(f3(t,e,2,!1),r.add(n))}function Dp(e,t,r){var n=0;t&&(n|=4),f3(r,e,n,t)}var tu="_reactListening"+Math.random().toString(36).slice(2);function Il(e){if(!e[tu]){e[tu]=!0,xj.forEach(function(r){r!=="selectionchange"&&(tT.has(r)||Dp(r,!1,e),Dp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tu]||(t[tu]=!0,Dp("selectionchange",!1,t))}}function f3(e,t,r,n){switch(Gj(t)){case 1:var i=mP;break;case 4:i=gP;break;default:i=Py}r=i.bind(null,t,r,e),i=void 0,!lm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Mp(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=wa(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}Mj(function(){var u=a,d=ky(r),f=[];e:{var h=u3.get(e);if(h!==void 0){var m=Ay,g=e;switch(e){case"keypress":if(Bu(r)===0)break e;case"keydown":case"keyup":m=TP;break;case"focusin":g="focus",m=Cp;break;case"focusout":g="blur",m=Cp;break;case"beforeblur":case"afterblur":m=Cp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=DP;break;case o3:case s3:case l3:m=_P;break;case c3:m=$P;break;case"scroll":m=yP;break;case"wheel":m=IP;break;case"copy":case"cut":case"paste":m=SP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ab}var v=(t&4)!==0,y=!v&&e==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,p!==null&&(_=Al(x,p),_!=null&&v.push(Bl(x,_,w)))),y)break;x=x.return}0<v.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==om&&(g=r.relatedTarget||r.fromElement)&&(wa(g)||g[li]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?wa(g):null,g!==null&&(y=io(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=nb,_="onMouseLeave",p="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=ab,_="onPointerLeave",p="onPointerEnter",x="pointer"),y=m==null?h:No(m),w=g==null?h:No(g),h=new v(_,x+"leave",m,r,d),h.target=y,h.relatedTarget=w,_=null,wa(d)===u&&(v=new v(p,x+"enter",g,r,d),v.target=w,v.relatedTarget=y,_=v),y=_,m&&g)t:{for(v=m,p=g,x=0,w=v;w;w=fo(w))x++;for(w=0,_=p;_;_=fo(_))w++;for(;0<x-w;)v=fo(v),x--;for(;0<w-x;)p=fo(p),w--;for(;x--;){if(v===p||p!==null&&v===p.alternate)break t;v=fo(v),p=fo(p)}v=null}else v=null;m!==null&&gb(f,h,m,v,!1),g!==null&&y!==null&&gb(f,y,g,v,!0)}}e:{if(h=u?No(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=qP;else if(lb(h))if(t3)j=GP;else{j=KP;var k=VP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=YP);if(j&&(j=j(e,u))){e3(f,j,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&tm(h,"number",h.value)}switch(k=u?No(u):window,e){case"focusin":(lb(k)||k.contentEditable==="true")&&(jo=k,hm=u,wl=null);break;case"focusout":wl=hm=jo=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,hb(f,r,d);break;case"selectionchange":if(JP)break;case"keydown":case"keyup":hb(f,r,d)}var P;if(Dy)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else _o?Jj(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Qj&&r.locale!=="ko"&&(_o||A!=="onCompositionStart"?A==="onCompositionEnd"&&_o&&(P=Xj()):(Li=d,Ty="value"in Li?Li.value:Li.textContent,_o=!0)),k=pd(u,A),0<k.length&&(A=new ib(A,e,null,r,d),f.push({event:A,listeners:k}),P?A.data=P:(P=Zj(r),P!==null&&(A.data=P)))),(P=FP?zP(e,r):UP(e,r))&&(u=pd(u,"onBeforeInput"),0<u.length&&(d=new ib("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}d3(f,t)})}function Bl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Al(e,r),a!=null&&n.unshift(Bl(e,a,i)),a=Al(e,t),a!=null&&n.push(Bl(e,a,i))),e=e.return}return n}function fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gb(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&u!==null&&(s=u,i?(c=Al(r,a),c!=null&&o.unshift(Bl(r,c,s))):i||(c=Al(r,a),c!=null&&o.push(Bl(r,c,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var rT=/\r\n?/g,nT=/\u0000|\uFFFD/g;function yb(e){return(typeof e=="string"?e:""+e).replace(rT,`
`).replace(nT,"")}function ru(e,t,r){if(t=yb(t),yb(e)!==t&&r)throw Error(re(425))}function md(){}var mm=null,gm=null;function ym(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,vb=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof vb<"u"?function(e){return vb.resolve(null).then(e).catch(oT)}:vm;function oT(e){setTimeout(function(){throw e})}function $p(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ml(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ml(t)}function Hi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Dn="__reactFiber$"+bs,Fl="__reactProps$"+bs,li="__reactContainer$"+bs,xm="__reactEvents$"+bs,sT="__reactListeners$"+bs,lT="__reactHandles$"+bs;function wa(e){var t=e[Dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[li]||r[Dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xb(e);e!==null;){if(r=e[Dn])return r;e=xb(e)}return t}e=r,r=e.parentNode}return null}function pc(e){return e=e[Dn]||e[li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function No(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function Lf(e){return e[Fl]||null}var bm=[],ko=-1;function ia(e){return{current:e}}function et(e){0>ko||(e.current=bm[ko],bm[ko]=null,ko--)}function Xe(e,t){ko++,bm[ko]=e.current,e.current=t}var ea={},er=ia(ea),_r=ia(!1),za=ea;function Yo(e,t){var r=e.type.contextTypes;if(!r)return ea;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function jr(e){return e=e.childContextTypes,e!=null}function gd(){et(_r),et(er)}function bb(e,t,r){if(er.current!==ea)throw Error(re(168));Xe(er,t),Xe(_r,r)}function h3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(re(108,VO(e)||"Unknown",i));return ot({},r,n)}function yd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ea,za=er.current,Xe(er,e),Xe(_r,_r.current),!0}function wb(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=h3(e,t,za),n.__reactInternalMemoizedMergedChildContext=e,et(_r),et(er),Xe(er,e)):et(_r),Xe(_r,r)}var Xn=null,If=!1,Lp=!1;function p3(e){Xn===null?Xn=[e]:Xn.push(e)}function cT(e){If=!0,p3(e)}function aa(){if(!Lp&&Xn!==null){Lp=!0;var e=0,t=Be;try{var r=Xn;for(Be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xn=null,If=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(e+1)),Bj(Ey,aa),i}finally{Be=t,Lp=!1}}return null}var Eo=[],Co=0,vd=null,xd=0,Xr=[],Qr=0,Ua=null,Zn=1,ei="";function ma(e,t){Eo[Co++]=xd,Eo[Co++]=vd,vd=e,xd=t}function m3(e,t,r){Xr[Qr++]=Zn,Xr[Qr++]=ei,Xr[Qr++]=Ua,Ua=e;var n=Zn;e=ei;var i=32-jn(n)-1;n&=~(1<<i),r+=1;var a=32-jn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Zn=1<<32-jn(t)+i|r<<i|n,ei=a+e}else Zn=1<<a|r<<i|n,ei=e}function $y(e){e.return!==null&&(ma(e,1),m3(e,1,0))}function Ly(e){for(;e===vd;)vd=Eo[--Co],Eo[Co]=null,xd=Eo[--Co],Eo[Co]=null;for(;e===Ua;)Ua=Xr[--Qr],Xr[Qr]=null,ei=Xr[--Qr],Xr[Qr]=null,Zn=Xr[--Qr],Xr[Qr]=null}var Mr=null,Dr=null,tt=!1,xn=null;function g3(e,t){var r=en(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _b(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,Dr=Hi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,Dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ua!==null?{id:Zn,overflow:ei}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=en(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mr=e,Dr=null,!0):!1;default:return!1}}function wm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _m(e){if(tt){var t=Dr;if(t){var r=t;if(!_b(e,t)){if(wm(e))throw Error(re(418));t=Hi(r.nextSibling);var n=Mr;t&&_b(e,t)?g3(n,r):(e.flags=e.flags&-4097|2,tt=!1,Mr=e)}}else{if(wm(e))throw Error(re(418));e.flags=e.flags&-4097|2,tt=!1,Mr=e}}}function jb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function nu(e){if(e!==Mr)return!1;if(!tt)return jb(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ym(e.type,e.memoizedProps)),t&&(t=Dr)){if(wm(e))throw y3(),Error(re(418));for(;t;)g3(e,t),t=Hi(t.nextSibling)}if(jb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dr=Hi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dr=null}}else Dr=Mr?Hi(e.stateNode.nextSibling):null;return!0}function y3(){for(var e=Dr;e;)e=Hi(e.nextSibling)}function Go(){Dr=Mr=null,tt=!1}function Iy(e){xn===null?xn=[e]:xn.push(e)}var uT=xi.ReactCurrentBatchConfig;function Hs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function iu(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sb(e){var t=e._init;return t(e._payload)}function v3(e){function t(p,x){if(e){var w=p.deletions;w===null?(p.deletions=[x],p.flags|=16):w.push(x)}}function r(p,x){if(!e)return null;for(;x!==null;)t(p,x),x=x.sibling;return null}function n(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function i(p,x){return p=Yi(p,x),p.index=0,p.sibling=null,p}function a(p,x,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<x?(p.flags|=2,x):w):(p.flags|=2,x)):(p.flags|=1048576,x)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,x,w,_){return x===null||x.tag!==6?(x=Hp(w,p.mode,_),x.return=p,x):(x=i(x,w),x.return=p,x)}function c(p,x,w,_){var j=w.type;return j===wo?d(p,x,w.props.children,_,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pi&&Sb(j)===x.type)?(_=i(x,w.props),_.ref=Hs(p,x,w),_.return=p,_):(_=Vu(w.type,w.key,w.props,null,p.mode,_),_.ref=Hs(p,x,w),_.return=p,_)}function u(p,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=qp(w,p.mode,_),x.return=p,x):(x=i(x,w.children||[]),x.return=p,x)}function d(p,x,w,_,j){return x===null||x.tag!==7?(x=Aa(w,p.mode,_,j),x.return=p,x):(x=i(x,w),x.return=p,x)}function f(p,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Hp(""+x,p.mode,w),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kc:return w=Vu(x.type,x.key,x.props,null,p.mode,w),w.ref=Hs(p,null,x),w.return=p,w;case bo:return x=qp(x,p.mode,w),x.return=p,x;case Pi:var _=x._init;return f(p,_(x._payload),w)}if(cl(x)||Bs(x))return x=Aa(x,p.mode,w,null),x.return=p,x;iu(p,x)}return null}function h(p,x,w,_){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:s(p,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kc:return w.key===j?c(p,x,w,_):null;case bo:return w.key===j?u(p,x,w,_):null;case Pi:return j=w._init,h(p,x,j(w._payload),_)}if(cl(w)||Bs(w))return j!==null?null:d(p,x,w,_,null);iu(p,w)}return null}function m(p,x,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(w)||null,s(x,p,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kc:return p=p.get(_.key===null?w:_.key)||null,c(x,p,_,j);case bo:return p=p.get(_.key===null?w:_.key)||null,u(x,p,_,j);case Pi:var k=_._init;return m(p,x,w,k(_._payload),j)}if(cl(_)||Bs(_))return p=p.get(w)||null,d(x,p,_,j,null);iu(x,_)}return null}function g(p,x,w,_){for(var j=null,k=null,P=x,A=x=0,M=null;P!==null&&A<w.length;A++){P.index>A?(M=P,P=null):M=P.sibling;var R=h(p,P,w[A],_);if(R===null){P===null&&(P=M);break}e&&P&&R.alternate===null&&t(p,P),x=a(R,x,A),k===null?j=R:k.sibling=R,k=R,P=M}if(A===w.length)return r(p,P),tt&&ma(p,A),j;if(P===null){for(;A<w.length;A++)P=f(p,w[A],_),P!==null&&(x=a(P,x,A),k===null?j=P:k.sibling=P,k=P);return tt&&ma(p,A),j}for(P=n(p,P);A<w.length;A++)M=m(P,p,A,w[A],_),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?A:M.key),x=a(M,x,A),k===null?j=M:k.sibling=M,k=M);return e&&P.forEach(function(L){return t(p,L)}),tt&&ma(p,A),j}function v(p,x,w,_){var j=Bs(w);if(typeof j!="function")throw Error(re(150));if(w=j.call(w),w==null)throw Error(re(151));for(var k=j=null,P=x,A=x=0,M=null,R=w.next();P!==null&&!R.done;A++,R=w.next()){P.index>A?(M=P,P=null):M=P.sibling;var L=h(p,P,R.value,_);if(L===null){P===null&&(P=M);break}e&&P&&L.alternate===null&&t(p,P),x=a(L,x,A),k===null?j=L:k.sibling=L,k=L,P=M}if(R.done)return r(p,P),tt&&ma(p,A),j;if(P===null){for(;!R.done;A++,R=w.next())R=f(p,R.value,_),R!==null&&(x=a(R,x,A),k===null?j=R:k.sibling=R,k=R);return tt&&ma(p,A),j}for(P=n(p,P);!R.done;A++,R=w.next())R=m(P,p,A,R.value,_),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?A:R.key),x=a(R,x,A),k===null?j=R:k.sibling=R,k=R);return e&&P.forEach(function(U){return t(p,U)}),tt&&ma(p,A),j}function y(p,x,w,_){if(typeof w=="object"&&w!==null&&w.type===wo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kc:e:{for(var j=w.key,k=x;k!==null;){if(k.key===j){if(j=w.type,j===wo){if(k.tag===7){r(p,k.sibling),x=i(k,w.props.children),x.return=p,p=x;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pi&&Sb(j)===k.type){r(p,k.sibling),x=i(k,w.props),x.ref=Hs(p,k,w),x.return=p,p=x;break e}r(p,k);break}else t(p,k);k=k.sibling}w.type===wo?(x=Aa(w.props.children,p.mode,_,w.key),x.return=p,p=x):(_=Vu(w.type,w.key,w.props,null,p.mode,_),_.ref=Hs(p,x,w),_.return=p,p=_)}return o(p);case bo:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(p,x.sibling),x=i(x,w.children||[]),x.return=p,p=x;break e}else{r(p,x);break}else t(p,x);x=x.sibling}x=qp(w,p.mode,_),x.return=p,p=x}return o(p);case Pi:return k=w._init,y(p,x,k(w._payload),_)}if(cl(w))return g(p,x,w,_);if(Bs(w))return v(p,x,w,_);iu(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(p,x.sibling),x=i(x,w),x.return=p,p=x):(r(p,x),x=Hp(w,p.mode,_),x.return=p,p=x),o(p)):r(p,x)}return y}var Xo=v3(!0),x3=v3(!1),bd=ia(null),wd=null,Oo=null,By=null;function Fy(){By=Oo=wd=null}function zy(e){var t=bd.current;et(bd),e._currentValue=t}function jm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fo(e,t){wd=e,By=Oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(By!==e)if(e={context:e,memoizedValue:t,next:null},Oo===null){if(wd===null)throw Error(re(308));Oo=e,wd.dependencies={lanes:0,firstContext:e}}else Oo=Oo.next=e;return t}var _a=null;function Uy(e){_a===null?_a=[e]:_a.push(e)}function b3(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Uy(t)):(r.next=i.next,i.next=r),t.interleaved=r,ci(e,n)}function ci(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ti=!1;function Wy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ci(e,r)}return i=n.interleaved,i===null?(t.next=t,Uy(n)):(t.next=i.next,i.next=t),n.interleaved=t,ci(e,r)}function Fu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cy(e,r)}}function Nb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _d(e,t,r,n){var i=e.updateQueue;Ti=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,s=a;do{var h=s.lane,m=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,v=s;switch(h=t,m=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=ot({},f,h);break e;case 2:Ti=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ha|=o,e.lanes=o,e.memoizedState=f}}function kb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var mc={},In=ia(mc),zl=ia(mc),Ul=ia(mc);function ja(e){if(e===mc)throw Error(re(174));return e}function Hy(e,t){switch(Xe(Ul,t),Xe(zl,e),Xe(In,mc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nm(t,e)}et(In),Xe(In,t)}function Qo(){et(In),et(zl),et(Ul)}function _3(e){ja(Ul.current);var t=ja(In.current),r=nm(t,e.type);t!==r&&(Xe(zl,e),Xe(In,r))}function qy(e){zl.current===e&&(et(In),et(zl))}var it=ia(0);function jd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ip=[];function Vy(){for(var e=0;e<Ip.length;e++)Ip[e]._workInProgressVersionPrimary=null;Ip.length=0}var zu=xi.ReactCurrentDispatcher,Bp=xi.ReactCurrentBatchConfig,Wa=0,at=null,wt=null,Pt=null,Sd=!1,_l=!1,Wl=0,dT=0;function qt(){throw Error(re(321))}function Ky(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function Yy(e,t,r,n,i,a){if(Wa=a,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zu.current=e===null||e.memoizedState===null?mT:gT,e=r(n,i),_l){a=0;do{if(_l=!1,Wl=0,25<=a)throw Error(re(301));a+=1,Pt=wt=null,t.updateQueue=null,zu.current=yT,e=r(n,i)}while(_l)}if(zu.current=Nd,t=wt!==null&&wt.next!==null,Wa=0,Pt=wt=at=null,Sd=!1,t)throw Error(re(300));return e}function Gy(){var e=Wl!==0;return Wl=0,e}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?at.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function an(){if(wt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Pt===null?at.memoizedState:Pt.next;if(t!==null)Pt=t,wt=e;else{if(e===null)throw Error(re(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Pt===null?at.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Hl(e,t){return typeof t=="function"?t(e):t}function Fp(e){var t=an(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=wt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,c=null,u=a;do{var d=u.lane;if((Wa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,o=n):c=c.next=f,at.lanes|=d,Ha|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=s,Nn(n,t.memoizedState)||(xr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,at.lanes|=a,Ha|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zp(e){var t=an(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Nn(a,t.memoizedState)||(xr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function j3(){}function S3(e,t){var r=at,n=an(),i=t(),a=!Nn(n.memoizedState,i);if(a&&(n.memoizedState=i,xr=!0),n=n.queue,Xy(E3.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Pt!==null&&Pt.memoizedState.tag&1){if(r.flags|=2048,ql(9,k3.bind(null,r,n,i,t),void 0,null),Tt===null)throw Error(re(349));Wa&30||N3(r,t,i)}return i}function N3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function k3(e,t,r,n){t.value=r,t.getSnapshot=n,C3(t)&&O3(e)}function E3(e,t,r){return r(function(){C3(t)&&O3(e)})}function C3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nn(e,r)}catch{return!0}}function O3(e){var t=ci(e,1);t!==null&&Sn(t,e,1,-1)}function Eb(e){var t=An();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:e},t.queue=e,e=e.dispatch=pT.bind(null,at,e),[t.memoizedState,e]}function ql(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function P3(){return an().memoizedState}function Uu(e,t,r,n){var i=An();at.flags|=e,i.memoizedState=ql(1|t,r,void 0,n===void 0?null:n)}function Bf(e,t,r,n){var i=an();n=n===void 0?null:n;var a=void 0;if(wt!==null){var o=wt.memoizedState;if(a=o.destroy,n!==null&&Ky(n,o.deps)){i.memoizedState=ql(t,r,a,n);return}}at.flags|=e,i.memoizedState=ql(1|t,r,a,n)}function Cb(e,t){return Uu(8390656,8,e,t)}function Xy(e,t){return Bf(2048,8,e,t)}function T3(e,t){return Bf(4,2,e,t)}function A3(e,t){return Bf(4,4,e,t)}function R3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D3(e,t,r){return r=r!=null?r.concat([e]):null,Bf(4,4,R3.bind(null,t,e),r)}function Qy(){}function M3(e,t){var r=an();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ky(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $3(e,t){var r=an();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ky(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function L3(e,t,r){return Wa&21?(Nn(r,t)||(r=Uj(),at.lanes|=r,Ha|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=r)}function fT(e,t){var r=Be;Be=r!==0&&4>r?r:4,e(!0);var n=Bp.transition;Bp.transition={};try{e(!1),t()}finally{Be=r,Bp.transition=n}}function I3(){return an().memoizedState}function hT(e,t,r){var n=Ki(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B3(e))F3(t,r);else if(r=b3(e,t,r,n),r!==null){var i=ur();Sn(r,e,n,i),z3(r,t,n)}}function pT(e,t,r){var n=Ki(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B3(e))F3(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Nn(s,o)){var c=t.interleaved;c===null?(i.next=i,Uy(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=b3(e,t,i,n),r!==null&&(i=ur(),Sn(r,e,n,i),z3(r,t,n))}}function B3(e){var t=e.alternate;return e===at||t!==null&&t===at}function F3(e,t){_l=Sd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function z3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cy(e,r)}}var Nd={readContext:nn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},mT={readContext:nn,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:Cb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Uu(4194308,4,R3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Uu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uu(4,2,e,t)},useMemo:function(e,t){var r=An();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=An();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hT.bind(null,at,e),[n.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:Eb,useDebugValue:Qy,useDeferredValue:function(e){return An().memoizedState=e},useTransition:function(){var e=Eb(!1),t=e[0];return e=fT.bind(null,e[1]),An().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=at,i=An();if(tt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),Tt===null)throw Error(re(349));Wa&30||N3(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Cb(E3.bind(null,n,a,e),[e]),n.flags|=2048,ql(9,k3.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=An(),t=Tt.identifierPrefix;if(tt){var r=ei,n=Zn;r=(n&~(1<<32-jn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gT={readContext:nn,useCallback:M3,useContext:nn,useEffect:Xy,useImperativeHandle:D3,useInsertionEffect:T3,useLayoutEffect:A3,useMemo:$3,useReducer:Fp,useRef:P3,useState:function(){return Fp(Hl)},useDebugValue:Qy,useDeferredValue:function(e){var t=an();return L3(t,wt.memoizedState,e)},useTransition:function(){var e=Fp(Hl)[0],t=an().memoizedState;return[e,t]},useMutableSource:j3,useSyncExternalStore:S3,useId:I3,unstable_isNewReconciler:!1},yT={readContext:nn,useCallback:M3,useContext:nn,useEffect:Xy,useImperativeHandle:D3,useInsertionEffect:T3,useLayoutEffect:A3,useMemo:$3,useReducer:zp,useRef:P3,useState:function(){return zp(Hl)},useDebugValue:Qy,useDeferredValue:function(e){var t=an();return wt===null?t.memoizedState=e:L3(t,wt.memoizedState,e)},useTransition:function(){var e=zp(Hl)[0],t=an().memoizedState;return[e,t]},useMutableSource:j3,useSyncExternalStore:S3,useId:I3,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ff={isMounted:function(e){return(e=e._reactInternals)?io(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ur(),i=Ki(e),a=ni(n,i);a.payload=t,r!=null&&(a.callback=r),t=qi(e,a,i),t!==null&&(Sn(t,e,i,n),Fu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ur(),i=Ki(e),a=ni(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=qi(e,a,i),t!==null&&(Sn(t,e,i,n),Fu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ur(),n=Ki(e),i=ni(r,n);i.tag=2,t!=null&&(i.callback=t),t=qi(e,i,n),t!==null&&(Sn(t,e,n,r),Fu(t,e,n))}};function Ob(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ll(r,n)||!Ll(i,a):!0}function U3(e,t,r){var n=!1,i=ea,a=t.contextType;return typeof a=="object"&&a!==null?a=nn(a):(i=jr(t)?za:er.current,n=t.contextTypes,a=(n=n!=null)?Yo(e,i):ea),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ff,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Pb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ff.enqueueReplaceState(t,t.state,null)}function Nm(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Wy(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=nn(a):(a=jr(t)?za:er.current,i.context=Yo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Sm(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ff.enqueueReplaceState(i,i.state,null),_d(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Jo(e,t){try{var r="",n=t;do r+=qO(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Up(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function km(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vT=typeof WeakMap=="function"?WeakMap:Map;function W3(e,t,r){r=ni(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ed||(Ed=!0,$m=n),km(e,t)},r}function H3(e,t,r){r=ni(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){km(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){km(e,t),typeof n!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Tb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vT;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=AT.bind(null,e,t,r),t.then(e,e))}function Ab(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rb(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ni(-1,1),t.tag=2,qi(r,t,1))),r.lanes|=1),e)}var xT=xi.ReactCurrentOwner,xr=!1;function ir(e,t,r,n){t.child=e===null?x3(t,null,r,n):Xo(t,e.child,r,n)}function Db(e,t,r,n,i){r=r.render;var a=t.ref;return Fo(t,i),n=Yy(e,t,r,n,a,i),r=Gy(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ui(e,t,i)):(tt&&r&&$y(t),t.flags|=1,ir(e,t,n,i),t.child)}function Mb(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!av(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,q3(e,t,a,n,i)):(e=Vu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ll,r(o,n)&&e.ref===t.ref)return ui(e,t,i)}return t.flags|=1,e=Yi(a,n),e.ref=t.ref,e.return=t,t.child=e}function q3(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Ll(a,n)&&e.ref===t.ref)if(xr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,ui(e,t,i)}return Em(e,t,r,n,i)}function V3(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(To,Tr),Tr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(To,Tr),Tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Xe(To,Tr),Tr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Xe(To,Tr),Tr|=n;return ir(e,t,i,r),t.child}function K3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Em(e,t,r,n,i){var a=jr(r)?za:er.current;return a=Yo(t,a),Fo(t,i),r=Yy(e,t,r,n,a,i),n=Gy(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ui(e,t,i)):(tt&&n&&$y(t),t.flags|=1,ir(e,t,r,i),t.child)}function $b(e,t,r,n,i){if(jr(r)){var a=!0;yd(t)}else a=!1;if(Fo(t,i),t.stateNode===null)Wu(e,t),U3(t,r,n),Nm(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=jr(r)?za:er.current,u=Yo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==u)&&Pb(t,o,n,u),Ti=!1;var h=t.memoizedState;o.state=h,_d(t,n,o,i),c=t.memoizedState,s!==n||h!==c||_r.current||Ti?(typeof d=="function"&&(Sm(t,r,d,n),c=t.memoizedState),(s=Ti||Ob(t,r,s,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,w3(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:gn(t.type,s),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=nn(c):(c=jr(r)?za:er.current,c=Yo(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&Pb(t,o,n,c),Ti=!1,h=t.memoizedState,o.state=h,_d(t,n,o,i);var g=t.memoizedState;s!==f||h!==g||_r.current||Ti?(typeof m=="function"&&(Sm(t,r,m,n),g=t.memoizedState),(u=Ti||Ob(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Cm(e,t,r,n,a,i)}function Cm(e,t,r,n,i,a){K3(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&wb(t,r,!1),ui(e,t,a);n=t.stateNode,xT.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xo(t,e.child,null,a),t.child=Xo(t,null,s,a)):ir(e,t,s,a),t.memoizedState=n.state,i&&wb(t,r,!0),t.child}function Y3(e){var t=e.stateNode;t.pendingContext?bb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bb(e,t.context,!1),Hy(e,t.containerInfo)}function Lb(e,t,r,n,i){return Go(),Iy(i),t.flags|=256,ir(e,t,r,n),t.child}var Om={dehydrated:null,treeContext:null,retryLane:0};function Pm(e){return{baseLanes:e,cachePool:null,transitions:null}}function G3(e,t,r){var n=t.pendingProps,i=it.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xe(it,i&1),e===null)return _m(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Wf(o,n,0,null),e=Aa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Pm(r),t.memoizedState=Om,e):Jy(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return bT(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Yi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Yi(s,a):(a=Aa(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Pm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Om,n}return a=e.child,e=a.sibling,n=Yi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jy(e,t){return t=Wf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function au(e,t,r,n){return n!==null&&Iy(n),Xo(t,e.child,null,r),e=Jy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bT(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Up(Error(re(422))),au(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Wf({mode:"visible",children:n.children},i,0,null),a=Aa(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Xo(t,e.child,null,o),t.child.memoizedState=Pm(o),t.memoizedState=Om,a);if(!(t.mode&1))return au(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(re(419)),n=Up(a,n,void 0),au(e,t,o,n)}if(s=(o&e.childLanes)!==0,xr||s){if(n=Tt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ci(e,i),Sn(n,e,i,-1))}return iv(),n=Up(Error(re(421))),au(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=RT.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Dr=Hi(i.nextSibling),Mr=t,tt=!0,xn=null,e!==null&&(Xr[Qr++]=Zn,Xr[Qr++]=ei,Xr[Qr++]=Ua,Zn=e.id,ei=e.overflow,Ua=t),t=Jy(t,n.children),t.flags|=4096,t)}function Ib(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jm(e.return,t,r)}function Wp(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function X3(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ir(e,t,n.children,r),n=it.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ib(e,r,t);else if(e.tag===19)Ib(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Xe(it,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&jd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Wp(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Wp(t,!0,r,null,a);break;case"together":Wp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ui(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ha|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=Yi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wT(e,t,r){switch(t.tag){case 3:Y3(t),Go();break;case 5:_3(t);break;case 1:jr(t.type)&&yd(t);break;case 4:Hy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Xe(bd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Xe(it,it.current&1),t.flags|=128,null):r&t.child.childLanes?G3(e,t,r):(Xe(it,it.current&1),e=ui(e,t,r),e!==null?e.sibling:null);Xe(it,it.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return X3(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(it,it.current),n)break;return null;case 22:case 23:return t.lanes=0,V3(e,t,r)}return ui(e,t,r)}var Q3,Tm,J3,Z3;Q3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tm=function(){};J3=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ja(In.current);var a=null;switch(r){case"input":i=Z0(e,i),n=Z0(e,n),a=[];break;case"select":i=ot({},i,{value:void 0}),n=ot({},n,{value:void 0}),a=[];break;case"textarea":i=rm(e,i),n=rm(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=md)}im(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Je("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Z3=function(e,t,r,n){r!==n&&(t.flags|=4)};function qs(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _T(e,t,r){var n=t.pendingProps;switch(Ly(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return jr(t.type)&&gd(),Vt(t),null;case 3:return n=t.stateNode,Qo(),et(_r),et(er),Vy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(Bm(xn),xn=null))),Tm(e,t),Vt(t),null;case 5:qy(t);var i=ja(Ul.current);if(r=t.type,e!==null&&t.stateNode!=null)J3(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return Vt(t),null}if(e=ja(In.current),nu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Dn]=t,n[Fl]=a,e=(t.mode&1)!==0,r){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(i=0;i<dl.length;i++)Je(dl[i],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":K1(n,a),Je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Je("invalid",n);break;case"textarea":G1(n,a),Je("invalid",n)}im(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&ru(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&ru(n.textContent,s,e),i=["children",""+s]):Pl.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Je("scroll",n)}switch(r){case"input":Yc(n),Y1(n,a,!0);break;case"textarea":Yc(n),X1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=md)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ej(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Dn]=t,e[Fl]=n,Q3(e,t,!1,!1),t.stateNode=e;e:{switch(o=am(r,n),r){case"dialog":Je("cancel",e),Je("close",e),i=n;break;case"iframe":case"object":case"embed":Je("load",e),i=n;break;case"video":case"audio":for(i=0;i<dl.length;i++)Je(dl[i],e);i=n;break;case"source":Je("error",e),i=n;break;case"img":case"image":case"link":Je("error",e),Je("load",e),i=n;break;case"details":Je("toggle",e),i=n;break;case"input":K1(e,n),i=Z0(e,n),Je("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ot({},n,{value:void 0}),Je("invalid",e);break;case"textarea":G1(e,n),i=rm(e,n),Je("invalid",e);break;default:i=n}im(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?Pj(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cj(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Tl(e,c):typeof c=="number"&&Tl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Je("scroll",e):c!=null&&_y(e,a,c,o))}switch(r){case"input":Yc(e),Y1(e,n,!1);break;case"textarea":Yc(e),X1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?$o(e,!!n.multiple,a,!1):n.defaultValue!=null&&$o(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=md)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)Z3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=ja(Ul.current),ja(In.current),nu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Dn]=t,(a=n.nodeValue!==r)&&(e=Mr,e!==null))switch(e.tag){case 3:ru(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ru(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dn]=t,t.stateNode=n}return Vt(t),null;case 13:if(et(it),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&Dr!==null&&t.mode&1&&!(t.flags&128))y3(),Go(),t.flags|=98560,a=!1;else if(a=nu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(re(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[Dn]=t}else Go(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),a=!1}else xn!==null&&(Bm(xn),xn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?jt===0&&(jt=3):iv())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return Qo(),Tm(e,t),e===null&&Il(t.stateNode.containerInfo),Vt(t),null;case 10:return zy(t.type._context),Vt(t),null;case 17:return jr(t.type)&&gd(),Vt(t),null;case 19:if(et(it),a=t.memoizedState,a===null)return Vt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)qs(a,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jd(e),o!==null){for(t.flags|=128,qs(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xe(it,it.current&1|2),t.child}e=e.sibling}a.tail!==null&&ft()>Zo&&(t.flags|=128,n=!0,qs(a,!1),t.lanes=4194304)}else{if(!n)if(e=jd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!tt)return Vt(t),null}else 2*ft()-a.renderingStartTime>Zo&&r!==1073741824&&(t.flags|=128,n=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ft(),t.sibling=null,r=it.current,Xe(it,n?r&1|2:r&1),t):(Vt(t),null);case 22:case 23:return nv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Tr&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function jT(e,t){switch(Ly(t),t.tag){case 1:return jr(t.type)&&gd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qo(),et(_r),et(er),Vy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qy(t),null;case 13:if(et(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(it),null;case 4:return Qo(),null;case 10:return zy(t.type._context),null;case 22:case 23:return nv(),null;case 24:return null;default:return null}}var ou=!1,Qt=!1,ST=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Po(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lt(e,t,n)}else r.current=null}function Am(e,t,r){try{r()}catch(n){lt(e,t,n)}}var Bb=!1;function NT(e,t){if(mm=fd,e=i3(),My(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(s=o),h===a&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(gm={focusedElem:e,selectionRange:r},fd=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,p=t.stateNode,x=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:gn(t.type,v),y);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(_){lt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return g=Bb,Bb=!1,g}function jl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Am(t,r,a)}i=i.next}while(i!==n)}}function zf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Rm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function eS(e){var t=e.alternate;t!==null&&(e.alternate=null,eS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dn],delete t[Fl],delete t[xm],delete t[sT],delete t[lT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tS(e){return e.tag===5||e.tag===3||e.tag===4}function Fb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=md));else if(n!==4&&(e=e.child,e!==null))for(Dm(e,t,r),e=e.sibling;e!==null;)Dm(e,t,r),e=e.sibling}function Mm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Mm(e,t,r),e=e.sibling;e!==null;)Mm(e,t,r),e=e.sibling}var Ft=null,yn=!1;function ki(e,t,r){for(r=r.child;r!==null;)rS(e,t,r),r=r.sibling}function rS(e,t,r){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Rf,r)}catch{}switch(r.tag){case 5:Qt||Po(r,t);case 6:var n=Ft,i=yn;Ft=null,ki(e,t,r),Ft=n,yn=i,Ft!==null&&(yn?(e=Ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ft.removeChild(r.stateNode));break;case 18:Ft!==null&&(yn?(e=Ft,r=r.stateNode,e.nodeType===8?$p(e.parentNode,r):e.nodeType===1&&$p(e,r),Ml(e)):$p(Ft,r.stateNode));break;case 4:n=Ft,i=yn,Ft=r.stateNode.containerInfo,yn=!0,ki(e,t,r),Ft=n,yn=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Am(r,t,o),i=i.next}while(i!==n)}ki(e,t,r);break;case 1:if(!Qt&&(Po(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){lt(r,t,s)}ki(e,t,r);break;case 21:ki(e,t,r);break;case 22:r.mode&1?(Qt=(n=Qt)||r.memoizedState!==null,ki(e,t,r),Qt=n):ki(e,t,r);break;default:ki(e,t,r)}}function zb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ST),t.forEach(function(n){var i=DT.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ft=s.stateNode,yn=!1;break e;case 3:Ft=s.stateNode.containerInfo,yn=!0;break e;case 4:Ft=s.stateNode.containerInfo,yn=!0;break e}s=s.return}if(Ft===null)throw Error(re(160));rS(a,o,i),Ft=null,yn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){lt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nS(t,e),t=t.sibling}function nS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),Pn(e),n&4){try{jl(3,e,e.return),zf(3,e)}catch(v){lt(e,e.return,v)}try{jl(5,e,e.return)}catch(v){lt(e,e.return,v)}}break;case 1:pn(t,e),Pn(e),n&512&&r!==null&&Po(r,r.return);break;case 5:if(pn(t,e),Pn(e),n&512&&r!==null&&Po(r,r.return),e.flags&32){var i=e.stateNode;try{Tl(i,"")}catch(v){lt(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Nj(i,a),am(s,o);var u=am(s,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Pj(i,f):d==="dangerouslySetInnerHTML"?Cj(i,f):d==="children"?Tl(i,f):_y(i,d,f,u)}switch(s){case"input":em(i,a);break;case"textarea":kj(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?$o(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?$o(i,!!a.multiple,a.defaultValue,!0):$o(i,!!a.multiple,a.multiple?[]:"",!1))}i[Fl]=a}catch(v){lt(e,e.return,v)}}break;case 6:if(pn(t,e),Pn(e),n&4){if(e.stateNode===null)throw Error(re(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){lt(e,e.return,v)}}break;case 3:if(pn(t,e),Pn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(v){lt(e,e.return,v)}break;case 4:pn(t,e),Pn(e);break;case 13:pn(t,e),Pn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(tv=ft())),n&4&&zb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||d,pn(t,e),Qt=u):pn(t,e),Pn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ce=e,d=e.child;d!==null;){for(f=ce=d;ce!==null;){switch(h=ce,m=h.child,h.tag){case 0:case 11:case 14:case 15:jl(4,h,h.return);break;case 1:Po(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){lt(n,r,v)}}break;case 5:Po(h,h.return);break;case 22:if(h.memoizedState!==null){Wb(f);continue}}m!==null?(m.return=h,ce=m):Wb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=Oj("display",o))}catch(v){lt(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){lt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(t,e),Pn(e),n&4&&zb(e);break;case 21:break;default:pn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tS(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Tl(i,""),n.flags&=-33);var a=Fb(e);Mm(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Fb(e);Dm(e,s,o);break;default:throw Error(re(161))}}catch(c){lt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kT(e,t,r){ce=e,iS(e)}function iS(e,t,r){for(var n=(e.mode&1)!==0;ce!==null;){var i=ce,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ou;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Qt;s=ou;var u=Qt;if(ou=o,(Qt=c)&&!u)for(ce=i;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?Hb(i):c!==null?(c.return=o,ce=c):Hb(i);for(;a!==null;)ce=a,iS(a),a=a.sibling;ce=i,ou=s,Qt=u}Ub(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ce=a):Ub(e)}}function Ub(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||zf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:gn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&kb(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kb(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Qt||t.flags&512&&Rm(t)}catch(h){lt(t,t.return,h)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Wb(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Hb(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zf(4,t)}catch(c){lt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){lt(t,i,c)}}var a=t.return;try{Rm(t)}catch(c){lt(t,a,c)}break;case 5:var o=t.return;try{Rm(t)}catch(c){lt(t,o,c)}}}catch(c){lt(t,t.return,c)}if(t===e){ce=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ce=s;break}ce=t.return}}var ET=Math.ceil,kd=xi.ReactCurrentDispatcher,Zy=xi.ReactCurrentOwner,rn=xi.ReactCurrentBatchConfig,Re=0,Tt=null,gt=null,Wt=0,Tr=0,To=ia(0),jt=0,Vl=null,Ha=0,Uf=0,ev=0,Sl=null,vr=null,tv=0,Zo=1/0,Gn=null,Ed=!1,$m=null,Vi=null,su=!1,Ii=null,Cd=0,Nl=0,Lm=null,Hu=-1,qu=0;function ur(){return Re&6?ft():Hu!==-1?Hu:Hu=ft()}function Ki(e){return e.mode&1?Re&2&&Wt!==0?Wt&-Wt:uT.transition!==null?(qu===0&&(qu=Uj()),qu):(e=Be,e!==0||(e=window.event,e=e===void 0?16:Gj(e.type)),e):1}function Sn(e,t,r,n){if(50<Nl)throw Nl=0,Lm=null,Error(re(185));fc(e,r,n),(!(Re&2)||e!==Tt)&&(e===Tt&&(!(Re&2)&&(Uf|=r),jt===4&&Mi(e,Wt)),Sr(e,n),r===1&&Re===0&&!(t.mode&1)&&(Zo=ft()+500,If&&aa()))}function Sr(e,t){var r=e.callbackNode;uP(e,t);var n=dd(e,e===Tt?Wt:0);if(n===0)r!==null&&Z1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Z1(r),t===1)e.tag===0?cT(qb.bind(null,e)):p3(qb.bind(null,e)),aT(function(){!(Re&6)&&aa()}),r=null;else{switch(Wj(n)){case 1:r=Ey;break;case 4:r=Fj;break;case 16:r=ud;break;case 536870912:r=zj;break;default:r=ud}r=fS(r,aS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function aS(e,t){if(Hu=-1,qu=0,Re&6)throw Error(re(327));var r=e.callbackNode;if(zo()&&e.callbackNode!==r)return null;var n=dd(e,e===Tt?Wt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Od(e,n);else{t=n;var i=Re;Re|=2;var a=sS();(Tt!==e||Wt!==t)&&(Gn=null,Zo=ft()+500,Ta(e,t));do try{PT();break}catch(s){oS(e,s)}while(!0);Fy(),kd.current=a,Re=i,gt!==null?t=0:(Tt=null,Wt=0,t=jt)}if(t!==0){if(t===2&&(i=um(e),i!==0&&(n=i,t=Im(e,i))),t===1)throw r=Vl,Ta(e,0),Mi(e,n),Sr(e,ft()),r;if(t===6)Mi(e,n);else{if(i=e.current.alternate,!(n&30)&&!CT(i)&&(t=Od(e,n),t===2&&(a=um(e),a!==0&&(n=a,t=Im(e,a))),t===1))throw r=Vl,Ta(e,0),Mi(e,n),Sr(e,ft()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:ga(e,vr,Gn);break;case 3:if(Mi(e,n),(n&130023424)===n&&(t=tv+500-ft(),10<t)){if(dd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ur(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vm(ga.bind(null,e,vr,Gn),t);break}ga(e,vr,Gn);break;case 4:if(Mi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-jn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ET(n/1960))-n,10<n){e.timeoutHandle=vm(ga.bind(null,e,vr,Gn),n);break}ga(e,vr,Gn);break;case 5:ga(e,vr,Gn);break;default:throw Error(re(329))}}}return Sr(e,ft()),e.callbackNode===r?aS.bind(null,e):null}function Im(e,t){var r=Sl;return e.current.memoizedState.isDehydrated&&(Ta(e,t).flags|=256),e=Od(e,t),e!==2&&(t=vr,vr=r,t!==null&&Bm(t)),e}function Bm(e){vr===null?vr=e:vr.push.apply(vr,e)}function CT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Nn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mi(e,t){for(t&=~ev,t&=~Uf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jn(t),n=1<<r;e[r]=-1,t&=~n}}function qb(e){if(Re&6)throw Error(re(327));zo();var t=dd(e,0);if(!(t&1))return Sr(e,ft()),null;var r=Od(e,t);if(e.tag!==0&&r===2){var n=um(e);n!==0&&(t=n,r=Im(e,n))}if(r===1)throw r=Vl,Ta(e,0),Mi(e,t),Sr(e,ft()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ga(e,vr,Gn),Sr(e,ft()),null}function rv(e,t){var r=Re;Re|=1;try{return e(t)}finally{Re=r,Re===0&&(Zo=ft()+500,If&&aa())}}function qa(e){Ii!==null&&Ii.tag===0&&!(Re&6)&&zo();var t=Re;Re|=1;var r=rn.transition,n=Be;try{if(rn.transition=null,Be=1,e)return e()}finally{Be=n,rn.transition=r,Re=t,!(Re&6)&&aa()}}function nv(){Tr=To.current,et(To)}function Ta(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,iT(r)),gt!==null)for(r=gt.return;r!==null;){var n=r;switch(Ly(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gd();break;case 3:Qo(),et(_r),et(er),Vy();break;case 5:qy(n);break;case 4:Qo();break;case 13:et(it);break;case 19:et(it);break;case 10:zy(n.type._context);break;case 22:case 23:nv()}r=r.return}if(Tt=e,gt=e=Yi(e.current,null),Wt=Tr=t,jt=0,Vl=null,ev=Uf=Ha=0,vr=Sl=null,_a!==null){for(t=0;t<_a.length;t++)if(r=_a[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}_a=null}return e}function oS(e,t){do{var r=gt;try{if(Fy(),zu.current=Nd,Sd){for(var n=at.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sd=!1}if(Wa=0,Pt=wt=at=null,_l=!1,Wl=0,Zy.current=null,r===null||r.return===null){jt=1,Vl=t,gt=null;break}e:{var a=e,o=r.return,s=r,c=t;if(t=Wt,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ab(o);if(m!==null){m.flags&=-257,Rb(m,o,s,a,t),m.mode&1&&Tb(a,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Tb(a,u,t),iv();break e}c=Error(re(426))}}else if(tt&&s.mode&1){var y=Ab(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Rb(y,o,s,a,t),Iy(Jo(c,s));break e}}a=c=Jo(c,s),jt!==4&&(jt=2),Sl===null?Sl=[a]:Sl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=W3(a,c,t);Nb(a,p);break e;case 1:s=c;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vi===null||!Vi.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=H3(a,s,t);Nb(a,_);break e}}a=a.return}while(a!==null)}cS(r)}catch(j){t=j,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(!0)}function sS(){var e=kd.current;return kd.current=Nd,e===null?Nd:e}function iv(){(jt===0||jt===3||jt===2)&&(jt=4),Tt===null||!(Ha&268435455)&&!(Uf&268435455)||Mi(Tt,Wt)}function Od(e,t){var r=Re;Re|=2;var n=sS();(Tt!==e||Wt!==t)&&(Gn=null,Ta(e,t));do try{OT();break}catch(i){oS(e,i)}while(!0);if(Fy(),Re=r,kd.current=n,gt!==null)throw Error(re(261));return Tt=null,Wt=0,jt}function OT(){for(;gt!==null;)lS(gt)}function PT(){for(;gt!==null&&!tP();)lS(gt)}function lS(e){var t=dS(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?cS(e):gt=t,Zy.current=null}function cS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jT(r,t),r!==null){r.flags&=32767,gt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,gt=null;return}}else if(r=_T(r,t,Tr),r!==null){gt=r;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);jt===0&&(jt=5)}function ga(e,t,r){var n=Be,i=rn.transition;try{rn.transition=null,Be=1,TT(e,t,r,n)}finally{rn.transition=i,Be=n}return null}function TT(e,t,r,n){do zo();while(Ii!==null);if(Re&6)throw Error(re(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(dP(e,a),e===Tt&&(gt=Tt=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||su||(su=!0,fS(ud,function(){return zo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=rn.transition,rn.transition=null;var o=Be;Be=1;var s=Re;Re|=4,Zy.current=null,NT(e,r),nS(r,e),QP(gm),fd=!!mm,gm=mm=null,e.current=r,kT(r),rP(),Re=s,Be=o,rn.transition=a}else e.current=r;if(su&&(su=!1,Ii=e,Cd=i),a=e.pendingLanes,a===0&&(Vi=null),aP(r.stateNode),Sr(e,ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ed)throw Ed=!1,e=$m,$m=null,e;return Cd&1&&e.tag!==0&&zo(),a=e.pendingLanes,a&1?e===Lm?Nl++:(Nl=0,Lm=e):Nl=0,aa(),null}function zo(){if(Ii!==null){var e=Wj(Cd),t=rn.transition,r=Be;try{if(rn.transition=null,Be=16>e?16:e,Ii===null)var n=!1;else{if(e=Ii,Ii=null,Cd=0,Re&6)throw Error(re(331));var i=Re;for(Re|=4,ce=e.current;ce!==null;){var a=ce,o=a.child;if(ce.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:jl(8,d,a)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var h=d.sibling,m=d.return;if(eS(d),d===u){ce=null;break}if(h!==null){h.return=m,ce=h;break}ce=m}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}ce=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ce=o;else e:for(;ce!==null;){if(a=ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:jl(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,ce=p;break e}ce=a.return}}var x=e.current;for(ce=x;ce!==null;){o=ce;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ce=w;else e:for(o=x;ce!==null;){if(s=ce,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:zf(9,s)}}catch(j){lt(s,s.return,j)}if(s===o){ce=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,ce=_;break e}ce=s.return}}if(Re=i,aa(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Rf,e)}catch{}n=!0}return n}finally{Be=r,rn.transition=t}}return!1}function Vb(e,t,r){t=Jo(r,t),t=W3(e,t,1),e=qi(e,t,1),t=ur(),e!==null&&(fc(e,1,t),Sr(e,t))}function lt(e,t,r){if(e.tag===3)Vb(e,e,r);else for(;t!==null;){if(t.tag===3){Vb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vi===null||!Vi.has(n))){e=Jo(r,e),e=H3(t,e,1),t=qi(t,e,1),e=ur(),t!==null&&(fc(t,1,e),Sr(t,e));break}}t=t.return}}function AT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Wt&r)===r&&(jt===4||jt===3&&(Wt&130023424)===Wt&&500>ft()-tv?Ta(e,0):ev|=r),Sr(e,t)}function uS(e,t){t===0&&(e.mode&1?(t=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):t=1);var r=ur();e=ci(e,t),e!==null&&(fc(e,t,r),Sr(e,r))}function RT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uS(e,r)}function DT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),uS(e,r)}var dS;dS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_r.current)xr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xr=!1,wT(e,t,r);xr=!!(e.flags&131072)}else xr=!1,tt&&t.flags&1048576&&m3(t,xd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wu(e,t),e=t.pendingProps;var i=Yo(t,er.current);Fo(t,r),i=Yy(null,t,n,e,i,r);var a=Gy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jr(n)?(a=!0,yd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wy(t),i.updater=Ff,t.stateNode=i,i._reactInternals=t,Nm(t,n,e,r),t=Cm(null,t,n,!0,a,r)):(t.tag=0,tt&&a&&$y(t),ir(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=$T(n),e=gn(n,e),i){case 0:t=Em(null,t,n,e,r);break e;case 1:t=$b(null,t,n,e,r);break e;case 11:t=Db(null,t,n,e,r);break e;case 14:t=Mb(null,t,n,gn(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),Em(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),$b(e,t,n,i,r);case 3:e:{if(Y3(t),e===null)throw Error(re(387));n=t.pendingProps,a=t.memoizedState,i=a.element,w3(e,t),_d(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Jo(Error(re(423)),t),t=Lb(e,t,n,r,i);break e}else if(n!==i){i=Jo(Error(re(424)),t),t=Lb(e,t,n,r,i);break e}else for(Dr=Hi(t.stateNode.containerInfo.firstChild),Mr=t,tt=!0,xn=null,r=x3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Go(),n===i){t=ui(e,t,r);break e}ir(e,t,n,r)}t=t.child}return t;case 5:return _3(t),e===null&&_m(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,ym(n,i)?o=null:a!==null&&ym(n,a)&&(t.flags|=32),K3(e,t),ir(e,t,o,r),t.child;case 6:return e===null&&_m(t),null;case 13:return G3(e,t,r);case 4:return Hy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xo(t,null,n,r):ir(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),Db(e,t,n,i,r);case 7:return ir(e,t,t.pendingProps,r),t.child;case 8:return ir(e,t,t.pendingProps.children,r),t.child;case 12:return ir(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Xe(bd,n._currentValue),n._currentValue=o,a!==null)if(Nn(a.value,o)){if(a.children===i.children&&!_r.current){t=ui(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ni(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),jm(a.return,r,t),s.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(re(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),jm(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ir(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Fo(t,r),i=nn(i),n=n(i),t.flags|=1,ir(e,t,n,r),t.child;case 14:return n=t.type,i=gn(n,t.pendingProps),i=gn(n.type,i),Mb(e,t,n,i,r);case 15:return q3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),Wu(e,t),t.tag=1,jr(n)?(e=!0,yd(t)):e=!1,Fo(t,r),U3(t,n,i),Nm(t,n,i,r),Cm(null,t,n,!0,e,r);case 19:return X3(e,t,r);case 22:return V3(e,t,r)}throw Error(re(156,t.tag))};function fS(e,t){return Bj(e,t)}function MT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,r,n){return new MT(e,t,r,n)}function av(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $T(e){if(typeof e=="function")return av(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sy)return 11;if(e===Ny)return 14}return 2}function Yi(e,t){var r=e.alternate;return r===null?(r=en(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vu(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")av(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wo:return Aa(r.children,i,a,t);case jy:o=8,i|=8;break;case G0:return e=en(12,r,t,i|2),e.elementType=G0,e.lanes=a,e;case X0:return e=en(13,r,t,i),e.elementType=X0,e.lanes=a,e;case Q0:return e=en(19,r,t,i),e.elementType=Q0,e.lanes=a,e;case _j:return Wf(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bj:o=10;break e;case wj:o=9;break e;case Sy:o=11;break e;case Ny:o=14;break e;case Pi:o=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=en(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Aa(e,t,r,n){return e=en(7,e,n,t),e.lanes=r,e}function Wf(e,t,r,n){return e=en(22,e,n,t),e.elementType=_j,e.lanes=r,e.stateNode={isHidden:!1},e}function Hp(e,t,r){return e=en(6,e,null,t),e.lanes=r,e}function qp(e,t,r){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LT(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Np(0),this.expirationTimes=Np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Np(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ov(e,t,r,n,i,a,o,s,c){return e=new LT(e,t,r,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=en(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wy(a),e}function IT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hS(e){if(!e)return ea;e=e._reactInternals;e:{if(io(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(jr(r))return h3(e,r,t)}return t}function pS(e,t,r,n,i,a,o,s,c){return e=ov(r,n,!0,e,i,a,o,s,c),e.context=hS(null),r=e.current,n=ur(),i=Ki(r),a=ni(n,i),a.callback=t??null,qi(r,a,i),e.current.lanes=i,fc(e,i,n),Sr(e,n),e}function Hf(e,t,r,n){var i=t.current,a=ur(),o=Ki(i);return r=hS(r),t.context===null?t.context=r:t.pendingContext=r,t=ni(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qi(i,t,o),e!==null&&(Sn(e,i,o,a),Fu(e,i,o)),o}function Pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sv(e,t){Kb(e,t),(e=e.alternate)&&Kb(e,t)}function BT(){return null}var mS=typeof reportError=="function"?reportError:function(e){console.error(e)};function lv(e){this._internalRoot=e}qf.prototype.render=lv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Hf(e,t,null,null)};qf.prototype.unmount=lv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qa(function(){Hf(null,e,null,null)}),t[li]=null}};function qf(e){this._internalRoot=e}qf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Di.length&&t!==0&&t<Di[r].priority;r++);Di.splice(r,0,e),r===0&&Yj(e)}};function cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yb(){}function FT(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Pd(o);a.call(u)}}var o=pS(t,n,e,0,null,!1,!1,"",Yb);return e._reactRootContainer=o,e[li]=o.current,Il(e.nodeType===8?e.parentNode:e),qa(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Pd(c);s.call(u)}}var c=ov(e,0,!1,null,null,!1,!1,"",Yb);return e._reactRootContainer=c,e[li]=c.current,Il(e.nodeType===8?e.parentNode:e),qa(function(){Hf(t,c,r,n)}),c}function Kf(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=Pd(o);s.call(c)}}Hf(t,o,e,i)}else o=FT(r,t,e,i,n);return Pd(o)}Hj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ul(t.pendingLanes);r!==0&&(Cy(t,r|1),Sr(t,ft()),!(Re&6)&&(Zo=ft()+500,aa()))}break;case 13:qa(function(){var n=ci(e,1);if(n!==null){var i=ur();Sn(n,e,1,i)}}),sv(e,1)}};Oy=function(e){if(e.tag===13){var t=ci(e,134217728);if(t!==null){var r=ur();Sn(t,e,134217728,r)}sv(e,134217728)}};qj=function(e){if(e.tag===13){var t=Ki(e),r=ci(e,t);if(r!==null){var n=ur();Sn(r,e,t,n)}sv(e,t)}};Vj=function(){return Be};Kj=function(e,t){var r=Be;try{return Be=e,t()}finally{Be=r}};sm=function(e,t,r){switch(t){case"input":if(em(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Lf(n);if(!i)throw Error(re(90));Sj(n),em(n,i)}}}break;case"textarea":kj(e,r);break;case"select":t=r.value,t!=null&&$o(e,!!r.multiple,t,!1)}};Rj=rv;Dj=qa;var zT={usingClientEntryPoint:!1,Events:[pc,No,Lf,Tj,Aj,rv]},Vs={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UT={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lj(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||BT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Rf=lu.inject(UT),Ln=lu}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zT;Fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(t))throw Error(re(200));return IT(e,t,null,r)};Fr.createRoot=function(e,t){if(!cv(e))throw Error(re(299));var r=!1,n="",i=mS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ov(e,1,!1,null,null,r,!1,n,i),e[li]=t.current,Il(e.nodeType===8?e.parentNode:e),new lv(t)};Fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=Lj(t),e=e===null?null:e.stateNode,e};Fr.flushSync=function(e){return qa(e)};Fr.hydrate=function(e,t,r){if(!Vf(t))throw Error(re(200));return Kf(null,e,t,!0,r)};Fr.hydrateRoot=function(e,t,r){if(!cv(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=mS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=pS(t,null,e,1,r??null,i,!1,a,o),e[li]=t.current,Il(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new qf(t)};Fr.render=function(e,t,r){if(!Vf(t))throw Error(re(200));return Kf(null,e,t,!1,r)};Fr.unmountComponentAtNode=function(e){if(!Vf(e))throw Error(re(40));return e._reactRootContainer?(qa(function(){Kf(null,null,e,!1,function(){e._reactRootContainer=null,e[li]=null})}),!0):!1};Fr.unstable_batchedUpdates=rv;Fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vf(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Kf(e,t,r,!1,n)};Fr.version="18.3.1-next-f1338f8080-20240426";function gS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gS)}catch(e){console.error(e)}}gS(),gj.exports=Fr;var gc=gj.exports,Gb=gc;K0.createRoot=Gb.createRoot,K0.hydrateRoot=Gb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}var Bi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bi||(Bi={}));const Xb="popstate";function WT(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return Fm("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Td(i)}return qT(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HT(){return Math.random().toString(36).substr(2,8)}function Qb(e,t){return{usr:e.state,key:e.key,idx:t}}function Fm(e,t,r,n){return r===void 0&&(r=null),Kl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ws(t):t,{state:r,key:t&&t.key||n||HT()})}function Td(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ws(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qT(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Bi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Kl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Bi.Pop;let y=d(),p=y==null?null:y-u;u=y,c&&c({action:s,location:v.location,delta:p})}function h(y,p){s=Bi.Push;let x=Fm(v.location,y,p);u=d()+1;let w=Qb(x,u),_=v.createHref(x);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(_)}a&&c&&c({action:s,location:v.location,delta:1})}function m(y,p){s=Bi.Replace;let x=Fm(v.location,y,p);u=d();let w=Qb(x,u),_=v.createHref(x);o.replaceState(w,"",_),a&&c&&c({action:s,location:v.location,delta:0})}function g(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:Td(y);return x=x.replace(/ $/,"%20"),ht(p,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,p)}let v={get action(){return s},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Xb,f),c=y,()=>{i.removeEventListener(Xb,f),c=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let p=g(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(y){return o.go(y)}};return v}var Jb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jb||(Jb={}));function VT(e,t,r){return r===void 0&&(r="/"),KT(e,t,r)}function KT(e,t,r,n){let i=typeof t=="string"?ws(t):t,a=uv(i.pathname||"/",r);if(a==null)return null;let o=vS(e);YT(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=oA(a);s=nA(o[c],u)}return s}function vS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let c={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Gi([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vS(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:tA(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let c of xS(a.path))i(a,o,c)}),t}function xS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=xS(n.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function YT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GT=/^:[\w-]+$/,XT=3,QT=2,JT=1,ZT=10,eA=-2,Zb=e=>e==="*";function tA(e,t){let r=e.split("/"),n=r.length;return r.some(Zb)&&(n+=eA),t&&(n+=QT),r.filter(i=>!Zb(i)).reduce((i,a)=>i+(GT.test(a)?XT:a===""?JT:ZT),n)}function rA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function nA(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],u=s===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=iA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Gi([a,f.pathname]),pathnameBase:uA(Gi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Gi([a,f.pathnameBase]))}return o}function iA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=aA(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=s[f]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=s[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function aA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function oA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function sA(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ws(e):e;return{pathname:r?r.startsWith("/")?r:lA(r,t):t,search:dA(n),hash:fA(i)}}function lA(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Vp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cA(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dv(e,t){let r=cA(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fv(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ws(e):(i=Kl({},e),ht(!i.pathname||!i.pathname.includes("?"),Vp("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Vp("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Vp("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let c=sA(i,s),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gi=e=>e.join("/").replace(/\/\/+/g,"/"),uA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bS=["post","put","patch","delete"];new Set(bS);const pA=["get",...bS];new Set(pA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}const hv=b.createContext(null),mA=b.createContext(null),oa=b.createContext(null),Yf=b.createContext(null),sa=b.createContext({outlet:null,matches:[],isDataRoute:!1}),wS=b.createContext(null);function gA(e,t){let{relative:r}=t===void 0?{}:t;_s()||ht(!1);let{basename:n,navigator:i}=b.useContext(oa),{hash:a,pathname:o,search:s}=jS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Gi([n,o])),i.createHref({pathname:c,search:s,hash:a})}function _s(){return b.useContext(Yf)!=null}function js(){return _s()||ht(!1),b.useContext(Yf).location}function _S(e){b.useContext(oa).static||b.useLayoutEffect(e)}function Rt(){let{isDataRoute:e}=b.useContext(sa);return e?OA():yA()}function yA(){_s()||ht(!1);let e=b.useContext(hv),{basename:t,future:r,navigator:n}=b.useContext(oa),{matches:i}=b.useContext(sa),{pathname:a}=js(),o=JSON.stringify(dv(i,r.v7_relativeSplatPath)),s=b.useRef(!1);return _S(()=>{s.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=fv(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,a,e])}function jS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(oa),{matches:i}=b.useContext(sa),{pathname:a}=js(),o=JSON.stringify(dv(i,n.v7_relativeSplatPath));return b.useMemo(()=>fv(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function vA(e,t){return xA(e,t)}function xA(e,t,r,n){_s()||ht(!1);let{navigator:i}=b.useContext(oa),{matches:a}=b.useContext(sa),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=js(),d;if(t){var f;let y=typeof t=="string"?ws(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||ht(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=VT(e,{pathname:m}),v=SA(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Gi([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Gi([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&v?b.createElement(Yf.Provider,{value:{location:Yl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bi.Pop}},v):v}function bA(){let e=CA(),t=hA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:i},r):null,null)}const wA=b.createElement(bA,null);class _A extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(sa.Provider,{value:this.props.routeContext},b.createElement(wS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jA(e){let{routeContext:t,match:r,children:n}=e,i=b.useContext(hv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(sa.Provider,{value:t},n)}function SA(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(i=r)==null?void 0:i.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,v=null,y=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||wA,c&&(u<0&&h===0?(PA("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=v:g?w=y:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(jA,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(_A,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var SS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(SS||{}),NS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(NS||{});function NA(e){let t=b.useContext(hv);return t||ht(!1),t}function kA(e){let t=b.useContext(mA);return t||ht(!1),t}function EA(e){let t=b.useContext(sa);return t||ht(!1),t}function kS(e){let t=EA(),r=t.matches[t.matches.length-1];return r.route.id||ht(!1),r.route.id}function CA(){var e;let t=b.useContext(wS),r=kA(),n=kS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function OA(){let{router:e}=NA(SS.UseNavigateStable),t=kS(NS.UseNavigateStable),r=b.useRef(!1);return _S(()=>{r.current=!0}),b.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Yl({fromRouteId:t},a)))},[e,t])}const ew={};function PA(e,t,r){ew[e]||(ew[e]=!0)}function TA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pv(e){let{to:t,replace:r,state:n,relative:i}=e;_s()||ht(!1);let{future:a,static:o}=b.useContext(oa),{matches:s}=b.useContext(sa),{pathname:c}=js(),u=Rt(),d=fv(t,dv(s,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function mt(e){ht(!1)}function AA(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Bi.Pop,navigator:a,static:o=!1,future:s}=e;_s()&&ht(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:a,static:o,future:Yl({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof n=="string"&&(n=ws(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,v=b.useMemo(()=>{let y=uv(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:i}},[c,d,f,h,m,g,i]);return v==null?null:b.createElement(oa.Provider,{value:u},b.createElement(Yf.Provider,{children:r,value:v}))}function RA(e){let{children:t,location:r}=e;return vA(zm(t),r)}new Promise(()=>{});function zm(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,i)=>{if(!b.isValidElement(n))return;let a=[...t,i];if(n.type===b.Fragment){r.push.apply(r,zm(n.props.children,a));return}n.type!==mt&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=zm(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(this,arguments)}function DA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function MA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $A(e,t){return e.button===0&&(!t||t==="_self")&&!MA(e)}const LA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IA="6";try{window.__reactRouterVersion=IA}catch{}const BA="startTransition",tw=pj[BA];function FA(e){let{basename:t,children:r,future:n,window:i}=e,a=b.useRef();a.current==null&&(a.current=WT({window:i,v5Compat:!0}));let o=a.current,[s,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&tw?tw(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>TA(n),[n]),b.createElement(AA,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const zA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ad=b.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=DA(t,LA),{basename:m}=b.useContext(oa),g,v=!1;if(typeof u=="string"&&UA.test(u)&&(g=u,zA))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=uv(_.pathname,m);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:v=!0}catch{}let y=gA(u,{relative:i}),p=WA(u,{replace:o,state:s,target:c,preventScrollReset:d,relative:i,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||p(w)}return b.createElement("a",Um({},h,{href:g||y,onClick:v||a?n:x,ref:r,target:c}))});var rw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rw||(rw={}));var nw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nw||(nw={}));function WA(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,c=Rt(),u=js(),d=jS(e,{relative:o});return b.useCallback(f=>{if($A(f,r)){f.preventDefault();let h=n!==void 0?n:Td(u)===Td(d);c(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,c,d,n,i,r,e,a,o,s])}function ES(e,t){return function(){return e.apply(t,arguments)}}const{toString:HA}=Object.prototype,{getPrototypeOf:mv}=Object,{iterator:Gf,toStringTag:CS}=Symbol,Xf=(e=>t=>{const r=HA.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Cn=e=>(e=e.toLowerCase(),t=>Xf(t)===e),Qf=e=>t=>typeof t===e,{isArray:Ss}=Array,es=Qf("undefined");function yc(e){return e!==null&&!es(e)&&e.constructor!==null&&!es(e.constructor)&&Nr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const OS=Cn("ArrayBuffer");function qA(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&OS(e.buffer),t}const VA=Qf("string"),Nr=Qf("function"),PS=Qf("number"),vc=e=>e!==null&&typeof e=="object",KA=e=>e===!0||e===!1,Ku=e=>{if(Xf(e)!=="object")return!1;const t=mv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(CS in e)&&!(Gf in e)},YA=e=>{if(!vc(e)||yc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},GA=Cn("Date"),XA=Cn("File"),QA=Cn("Blob"),JA=Cn("FileList"),ZA=e=>vc(e)&&Nr(e.pipe),e7=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Nr(e.append)&&((t=Xf(e))==="formdata"||t==="object"&&Nr(e.toString)&&e.toString()==="[object FormData]"))},t7=Cn("URLSearchParams"),[r7,n7,i7,a7]=["ReadableStream","Request","Response","Headers"].map(Cn),o7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Ss(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(yc(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(n=0;n<o;n++)s=a[n],t.call(null,e[s],s,e)}}function TS(e,t){if(yc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,AS=e=>!es(e)&&e!==Sa;function Wm(){const{caseless:e,skipUndefined:t}=AS(this)&&this||{},r={},n=(i,a)=>{const o=e&&TS(r,a)||a;Ku(r[o])&&Ku(i)?r[o]=Wm(r[o],i):Ku(i)?r[o]=Wm({},i):Ss(i)?r[o]=i.slice():(!t||!es(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&xc(arguments[i],n);return r}const s7=(e,t,r,{allOwnKeys:n}={})=>(xc(t,(i,a)=>{r&&Nr(i)?e[a]=ES(i,r):e[a]=i},{allOwnKeys:n}),e),l7=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),c7=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},u7=(e,t,r,n)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=r!==!1&&mv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},d7=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},f7=e=>{if(!e)return null;if(Ss(e))return e;let t=e.length;if(!PS(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},h7=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&mv(Uint8Array)),p7=(e,t)=>{const n=(e&&e[Gf]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},m7=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},g7=Cn("HTMLFormElement"),y7=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),iw=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),v7=Cn("RegExp"),RS=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};xc(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},x7=e=>{RS(e,(t,r)=>{if(Nr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Nr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},b7=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Ss(e)?n(e):n(String(e).split(t)),r},w7=()=>{},_7=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function j7(e){return!!(e&&Nr(e.append)&&e[CS]==="FormData"&&e[Gf])}const S7=e=>{const t=new Array(10),r=(n,i)=>{if(vc(n)){if(t.indexOf(n)>=0)return;if(yc(n))return n;if(!("toJSON"in n)){t[i]=n;const a=Ss(n)?[]:{};return xc(n,(o,s)=>{const c=r(o,i+1);!es(c)&&(a[s]=c)}),t[i]=void 0,a}}return n};return r(e,0)},N7=Cn("AsyncFunction"),k7=e=>e&&(vc(e)||Nr(e))&&Nr(e.then)&&Nr(e.catch),DS=((e,t)=>e?setImmediate:t?((r,n)=>(Sa.addEventListener("message",({source:i,data:a})=>{i===Sa&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Sa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Nr(Sa.postMessage)),E7=typeof queueMicrotask<"u"?queueMicrotask.bind(Sa):typeof process<"u"&&process.nextTick||DS,C7=e=>e!=null&&Nr(e[Gf]),H={isArray:Ss,isArrayBuffer:OS,isBuffer:yc,isFormData:e7,isArrayBufferView:qA,isString:VA,isNumber:PS,isBoolean:KA,isObject:vc,isPlainObject:Ku,isEmptyObject:YA,isReadableStream:r7,isRequest:n7,isResponse:i7,isHeaders:a7,isUndefined:es,isDate:GA,isFile:XA,isBlob:QA,isRegExp:v7,isFunction:Nr,isStream:ZA,isURLSearchParams:t7,isTypedArray:h7,isFileList:JA,forEach:xc,merge:Wm,extend:s7,trim:o7,stripBOM:l7,inherits:c7,toFlatObject:u7,kindOf:Xf,kindOfTest:Cn,endsWith:d7,toArray:f7,forEachEntry:p7,matchAll:m7,isHTMLForm:g7,hasOwnProperty:iw,hasOwnProp:iw,reduceDescriptors:RS,freezeMethods:x7,toObjectSet:b7,toCamelCase:y7,noop:w7,toFiniteNumber:_7,findKey:TS,global:Sa,isContextDefined:AS,isSpecCompliantForm:j7,toJSONObject:S7,isAsyncFn:N7,isThenable:k7,setImmediate:DS,asap:E7,isIterable:C7};function je(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}H.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const MS=je.prototype,$S={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$S[e]={value:e}});Object.defineProperties(je,$S);Object.defineProperty(MS,"isAxiosError",{value:!0});je.from=(e,t,r,n,i,a)=>{const o=Object.create(MS);H.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const s=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return je.call(o,s,c,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const O7=null;function Hm(e){return H.isPlainObject(e)||H.isArray(e)}function LS(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function aw(e,t,r){return e?e.concat(t).map(function(i,a){return i=LS(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function P7(e){return H.isArray(e)&&!e.some(Hm)}const T7=H.toFlatObject(H,{},null,function(t){return/^is[A-Z]/.test(t)});function Jf(e,t,r){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=H.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!H.isUndefined(y[v])});const n=r.metaTokens,i=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(H.isDate(g))return g.toISOString();if(H.isBoolean(g))return g.toString();if(!c&&H.isBlob(g))throw new je("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(g)||H.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,y){let p=g;if(g&&!y&&typeof g=="object"){if(H.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(H.isArray(g)&&P7(g)||(H.isFileList(g)||H.endsWith(v,"[]"))&&(p=H.toArray(g)))return v=LS(v),p.forEach(function(w,_){!(H.isUndefined(w)||w===null)&&t.append(o===!0?aw([v],_,a):o===null?v:v+"[]",u(w))}),!1}return Hm(g)?!0:(t.append(aw(y,v,a),u(g)),!1)}const f=[],h=Object.assign(T7,{defaultVisitor:d,convertValue:u,isVisitable:Hm});function m(g,v){if(!H.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),H.forEach(g,function(p,x){(!(H.isUndefined(p)||p===null)&&i.call(t,p,H.isString(x)?x.trim():x,v,h))===!0&&m(p,v?v.concat(x):[x])}),f.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return m(e),t}function ow(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function gv(e,t){this._pairs=[],e&&Jf(e,this,t)}const IS=gv.prototype;IS.append=function(t,r){this._pairs.push([t,r])};IS.toString=function(t){const r=t?function(n){return t.call(this,n,ow)}:ow;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function A7(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function BS(e,t,r){if(!t)return e;const n=r&&r.encode||A7;H.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=H.isURLSearchParams(t)?t.toString():new gv(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class sw{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){H.forEach(this.handlers,function(n){n!==null&&t(n)})}}const FS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},R7=typeof URLSearchParams<"u"?URLSearchParams:gv,D7=typeof FormData<"u"?FormData:null,M7=typeof Blob<"u"?Blob:null,$7={isBrowser:!0,classes:{URLSearchParams:R7,FormData:D7,Blob:M7},protocols:["http","https","file","blob","url","data"]},yv=typeof window<"u"&&typeof document<"u",qm=typeof navigator=="object"&&navigator||void 0,L7=yv&&(!qm||["ReactNative","NativeScript","NS"].indexOf(qm.product)<0),I7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",B7=yv&&window.location.href||"http://localhost",F7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yv,hasStandardBrowserEnv:L7,hasStandardBrowserWebWorkerEnv:I7,navigator:qm,origin:B7},Symbol.toStringTag,{value:"Module"})),Zt={...F7,...$7};function z7(e,t){return Jf(e,new Zt.classes.URLSearchParams,{visitor:function(r,n,i,a){return Zt.isNode&&H.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function U7(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function W7(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function zS(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),c=a>=r.length;return o=!o&&H.isArray(i)?i.length:o,c?(H.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!H.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&H.isArray(i[o])&&(i[o]=W7(i[o])),!s)}if(H.isFormData(e)&&H.isFunction(e.entries)){const r={};return H.forEachEntry(e,(n,i)=>{t(U7(n),i,r,0)}),r}return null}function H7(e,t,r){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const bc={transitional:FS,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=H.isObject(t);if(a&&H.isHTMLForm(t)&&(t=new FormData(t)),H.isFormData(t))return i?JSON.stringify(zS(t)):t;if(H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t)||H.isReadableStream(t))return t;if(H.isArrayBufferView(t))return t.buffer;if(H.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return z7(t,this.formSerializer).toString();if((s=H.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Jf(s?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),H7(t)):t}],transformResponse:[function(t){const r=this.transitional||bc.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(H.isResponse(t)||H.isReadableStream(t))return t;if(t&&H.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?je.from(s,je.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],e=>{bc.headers[e]={}});const q7=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V7=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&q7[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},lw=Symbol("internals");function Ks(e){return e&&String(e).trim().toLowerCase()}function Yu(e){return e===!1||e==null?e:H.isArray(e)?e.map(Yu):String(e)}function K7(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Y7=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kp(e,t,r,n,i){if(H.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!H.isString(t)){if(H.isString(n))return t.indexOf(n)!==-1;if(H.isRegExp(n))return n.test(t)}}function G7(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function X7(e,t){const r=H.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let kr=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(s,c,u){const d=Ks(c);if(!d)throw new Error("header name must be a non-empty string");const f=H.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=Yu(s))}const o=(s,c)=>H.forEach(s,(u,d)=>a(u,d,c));if(H.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(H.isString(t)&&(t=t.trim())&&!Y7(t))o(V7(t),r);else if(H.isObject(t)&&H.isIterable(t)){let s={},c,u;for(const d of t){if(!H.isArray(d))throw TypeError("Object iterator must return a key-value pair");s[u=d[0]]=(c=s[u])?H.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(s,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Ks(t),t){const n=H.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return K7(i);if(H.isFunction(r))return r.call(this,i,n);if(H.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ks(t),t){const n=H.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Kp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=Ks(o),o){const s=H.findKey(n,o);s&&(!r||Kp(n,n[s],s,r))&&(delete n[s],i=!0)}}return H.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||Kp(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return H.forEach(this,(i,a)=>{const o=H.findKey(n,a);if(o){r[o]=Yu(i),delete r[a];return}const s=t?G7(a):String(a).trim();s!==a&&delete r[a],r[s]=Yu(i),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return H.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&H.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[lw]=this[lw]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Ks(o);n[s]||(X7(i,o),n[s]=!0)}return H.isArray(t)?t.forEach(a):a(t),this}};kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(kr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});H.freezeMethods(kr);function Yp(e,t){const r=this||bc,n=t||r,i=kr.from(n.headers);let a=n.data;return H.forEach(e,function(s){a=s.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function US(e){return!!(e&&e.__CANCEL__)}function Ns(e,t,r){je.call(this,e??"canceled",je.ERR_CANCELED,t,r),this.name="CanceledError"}H.inherits(Ns,je,{__CANCEL__:!0});function WS(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new je("Request failed with status code "+r.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Q7(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function J7(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[i]=c,n[i]=u;let f=a,h=0;for(;f!==i;)h+=r[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function Z7(e,t){let r=0,n=1e3/t,i,a;const o=(u,d=Date.now())=>{r=d,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-f)))},()=>i&&o(i)]}const Rd=(e,t,r=3)=>{let n=0;const i=J7(50,250);return Z7(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,c=o-n,u=i(c),d=o<=s;n=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:c,rate:u||void 0,estimated:u&&s&&d?(s-o)/u:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(f)},r)},cw=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},uw=e=>(...t)=>H.asap(()=>e(...t)),eR=Zt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Zt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,tR=Zt.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];H.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),H.isString(n)&&o.push("path="+n),H.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function HS(e,t,r){let n=!rR(t);return e&&(n||r==!1)?nR(e,t):t}const dw=e=>e instanceof kr?{...e}:e;function Va(e,t){t=t||{};const r={};function n(u,d,f,h){return H.isPlainObject(u)&&H.isPlainObject(d)?H.merge.call({caseless:h},u,d):H.isPlainObject(d)?H.merge({},d):H.isArray(d)?d.slice():d}function i(u,d,f,h){if(H.isUndefined(d)){if(!H.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!H.isUndefined(d))return n(void 0,d)}function o(u,d){if(H.isUndefined(d)){if(!H.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function s(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,d,f)=>i(dw(u),dw(d),f,!0)};return H.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||i,h=f(e[d],t[d],d);H.isUndefined(h)&&f!==s||(r[d]=h)}),r}const qS=e=>{const t=Va({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=kr.from(o),t.url=BS(HS(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),H.isFormData(r)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(H.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Zt.hasStandardBrowserEnv&&(n&&H.isFunction(n)&&(n=n(t)),n||n!==!1&&eR(t.url))){const c=i&&a&&tR.read(a);c&&o.set(i,c)}return t},iR=typeof XMLHttpRequest<"u",aR=iR&&function(e){return new Promise(function(r,n){const i=qS(e);let a=i.data;const o=kr.from(i.headers).normalize();let{responseType:s,onUploadProgress:c,onDownloadProgress:u}=i,d,f,h,m,g;function v(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function p(){if(!y)return;const w=kr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};WS(function(P){r(P),v()},function(P){n(P),v()},j),y=null}"onloadend"in y?y.onloadend=p:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(p)},y.onabort=function(){y&&(n(new je("Request aborted",je.ECONNABORTED,e,y)),y=null)},y.onerror=function(_){const j=_&&_.message?_.message:"Network Error",k=new je(j,je.ERR_NETWORK,e,y);k.event=_||null,n(k),y=null},y.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||FS;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new je(_,j.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&H.forEach(o.toJSON(),function(_,j){y.setRequestHeader(j,_)}),H.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),s&&s!=="json"&&(y.responseType=i.responseType),u&&([h,g]=Rd(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,m]=Rd(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=w=>{y&&(n(!w||w.type?new Ns(null,e,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const x=Q7(i.url);if(x&&Zt.protocols.indexOf(x)===-1){n(new je("Unsupported protocol "+x+":",je.ERR_BAD_REQUEST,e));return}y.send(a||null)})},oR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,s();const d=u instanceof Error?u:this.reason;n.abort(d instanceof je?d:new Ns(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new je(`timeout ${t} of ms exceeded`,je.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>H.asap(s),c}},sR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},lR=async function*(e,t){for await(const r of cR(e))yield*sR(r,t)},cR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},fw=(e,t,r,n)=>{const i=lR(e,t);let a=0,o,s=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){s(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw s(u),u}},cancel(c){return s(c),i.return()}},{highWaterMark:2})},hw=64*1024,{isFunction:cu}=H,uR=(({Request:e,Response:t})=>({Request:e,Response:t}))(H.global),{ReadableStream:pw,TextEncoder:mw}=H.global,gw=(e,...t)=>{try{return!!e(...t)}catch{return!1}},dR=e=>{e=H.merge.call({skipUndefined:!0},uR,e);const{fetch:t,Request:r,Response:n}=e,i=t?cu(t):typeof fetch=="function",a=cu(r),o=cu(n);if(!i)return!1;const s=i&&cu(pw),c=i&&(typeof mw=="function"?(g=>v=>g.encode(v))(new mw):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=a&&s&&gw(()=>{let g=!1;const v=new r(Zt.origin,{body:new pw,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),d=o&&s&&gw(()=>H.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(v,y)=>{let p=v&&v[g];if(p)return p.call(v);throw new je(`Response type '${g}' is not supported`,je.ERR_NOT_SUPPORT,y)})});const h=async g=>{if(g==null)return 0;if(H.isBlob(g))return g.size;if(H.isSpecCompliantForm(g))return(await new r(Zt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(H.isArrayBufferView(g)||H.isArrayBuffer(g))return g.byteLength;if(H.isURLSearchParams(g)&&(g=g+""),H.isString(g))return(await c(g)).byteLength},m=async(g,v)=>{const y=H.toFiniteNumber(g.getContentLength());return y??h(v)};return async g=>{let{url:v,method:y,data:p,signal:x,cancelToken:w,timeout:_,onDownloadProgress:j,onUploadProgress:k,responseType:P,headers:A,withCredentials:M="same-origin",fetchOptions:R}=qS(g),L=t||fetch;P=P?(P+"").toLowerCase():"text";let U=oR([x,w&&w.toAbortSignal()],_),X=null;const J=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let le;try{if(k&&u&&y!=="get"&&y!=="head"&&(le=await m(A,p))!==0){let oe=new r(v,{method:"POST",body:p,duplex:"half"}),se;if(H.isFormData(p)&&(se=oe.headers.get("content-type"))&&A.setContentType(se),oe.body){const[we,Ce]=cw(le,Rd(uw(k)));p=fw(oe.body,hw,we,Ce)}}H.isString(M)||(M=M?"include":"omit");const Y=a&&"credentials"in r.prototype,Q={...R,signal:U,method:y.toUpperCase(),headers:A.normalize().toJSON(),body:p,duplex:"half",credentials:Y?M:void 0};X=a&&new r(v,Q);let q=await(a?L(X,R):L(v,Q));const te=d&&(P==="stream"||P==="response");if(d&&(j||te&&J)){const oe={};["status","statusText","headers"].forEach(ge=>{oe[ge]=q[ge]});const se=H.toFiniteNumber(q.headers.get("content-length")),[we,Ce]=j&&cw(se,Rd(uw(j),!0))||[];q=new n(fw(q.body,hw,we,()=>{Ce&&Ce(),J&&J()}),oe)}P=P||"text";let ie=await f[H.findKey(f,P)||"text"](q,g);return!te&&J&&J(),await new Promise((oe,se)=>{WS(oe,se,{data:ie,headers:kr.from(q.headers),status:q.status,statusText:q.statusText,config:g,request:X})})}catch(Y){throw J&&J(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,g,X),{cause:Y.cause||Y}):je.from(Y,Y&&Y.code,g,X)}}},fR=new Map,VS=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,s=o,c,u,d=fR;for(;s--;)c=a[s],u=d.get(c),u===void 0&&d.set(c,u=s?new Map:dR(t)),d=u;return u};VS();const Vm={http:O7,xhr:aR,fetch:{get:VS}};H.forEach(Vm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yw=e=>`- ${e}`,hR=e=>H.isFunction(e)||e===null||e===!1,KS={getAdapter:(e,t)=>{e=H.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let s;if(i=n,!hR(n)&&(i=Vm[(s=String(n)).toLowerCase()],i===void 0))throw new je(`Unknown adapter '${s}'`);if(i&&(H.isFunction(i)||(i=i.get(t))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=r?o.length>1?`since :
`+o.map(yw).join(`
`):" "+yw(o[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:Vm};function Gp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ns(null,e)}function vw(e){return Gp(e),e.headers=kr.from(e.headers),e.data=Yp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),KS.getAdapter(e.adapter||bc.adapter,e)(e).then(function(n){return Gp(e),n.data=Yp.call(e,e.transformResponse,n),n.headers=kr.from(n.headers),n},function(n){return US(n)||(Gp(e),n&&n.response&&(n.response.data=Yp.call(e,e.transformResponse,n.response),n.response.headers=kr.from(n.response.headers))),Promise.reject(n)})}const YS="1.12.2",Zf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const xw={};Zf.transitional=function(t,r,n){function i(a,o){return"[Axios v"+YS+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(t===!1)throw new je(i(o," has been removed"+(r?" in "+r:"")),je.ERR_DEPRECATED);return r&&!xw[o]&&(xw[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,s):!0}};Zf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function pR(e,t,r){if(typeof e!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const s=e[a],c=s===void 0||o(s,a,e);if(c!==!0)throw new je("option "+a+" must be "+c,je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new je("Unknown option "+a,je.ERR_BAD_OPTION)}}const Gu={assertOptions:pR,validators:Zf},Tn=Gu.validators;let Ra=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sw,response:new sw}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Va(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Gu.assertOptions(n,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),i!=null&&(H.isFunction(i)?r.paramsSerializer={serialize:i}:Gu.assertOptions(i,{encode:Tn.function,serialize:Tn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Gu.assertOptions(r,{baseUrl:Tn.spelling("baseURL"),withXsrfToken:Tn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&H.merge(a.common,a[r.method]);a&&H.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=kr.concat(o,a);const s=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,h;if(!c){const g=[vw.bind(this),void 0];for(g.unshift(...s),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=s.length;let m=r;for(;f<h;){const g=s[f++],v=s[f++];try{m=g(m)}catch(y){v.call(this,y);break}}try{d=vw.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Va(this.defaults,t);const r=HS(t.baseURL,t.url,t.allowAbsoluteUrls);return BS(r,t.params,t.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(t){Ra.prototype[t]=function(r,n){return this.request(Va(n||{},{method:t,url:r,data:(n||{}).data}))}});H.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,s){return this.request(Va(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ra.prototype[t]=r(),Ra.prototype[t+"Form"]=r(!0)});let mR=class GS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,s){n.reason||(n.reason=new Ns(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new GS(function(i){t=i}),cancel:t}}};function gR(e){return function(r){return e.apply(null,r)}}function yR(e){return H.isObject(e)&&e.isAxiosError===!0}const Km={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Km).forEach(([e,t])=>{Km[t]=e});function XS(e){const t=new Ra(e),r=ES(Ra.prototype.request,t);return H.extend(r,Ra.prototype,t,{allOwnKeys:!0}),H.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return XS(Va(e,i))},r}const Ke=XS(bc);Ke.Axios=Ra;Ke.CanceledError=Ns;Ke.CancelToken=mR;Ke.isCancel=US;Ke.VERSION=YS;Ke.toFormData=Jf;Ke.AxiosError=je;Ke.Cancel=Ke.CanceledError;Ke.all=function(t){return Promise.all(t)};Ke.spread=gR;Ke.isAxiosError=yR;Ke.mergeConfig=Va;Ke.AxiosHeaders=kr;Ke.formToJSON=e=>zS(H.isHTMLForm(e)?new FormData(e):e);Ke.getAdapter=KS.getAdapter;Ke.HttpStatusCode=Km;Ke.default=Ke;const{Axios:Qre,AxiosError:Jre,CanceledError:Zre,isCancel:ene,CancelToken:tne,VERSION:rne,all:nne,Cancel:ine,isAxiosError:ane,spread:one,toFormData:sne,AxiosHeaders:lne,HttpStatusCode:cne,formToJSON:une,getAdapter:dne,mergeConfig:fne}=Ke,QS="/api";console.log("API Base URL configured as:",QS);const ue=Ke.create({baseURL:QS});ue.interceptors.request.use(e=>{var r;console.log("API Request:",(r=e.method)==null?void 0:r.toUpperCase(),e.url);const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));ue.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),e=>(console.error("API Error:",e.message),e.response&&(console.error("Error status:",e.response.status),console.error("Error data:",e.response.data)),Promise.reject(e)));const JS=b.createContext(),We=()=>{const e=b.useContext(JS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},vR=({children:e})=>{const[t,r]=b.useState(null),[n,i]=b.useState(!0),[a,o]=b.useState(localStorage.getItem("token"));b.useEffect(()=>{a?s():i(!1)},[a]);const s=async()=>{try{const h=await ue.get("/auth/me");r(h.data)}catch(h){console.error("Failed to fetch user:",h),d()}finally{i(!1)}},c=async(h,m)=>{var g,v;try{console.log("Attempting login with:",h),console.log("API URL:",ue.defaults.baseURL);const y=await ue.post("/auth/login",{email:h,password:m});console.log("Login response:",y.data);const{access_token:p,user:x}=y.data;return localStorage.setItem("token",p),o(p),r(x),{success:!0}}catch(y){return console.error("Login error:",y),console.error("Error response:",y.response),{success:!1,error:((v=(g=y.response)==null?void 0:g.data)==null?void 0:v.detail)||y.message||"Login failed"}}},u=async h=>{var m,g;try{const v=await ue.post("/auth/register",h),{access_token:y,user:p}=v.data;return localStorage.setItem("token",y),o(y),r(p),{success:!0}}catch(v){return{success:!1,error:((g=(m=v.response)==null?void 0:m.data)==null?void 0:g.detail)||"Registration failed"}}},d=()=>{localStorage.removeItem("token"),o(null),r(null)},f={user:t,token:a,loading:n,login:c,register:u,logout:d};return l.jsx(JS.Provider,{value:f,children:e})},ZS=b.createContext(),bt=()=>{const e=b.useContext(ZS);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},xR=({children:e})=>{const[t,r]=b.useState(()=>{const a=localStorage.getItem("darkMode");return a?JSON.parse(a):!1});b.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(t)),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const i={darkMode:t,toggleDarkMode:()=>{r(a=>!a)}};return l.jsx(ZS.Provider,{value:i,children:e})},zn=Object.create(null);zn.open="0";zn.close="1";zn.ping="2";zn.pong="3";zn.message="4";zn.upgrade="5";zn.noop="6";const Xu=Object.create(null);Object.keys(zn).forEach(e=>{Xu[zn[e]]=e});const Ym={type:"error",data:"parser error"},eN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",tN=typeof ArrayBuffer=="function",rN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,vv=({type:e,data:t},r,n)=>eN&&t instanceof Blob?r?n(t):bw(t,n):tN&&(t instanceof ArrayBuffer||rN(t))?r?n(t):bw(new Blob([t]),n):n(zn[e]+(t||"")),bw=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function ww(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Xp;function bR(e,t){if(eN&&e.data instanceof Blob)return e.data.arrayBuffer().then(ww).then(t);if(tN&&(e.data instanceof ArrayBuffer||rN(e.data)))return t(ww(e.data));vv(e,!1,r=>{Xp||(Xp=new TextEncoder),t(Xp.encode(r))})}const _w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<_w.length;e++)fl[_w.charCodeAt(e)]=e;const wR=e=>{let t=e.length*.75,r=e.length,n,i=0,a,o,s,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=fl[e.charCodeAt(n)],o=fl[e.charCodeAt(n+1)],s=fl[e.charCodeAt(n+2)],c=fl[e.charCodeAt(n+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|s>>2,d[i++]=(s&3)<<6|c&63;return u},_R=typeof ArrayBuffer=="function",xv=(e,t)=>{if(typeof e!="string")return{type:"message",data:nN(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:jR(e.substring(1),t)}:Xu[r]?e.length>1?{type:Xu[r],data:e.substring(1)}:{type:Xu[r]}:Ym},jR=(e,t)=>{if(_R){const r=wR(e);return nN(r,t)}else return{base64:!0,data:e}},nN=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},iN="",SR=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,o)=>{vv(a,!1,s=>{n[o]=s,++i===r&&t(n.join(iN))})})},NR=(e,t)=>{const r=e.split(iN),n=[];for(let i=0;i<r.length;i++){const a=xv(r[i],t);if(n.push(a),a.type==="error")break}return n};function kR(){return new TransformStream({transform(e,t){bR(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let Qp;function uu(e){return e.reduce((t,r)=>t+r.length,0)}function du(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function ER(e,t){Qp||(Qp=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,s){for(r.push(o);;){if(n===0){if(uu(r)<1)break;const c=du(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(uu(r)<2)break;const c=du(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(uu(r)<8)break;const c=du(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){s.enqueue(Ym);break}i=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(uu(r)<i)break;const c=du(r,i);s.enqueue(xv(a?c:Qp.decode(c),t)),n=0}if(i===0||i>e){s.enqueue(Ym);break}}}})}const aN=4;function yt(e){if(e)return CR(e)}function CR(e){for(var t in yt.prototype)e[t]=yt.prototype[t];return e}yt.prototype.on=yt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};yt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};yt.prototype.off=yt.prototype.removeListener=yt.prototype.removeAllListeners=yt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};yt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};yt.prototype.emitReserved=yt.prototype.emit;yt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};yt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const eh=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Jr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),OR="arraybuffer";function oN(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const PR=Jr.setTimeout,TR=Jr.clearTimeout;function th(e,t){t.useNativeTimers?(e.setTimeoutFn=PR.bind(Jr),e.clearTimeoutFn=TR.bind(Jr)):(e.setTimeoutFn=Jr.setTimeout.bind(Jr),e.clearTimeoutFn=Jr.clearTimeout.bind(Jr))}const AR=1.33;function RR(e){return typeof e=="string"?DR(e):Math.ceil((e.byteLength||e.size)*AR)}function DR(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function sN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function MR(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function $R(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class LR extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class bv extends yt{constructor(t){super(),this.writable=!1,th(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new LR(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=xv(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=MR(t);return r.length?"?"+r:""}}class IR extends bv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};NR(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,SR(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=sN()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let lN=!1;try{lN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const BR=lN;function FR(){}class zR extends IR{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Bn extends yt{constructor(t,r,n){super(),this.createRequest=t,th(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=oN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Bn.requestsCount++,Bn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=FR,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Bn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Bn.requestsCount=0;Bn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jw);else if(typeof addEventListener=="function"){const e="onpagehide"in Jr?"pagehide":"unload";addEventListener(e,jw,!1)}}function jw(){for(let e in Bn.requests)Bn.requests.hasOwnProperty(e)&&Bn.requests[e].abort()}const UR=function(){const e=cN({xdomain:!1});return e&&e.responseType!==null}();class WR extends zR{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=UR&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Bn(cN,this.uri(),t)}}function cN(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||BR))return new XMLHttpRequest}catch{}if(!t)try{return new Jr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const uN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class HR extends bv{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=uN?{}:oN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;vv(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&eh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=sN()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Jp=Jr.WebSocket||Jr.MozWebSocket;class qR extends HR{createSocket(t,r,n){return uN?new Jp(t,r,n):r?new Jp(t,r):new Jp(t)}doWrite(t,r){this.ws.send(r)}}class VR extends bv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=ER(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=kR();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:s,value:c})=>{s||(this.onPacket(c),a())}).catch(s=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&eh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const KR={websocket:qR,webtransport:VR,polling:WR},YR=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,GR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gm(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=YR.exec(e||""),a={},o=14;for(;o--;)a[GR[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=XR(a,a.path),a.queryKey=QR(a,a.query),a}function XR(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function QR(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const Xm=typeof addEventListener=="function"&&typeof removeEventListener=="function",Qu=[];Xm&&addEventListener("offline",()=>{Qu.forEach(e=>e())},!1);class Xi extends yt{constructor(t,r){if(super(),this.binaryType=OR,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Gm(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Gm(r.host).host);th(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$R(this.opts.query)),Xm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Qu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=aN,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Xi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Xi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=RR(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,eh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Xi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Xm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Qu.indexOf(this._offlineEventListener);n!==-1&&Qu.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Xi.protocol=aN;class JR extends Xi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Xi.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Xi.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=r.name,a(),this.emitReserved("upgradeError",h)};function s(){o("transport closed")}function c(){o("socket closed")}function u(f){r&&f.name!==r.name&&a()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",s),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",s),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let ZR=class extends JR{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>KR[i]).filter(i=>!!i)),super(t,n)}};function eD(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Gm(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const tD=typeof ArrayBuffer=="function",rD=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,dN=Object.prototype.toString,nD=typeof Blob=="function"||typeof Blob<"u"&&dN.call(Blob)==="[object BlobConstructor]",iD=typeof File=="function"||typeof File<"u"&&dN.call(File)==="[object FileConstructor]";function wv(e){return tD&&(e instanceof ArrayBuffer||rD(e))||nD&&e instanceof Blob||iD&&e instanceof File}function Ju(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Ju(e[r]))return!0;return!1}if(wv(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ju(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Ju(e[r]))return!0;return!1}function aD(e){const t=[],r=e.data,n=e;return n.data=Qm(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Qm(e,t){if(!e)return e;if(wv(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Qm(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Qm(e[n],t));return r}return e}function oD(e,t){return e.data=Jm(e.data,t),delete e.attachments,e}function Jm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Jm(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Jm(e[r],t));return e}const sD=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lD=5;var Pe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Pe||(Pe={}));class cD{constructor(t){this.replacer=t}encode(t){return(t.type===Pe.EVENT||t.type===Pe.ACK)&&Ju(t)?this.encodeAsBinary({type:t.type===Pe.EVENT?Pe.BINARY_EVENT:Pe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Pe.BINARY_EVENT||t.type===Pe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=aD(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Sw(e){return Object.prototype.toString.call(e)==="[object Object]"}class _v extends yt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Pe.BINARY_EVENT;n||r.type===Pe.BINARY_ACK?(r.type=n?Pe.EVENT:Pe.ACK,this.reconstructor=new uD(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(wv(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Pe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Pe.BINARY_EVENT||n.type===Pe.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(_v.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Pe.CONNECT:return Sw(r);case Pe.DISCONNECT:return r===void 0;case Pe.CONNECT_ERROR:return typeof r=="string"||Sw(r);case Pe.EVENT:case Pe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&sD.indexOf(r[0])===-1);case Pe.ACK:case Pe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class uD{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=oD(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const dD=Object.freeze(Object.defineProperty({__proto__:null,Decoder:_v,Encoder:cD,get PacketType(){return Pe},protocol:lD},Symbol.toStringTag,{value:"Module"}));function vn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const fD=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class fN extends yt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[vn(t,"open",this.onopen.bind(this)),vn(t,"packet",this.onpacket.bind(this)),vn(t,"error",this.onerror.bind(this)),vn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(fD.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Pe.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),o.id=d}const s=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!s||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===t&&this.sendBuffer.splice(s,1);r.call(this,new Error("operation has timed out"))},i),o=(...s)=>{this.io.clearTimeoutFn(a),r.apply(this,s)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(o,s)=>o?i(o):n(s);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Pe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pe.EVENT:case Pe.BINARY_EVENT:this.onevent(t);break;case Pe.ACK:case Pe.BINARY_ACK:this.onack(t);break;case Pe.DISCONNECT:this.ondisconnect();break;case Pe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Pe.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function ks(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ks.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};ks.prototype.reset=function(){this.attempts=0};ks.prototype.setMin=function(e){this.ms=e};ks.prototype.setMax=function(e){this.max=e};ks.prototype.setJitter=function(e){this.jitter=e};class Zm extends yt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,th(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ks({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||dD;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new ZR(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=vn(r,"open",function(){n.onopen(),t&&t()}),a=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),t?t(s):this.maybeReconnectOnOpen()},o=vn(r,"error",a);if(this._timeout!==!1){const s=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},s);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(vn(t,"ping",this.onping.bind(this)),vn(t,"data",this.ondata.bind(this)),vn(t,"error",this.onerror.bind(this)),vn(t,"close",this.onclose.bind(this)),vn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){eh(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new fN(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ys={};function Zu(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=eD(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Ys[i]&&a in Ys[i].nsps,s=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return s?c=new Zm(n,t):(Ys[i]||(Ys[i]=new Zm(n,t)),c=Ys[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Zu,{Manager:Zm,Socket:fN,io:Zu,connect:Zu});const hN=b.createContext(),Es=()=>{const e=b.useContext(hN);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},hD=({children:e})=>{const{token:t,user:r}=We(),[n,i]=b.useState(null),[a,o]=b.useState(!1),[s,c]=b.useState({});b.useEffect(()=>{if(!t){n&&(n.disconnect(),i(null),o(!1));return}const d=window.location.origin,f=Zu(d,{transports:["websocket","polling"],autoConnect:!0});return f.on("connect",()=>{console.log("Socket connected:",f.id),o(!0),f.emit("authenticate",{token:t})}),f.on("disconnect",()=>{console.log("Socket disconnected"),o(!1)}),f.on("authenticated",h=>{console.log("Socket authenticated for user:",h.user_id)}),f.on("error",h=>{console.error("Socket error:",h)}),f.on("user_status",h=>{c(m=>({...m,[h.user_id]:h.status}))}),i(f),()=>{f.disconnect()}},[t]);const u={socket:n,connected:a,onlineUsers:s};return l.jsx(hN.Provider,{value:u,children:e})};var pN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nw=Te.createContext&&Te.createContext(pN),Qi=function(){return Qi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qi.apply(this,arguments)},pD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function mN(e){return e&&e.map(function(t,r){return Te.createElement(t.tag,Qi({key:r},t.attr),mN(t.child))})}function ne(e){return function(t){return Te.createElement(mD,Qi({attr:Qi({},e.attr)},t),mN(e.child))}}function mD(e){var t=function(r){var n=e.attr,i=e.size,a=e.title,o=pD(e,["attr","size","title"]),s=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Te.createElement("svg",Qi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Qi(Qi({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Te.createElement("title",null,a),e.children)};return Nw!==void 0?Te.createElement(Nw.Consumer,null,function(r){return t(r)}):t(pN)}function Dd(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function gD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(e)}function ts(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"}},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}}]})(e)}function yD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(e)}function Uo(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function Md(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"}},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}}]})(e)}function kw(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function vD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(e)}function gN(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function xD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(e)}function bD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function jv(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(e)}function Gl(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"}},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"}},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"}},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"}}]})(e)}function yN(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function wD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function $d(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(e)}function _D(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function rh(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(e)}function jD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function eg(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(e)}function SD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(e)}function ND(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function kD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function ED(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(e)}function Da(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function Ka(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"}}]})(e)}function kl(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function Ew(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"}}]})(e)}function Cw(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function Na(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function CD(e){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}const vN=({children:e,variant:t="primary",size:r="md",fullWidth:n=!1,disabled:i=!1,loading:a=!1,icon:o,onClick:s,type:c="button",className:u="",...d})=>{const f="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-95",h={primary:"bg-gradient-to-r from-corporate-600 to-corporate-700 hover:from-corporate-700 hover:to-corporate-800 text-white shadow-md hover:shadow-lg focus:ring-corporate-500",secondary:"bg-white hover:bg-gray-50 text-primary-700 border border-gray-300 shadow-sm hover:shadow-md dark:bg-primary-800 dark:text-white dark:border-primary-700 dark:hover:bg-primary-700",accent:"bg-gradient-to-r from-accent-600 to-accent-700 hover:from-accent-700 hover:to-accent-800 text-white shadow-md hover:shadow-lg focus:ring-accent-500",danger:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-md hover:shadow-lg focus:ring-red-500",ghost:"hover:bg-gray-100 text-primary-700 dark:hover:bg-primary-800 dark:text-primary-300",outline:"border-2 border-corporate-600 text-corporate-600 hover:bg-corporate-50 dark:border-corporate-500 dark:text-corporate-400 dark:hover:bg-corporate-900/20"},m={sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"},g=n?"w-full":"";return l.jsxs("button",{type:c,onClick:s,disabled:i||a,className:`${f} ${h[t]} ${m[r]} ${g} ${u}`,...d,children:[a&&l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o&&!a&&l.jsx(o,{className:"w-4 h-4 mr-2"}),e]})},Ao=({label:e,type:t="text",error:r,helperText:n,icon:i,fullWidth:a=!1,className:o="",...s})=>{const[c,u]=b.useState(!1),d=t==="password"&&c?"text":t;return l.jsxs("div",{className:a?"w-full":"",children:[e&&l.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:e}),l.jsxs("div",{className:"relative",children:[i&&l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(i,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:d,className:`block w-full rounded-lg border ${r?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-primary-700 focus:ring-corporate-500 focus:border-corporate-500"} ${i?"pl-10":"pl-4"} ${t==="password"?"pr-10":"pr-4"} py-2.5 text-sm bg-white dark:bg-primary-800 text-primary-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all shadow-sm hover:shadow-md ${o}`,...s}),t==="password"&&l.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:c?l.jsx(xD,{className:"h-5 w-5"}):l.jsx(bD,{className:"h-5 w-5"})})]}),(r||n)&&l.jsx("p",{className:`mt-1.5 text-sm ${r?"text-red-600 dark:text-red-400":"text-primary-500 dark:text-primary-400"}`,children:r||n})]})},OD=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(""),[i,a]=b.useState(""),[o,s]=b.useState(!1),{login:c}=We(),u=Rt(),d=async h=>{var m,g;h.preventDefault(),a(""),s(!0);try{await c(e,r),u("/dashboard")}catch(v){a(((g=(m=v.response)==null?void 0:m.data)==null?void 0:g.detail)||"Failed to login. Please check your credentials.")}finally{s(!1)}},f=h=>{h==="employee"?(t("test@company.com"),n("Test123!")):h==="admin"?(t("admin@company.com"),n("Admin123!")):h==="manager"&&(t("manager@company.com"),n("Manager123!"))};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-corporate-50 via-white to-accent-50 dark:from-primary-900 dark:via-primary-800 dark:to-primary-900 flex items-center justify-center px-4 py-12 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-corporate-300 dark:bg-corporate-800 rounded-full mix-blend-multiply dark:mix-blend-overlay filter blur-xl opacity-30 animate-float"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-accent-300 dark:bg-accent-800 rounded-full mix-blend-multiply dark:mix-blend-overlay filter blur-xl opacity-30 animate-float",style:{animationDelay:"2s"}}),l.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-purple-300 dark:bg-purple-800 rounded-full mix-blend-multiply dark:mix-blend-overlay filter blur-xl opacity-30 animate-float",style:{animationDelay:"4s"}})]}),l.jsxs("div",{className:"max-w-md w-full relative z-10",children:[l.jsxs("div",{className:"text-center mb-8 animate-slide-up",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-corporate-600 to-corporate-800 rounded-2xl mb-4 shadow-xl transform hover:scale-105 transition-transform duration-300",children:l.jsx("span",{className:"text-white font-bold text-3xl",children:"EC"})}),l.jsx("h1",{className:"text-4xl font-bold text-primary-900 dark:text-white mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-primary-600 dark:text-primary-400",children:"Sign in to your Enterprise Communications account"})]}),l.jsxs("div",{className:"bg-white/80 dark:bg-primary-800/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 border border-gray-200/50 dark:border-primary-700/50 animate-scale-in",children:[i&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-start space-x-3 animate-slide-up","data-testid":"login-error",children:[l.jsx(Dd,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:i})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsx(Ao,{label:"Email Address",type:"email",icon:rh,placeholder:"you@company.com",value:e,onChange:h=>t(h.target.value),required:!0,fullWidth:!0,"data-testid":"email-input"}),l.jsx(Ao,{label:"Password",type:"password",icon:$d,placeholder:"Enter your password",value:r,onChange:h=>n(h.target.value),required:!0,fullWidth:!0,"data-testid":"password-input"}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("label",{className:"flex items-center cursor-pointer group",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4 text-corporate-600 border-gray-300 rounded focus:ring-corporate-500 transition-all"}),l.jsx("span",{className:"ml-2 text-primary-700 dark:text-primary-300 group-hover:text-corporate-600 dark:group-hover:text-corporate-400 transition-colors",children:"Remember me"})]}),l.jsx("a",{href:"#",className:"text-corporate-600 hover:text-corporate-700 dark:text-corporate-400 dark:hover:text-corporate-300 font-medium transition-colors",children:"Forgot password?"})]}),l.jsx(vN,{type:"submit",variant:"primary",fullWidth:!0,size:"lg",loading:o,disabled:o,"data-testid":"login-button",icon:gD,children:"Sign In"})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-primary-700",children:[l.jsx("p",{className:"text-xs text-primary-500 dark:text-primary-400 text-center mb-3 font-medium uppercase tracking-wide",children:"Quick Demo Access"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("button",{type:"button",onClick:()=>f("employee"),className:"px-3 py-2.5 text-xs font-medium text-corporate-700 dark:text-corporate-300 bg-corporate-50 dark:bg-corporate-900/20 hover:bg-corporate-100 dark:hover:bg-corporate-900/40 rounded-lg transition-all transform hover:scale-105","data-testid":"demo-employee",children:"Employee"}),l.jsx("button",{type:"button",onClick:()=>f("manager"),className:"px-3 py-2.5 text-xs font-medium text-corporate-700 dark:text-corporate-300 bg-corporate-50 dark:bg-corporate-900/20 hover:bg-corporate-100 dark:hover:bg-corporate-900/40 rounded-lg transition-all transform hover:scale-105","data-testid":"demo-manager",children:"Manager"}),l.jsx("button",{type:"button",onClick:()=>f("admin"),className:"px-3 py-2.5 text-xs font-medium text-corporate-700 dark:text-corporate-300 bg-corporate-50 dark:bg-corporate-900/20 hover:bg-corporate-100 dark:hover:bg-corporate-900/40 rounded-lg transition-all transform hover:scale-105","data-testid":"demo-admin",children:"Admin"})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:["Don't have an account?"," ",l.jsx(Ad,{to:"/register",className:"font-semibold text-corporate-600 hover:text-corporate-700 dark:text-corporate-400 dark:hover:text-corporate-300 transition-colors","data-testid":"register-link",children:"Sign up"})]})})]}),l.jsx("p",{className:"mt-8 text-center text-xs text-primary-500 dark:text-primary-400 animate-fade-in",children:" 2025 Enterprise Communications. All rights reserved."})]})]})},Zp=({label:e,options:t=[],error:r,fullWidth:n=!1,className:i="",...a})=>l.jsxs("div",{className:n?"w-full":"",children:[e&&l.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:e}),l.jsx("select",{className:`block w-full rounded-lg border ${r?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-primary-700 focus:ring-corporate-500 focus:border-corporate-500"} px-4 py-2.5 text-sm bg-white dark:bg-primary-800 text-primary-900 dark:text-white focus:outline-none focus:ring-2 transition-colors ${i}`,...a,children:t.map(o=>l.jsx("option",{value:o.value,children:o.label},o.value))}),r&&l.jsx("p",{className:"mt-1.5 text-sm text-red-600 dark:text-red-400",children:r})]}),PD=()=>{const[e,t]=b.useState({username:"",email:"",password:"",full_name:"",role:"employee",department:"",team:""}),[r,n]=b.useState(""),[i,a]=b.useState(!1),{register:o}=We(),s=Rt(),c=m=>{t({...e,[m.target.name]:m.target.value})},u=async m=>{var g,v;m.preventDefault(),n(""),a(!0);try{await o(e),s("/dashboard")}catch(y){n(((v=(g=y.response)==null?void 0:g.data)==null?void 0:v.detail)||"Failed to create account. Please try again.")}finally{a(!1)}},d=[{value:"employee",label:"Employee"},{value:"team_lead",label:"Team Lead"},{value:"manager",label:"Manager"},{value:"department_head",label:"Department Head"}],f=[{value:"",label:"Select Department"},{value:"Engineering",label:"Engineering"},{value:"Marketing",label:"Marketing"},{value:"Sales",label:"Sales"},{value:"HR",label:"Human Resources"},{value:"Operations",label:"Operations"},{value:"Design",label:"Design"},{value:"Finance",label:"Finance"}],h=[{value:"",label:"Select Team"},{value:"Alpha",label:"Alpha"},{value:"Beta",label:"Beta"},{value:"Gamma",label:"Gamma"},{value:"Delta",label:"Delta"},{value:"Omega",label:"Omega"}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-corporate-50 via-white to-accent-50 dark:from-primary-900 dark:via-primary-800 dark:to-primary-900 flex items-center justify-center px-4 py-12 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-corporate-300 dark:bg-corporate-800 rounded-full mix-blend-multiply dark:mix-blend-overlay filter blur-xl opacity-30 animate-float"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-accent-300 dark:bg-accent-800 rounded-full mix-blend-multiply dark:mix-blend-overlay filter blur-xl opacity-30 animate-float",style:{animationDelay:"2s"}})]}),l.jsxs("div",{className:"max-w-2xl w-full relative z-10",children:[l.jsxs("div",{className:"text-center mb-8 animate-slide-up",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-corporate-600 to-corporate-800 rounded-2xl mb-4 shadow-xl transform hover:scale-105 transition-transform duration-300",children:l.jsx("span",{className:"text-white font-bold text-3xl",children:"EC"})}),l.jsx("h1",{className:"text-4xl font-bold text-primary-900 dark:text-white mb-2",children:"Create Your Account"}),l.jsx("p",{className:"text-primary-600 dark:text-primary-400",children:"Join your team on Enterprise Communications"})]}),l.jsxs("div",{className:"bg-white/80 dark:bg-primary-800/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 border border-gray-200/50 dark:border-primary-700/50 animate-scale-in",children:[r&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-start space-x-3 animate-slide-up","data-testid":"register-error",children:[l.jsx(Dd,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:r})]}),l.jsxs("form",{onSubmit:u,className:"space-y-5",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[l.jsx(Ao,{label:"Full Name",type:"text",name:"full_name",icon:Cw,placeholder:"John Doe",value:e.full_name,onChange:c,required:!0,fullWidth:!0,"data-testid":"full-name-input"}),l.jsx(Ao,{label:"Username",type:"text",name:"username",icon:Cw,placeholder:"johndoe",value:e.username,onChange:c,required:!0,fullWidth:!0,"data-testid":"username-input"})]}),l.jsx(Ao,{label:"Email Address",type:"email",name:"email",icon:rh,placeholder:"john.doe@company.com",value:e.email,onChange:c,required:!0,fullWidth:!0,"data-testid":"email-input"}),l.jsx(Ao,{label:"Password",type:"password",name:"password",icon:$d,placeholder:"Create a strong password",value:e.password,onChange:c,required:!0,fullWidth:!0,helperText:"Minimum 8 characters","data-testid":"password-input"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[l.jsx(Zp,{label:"Role",name:"role",options:d,value:e.role,onChange:c,fullWidth:!0,"data-testid":"role-select"}),l.jsx(Zp,{label:"Department",name:"department",options:f,value:e.department,onChange:c,fullWidth:!0,"data-testid":"department-select"}),l.jsx(Zp,{label:"Team",name:"team",options:h,value:e.team,onChange:c,fullWidth:!0,"data-testid":"team-select"})]}),l.jsx("div",{className:"bg-gradient-to-r from-accent-50 to-accent-100 dark:from-accent-900/20 dark:to-accent-800/20 border border-accent-200 dark:border-accent-800 rounded-xl p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Uo,{className:"w-5 h-5 text-accent-600 dark:text-accent-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-accent-900 dark:text-accent-100",children:"Welcome Bonus"}),l.jsx("p",{className:"text-xs text-accent-700 dark:text-accent-300 mt-1",children:"Get 50 points instantly when you create your account!"})]})]})}),l.jsx(vN,{type:"submit",variant:"primary",fullWidth:!0,size:"lg",loading:i,disabled:i,"data-testid":"register-button",children:"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:["Already have an account?"," ",l.jsx(Ad,{to:"/login",className:"font-semibold text-corporate-600 hover:text-corporate-700 dark:text-corporate-400 dark:hover:text-corporate-300 transition-colors","data-testid":"login-link",children:"Sign in"})]})})]}),l.jsx("p",{className:"mt-8 text-center text-xs text-primary-500 dark:text-primary-400 animate-fade-in",children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})]})]})},Sv=()=>{const{user:e,logout:t}=We(),r=Rt(),n=js(),[i,a]=b.useState(!1),[o,s]=b.useState(!1),[c,u]=b.useState({features:!0,gamification:!0,admin:!0}),d=()=>{t(),r("/login")},f=p=>n.pathname===p,h=p=>{u(x=>({...x,[p]:!x[p]}))},m={main:[{path:"/dashboard",label:"Dashboard",icon:wD},{path:"/digital-hq",label:"Digital HQ",icon:yN}],features:[{path:"/chat",label:"Chat",icon:eg},{path:"/spaces",label:"Spaces",icon:Na},{path:"/feed",label:"Feed",icon:jv},{path:"/recognition",label:"Recognition",icon:Da},{path:"/polls",label:"Polls",icon:Md},{path:"/calls",label:"Call History",icon:SD}],gamification:[{path:"/leaderboard",label:"Leaderboard",icon:kl},{path:"/achievements",label:"Achievements",icon:ts},{path:"/challenges",label:"Challenges",icon:Ka},{path:"/rewards",label:"Rewards",icon:Gl}],admin:[{path:"/approvals",label:"Approvals",icon:Md},{path:"/invitations",label:"Invitations",icon:rh},{path:"/admin",label:"Admin Panel",icon:kD}]},g=({item:p,onClick:x})=>l.jsxs(Ad,{to:p.path,onClick:x,className:`flex items-center space-x-3 px-4 py-2.5 rounded-lg transition-all group ${f(p.path)?"bg-corporate-600 text-white shadow-md":"text-primary-600 dark:text-primary-300 hover:bg-gray-100 dark:hover:bg-primary-800"}`,"data-testid":`nav-${p.label.toLowerCase().replace(" ","-")}`,children:[l.jsx(p.icon,{className:`w-5 h-5 ${f(p.path)?"text-white":"text-primary-500 group-hover:text-corporate-600"}`}),!i&&l.jsx("span",{className:"font-medium text-sm",children:p.label})]}),v=({title:p,section:x,hasItems:w})=>l.jsxs("button",{onClick:()=>h(x),className:"flex items-center justify-between w-full px-4 py-2 text-xs font-semibold text-primary-500 dark:text-primary-400 uppercase tracking-wide hover:text-corporate-600 transition",children:[!i&&l.jsx("span",{children:p}),!i&&w&&l.jsx(kw,{className:`w-4 h-4 transition-transform ${c[x]?"rotate-0":"-rotate-90"}`})]}),y=({isMobile:p=!1})=>{var x;return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"px-4 py-6 border-b border-gray-200 dark:border-primary-700",children:l.jsxs(Ad,{to:"/dashboard",className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-corporate-600 to-corporate-800 rounded-lg flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-white font-bold text-xl",children:"EC"})}),!i&&l.jsxs("div",{children:[l.jsx("span",{className:"text-lg font-bold text-primary-900 dark:text-white block leading-tight",children:"Enterprise"}),l.jsx("span",{className:"text-xs text-primary-500 dark:text-primary-400",children:"Comms"})]})]})}),l.jsxs("nav",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-1",children:[m.main.map(w=>l.jsx(g,{item:w,onClick:()=>p&&s(!1)},w.path)),l.jsxs("div",{className:"pt-4",children:[l.jsx(v,{title:"Features",section:"features",hasItems:!0}),c.features&&l.jsx("div",{className:"space-y-1 mt-1",children:m.features.map(w=>l.jsx(g,{item:w,onClick:()=>p&&s(!1)},w.path))})]}),l.jsxs("div",{className:"pt-4",children:[l.jsx(v,{title:"Gamification",section:"gamification",hasItems:!0}),c.gamification&&l.jsx("div",{className:"space-y-1 mt-1",children:m.gamification.map(w=>l.jsx(g,{item:w,onClick:()=>p&&s(!1)},w.path))})]}),e&&["admin","manager","department_head"].includes(e.role)&&l.jsxs("div",{className:"pt-4",children:[l.jsx(v,{title:"Admin",section:"admin",hasItems:!0}),c.admin&&l.jsx("div",{className:"space-y-1 mt-1",children:m.admin.map(w=>l.jsx(g,{item:w,onClick:()=>p&&s(!1)},w.path))})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-primary-700 p-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-corporate-500 to-corporate-700 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-white text-sm font-medium",children:((x=e==null?void 0:e.full_name)==null?void 0:x.charAt(0))||"U"})}),!i&&l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-primary-900 dark:text-white truncate",children:(e==null?void 0:e.full_name)||"User"}),l.jsxs("div",{className:"flex items-center space-x-2 mt-0.5",children:[l.jsxs("span",{className:"text-xs text-primary-600 dark:text-primary-400",children:["Lvl ",(e==null?void 0:e.level)||1]}),l.jsx("span",{className:"text-xs text-primary-400",children:""}),l.jsxs("span",{className:"text-xs font-medium text-accent-600 dark:text-accent-400",children:[(e==null?void 0:e.points)||0," pts"]})]})]})]}),l.jsxs("button",{onClick:d,className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition","data-testid":"logout-button",children:[l.jsx(_D,{className:"w-4 h-4"}),!i&&l.jsx("span",{children:"Logout"})]})]})]})};return l.jsxs(l.Fragment,{children:[l.jsx("aside",{className:`hidden lg:flex flex-col bg-white dark:bg-primary-900 border-r border-gray-200 dark:border-primary-800 transition-all duration-300 ${i?"w-20":"w-64"}`,children:l.jsx(y,{})}),l.jsx("button",{onClick:()=>s(!o),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white dark:bg-primary-800 rounded-lg shadow-lg border border-gray-200 dark:border-primary-700","data-testid":"mobile-menu-button",children:o?l.jsx(CD,{className:"w-6 h-6 text-primary-900 dark:text-white"}):l.jsx(jD,{className:"w-6 h-6 text-primary-900 dark:text-white"})}),o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>s(!1)}),l.jsx("aside",{className:"lg:hidden fixed left-0 top-0 bottom-0 w-64 bg-white dark:bg-primary-900 z-50 shadow-xl",children:l.jsx(y,{isMobile:!0})})]}),l.jsx("button",{onClick:()=>a(!i),className:"hidden lg:block fixed left-64 top-6 -ml-4 p-2 bg-white dark:bg-primary-800 rounded-full shadow-lg border border-gray-200 dark:border-primary-700 z-30 transition-all hover:shadow-xl",style:{left:i?"5rem":"16rem"},"data-testid":"collapse-button",children:l.jsx(kw,{className:`w-4 h-4 text-primary-900 dark:text-white transition-transform ${i?"rotate-90":"-rotate-90"}`})})]})},fr=({children:e})=>l.jsxs("div",{className:"flex min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-primary-900 dark:to-primary-800",children:[l.jsx(Sv,{}),l.jsx("main",{className:"flex-1 overflow-x-hidden lg:ml-0",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})})]}),Ge=({children:e,title:t,subtitle:r,headerAction:n,footer:i,padding:a=!0,hover:o=!1,gradient:s=!1,className:c="",...u})=>{const d="bg-white dark:bg-primary-800 rounded-xl border border-gray-200 dark:border-primary-700 shadow-soft",f=o?"hover:shadow-large hover:-translate-y-1 transition-all duration-300 hover-lift":"",h=s?"bg-gradient-to-br from-white to-gray-50 dark:from-primary-800 dark:to-primary-900":"";return l.jsxs("div",{className:`${d} ${f} ${h} ${c}`,...u,children:[(t||n)&&l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-primary-700 flex items-center justify-between",children:[l.jsxs("div",{children:[t&&l.jsx("h3",{className:"text-lg font-semibold text-primary-900 dark:text-white",children:t}),r&&l.jsx("p",{className:"text-sm text-primary-500 dark:text-primary-400 mt-1",children:r})]}),n&&l.jsx("div",{children:n})]}),l.jsx("div",{className:a?"p-6":"",children:e}),i&&l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-primary-700 bg-gray-50 dark:bg-primary-900 rounded-b-xl",children:i})]})},rs=({children:e,variant:t="default",size:r="md",rounded:n=!1,dot:i=!1,className:a=""})=>{const o={default:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",primary:"bg-corporate-100 text-corporate-800 dark:bg-corporate-900/30 dark:text-corporate-400",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",danger:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",info:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"},s={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},c=n?"rounded-full":"rounded-md";return l.jsxs("span",{className:`inline-flex items-center font-medium ${o[t]} ${s[r]} ${c} ${a}`,children:[i&&l.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${t==="success"?"bg-green-500":t==="danger"?"bg-red-500":t==="warning"?"bg-yellow-500":"bg-blue-500"}`}),e]})},TD=()=>{var g;const{user:e}=We(),t=Rt(),[r,n]=b.useState(0),[i,a]=b.useState(0),[o,s]=b.useState({totalMessages:0,totalCalls:0,unreadMessages:0});b.useEffect(()=>{c()},[]);const c=async()=>{try{if(e!=null&&e.role&&["admin","manager","department_head","team_lead"].includes(e.role))try{const v=await ue.get("/api/approvals/pending");n(v.data.count||0)}catch(v){console.log("No pending approvals or error:",v)}try{const v=await ue.get("/api/invitations/pending");a(v.data.count||0)}catch(v){console.log("No pending invitations or error:",v)}}catch(v){console.error("Error fetching dashboard data:",v)}},u=[{id:"digital-hq",icon:yN,title:"Digital HQ",description:"Central command center with customizable widgets",path:"/digital-hq",color:"bg-corporate-100 text-corporate-700",iconBg:"bg-corporate-600"},{id:"chat",icon:eg,title:"Chat & Communication",description:"Real-time messaging and video calls",path:"/chat",color:"bg-blue-100 text-blue-700",iconBg:"bg-blue-600"},{id:"spaces",icon:Na,title:"Spaces & Channels",description:"Organized workspaces and team channels",path:"/spaces",color:"bg-cyan-100 text-cyan-700",iconBg:"bg-cyan-600"},{id:"feed",icon:jv,title:"Company Feed",description:"Announcements and company updates",path:"/feed",color:"bg-purple-100 text-purple-700",iconBg:"bg-purple-600"},{id:"recognition",icon:Da,title:"Recognition Wall",description:"Celebrate team achievements",path:"/recognition",color:"bg-pink-100 text-pink-700",iconBg:"bg-pink-600"},{id:"polls",icon:Md,title:"Polls & Surveys",description:"Participate in polls and surveys",path:"/polls",color:"bg-teal-100 text-teal-700",iconBg:"bg-teal-600"}],d=[{id:"leaderboard",icon:kl,title:"Leaderboard",description:"See top performers",path:"/leaderboard",color:"bg-amber-100 text-amber-700",iconBg:"bg-amber-600"},{id:"achievements",icon:ts,title:"Achievements",description:"Unlock badges",path:"/achievements",color:"bg-indigo-100 text-indigo-700",iconBg:"bg-indigo-600"},{id:"challenges",icon:Ka,title:"Challenges",description:"Complete quests",path:"/challenges",color:"bg-green-100 text-green-700",iconBg:"bg-green-600"},{id:"rewards",icon:Gl,title:"Rewards",description:"Redeem points",path:"/rewards",color:"bg-red-100 text-red-700",iconBg:"bg-red-600"}],f=[{id:"approvals",icon:Md,title:"Approval Center",description:"Review and manage requests",path:"/approvals",badge:r,color:"bg-orange-100 text-orange-700",iconBg:"bg-orange-600"},{id:"invitations",icon:rh,title:"Invitations",description:"Manage invitations",path:"/invitations",badge:i,color:"bg-violet-100 text-violet-700",iconBg:"bg-violet-600"}],h=[{label:"Your Points",value:(e==null?void 0:e.points)||0,icon:Da,color:"text-amber-600",bgColor:"bg-amber-50"},{label:"Current Level",value:(e==null?void 0:e.level)||1,icon:kl,color:"text-corporate-600",bgColor:"bg-corporate-50"},{label:"Department",value:(e==null?void 0:e.department)||"N/A",icon:Na,color:"text-accent-600",bgColor:"bg-accent-50"},{label:"Team",value:(e==null?void 0:e.team)||"N/A",icon:Na,color:"text-purple-600",bgColor:"bg-purple-50"}],m=({feature:v})=>l.jsxs("button",{onClick:()=>t(v.path),className:"group relative bg-white dark:bg-primary-800 rounded-xl p-6 border border-gray-200 dark:border-primary-700 hover:shadow-xl hover:-translate-y-2 transition-all duration-300 text-left w-full overflow-hidden","data-testid":`feature-${v.id}`,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl ${v.iconBg} flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-300`,children:l.jsx(v.icon,{className:"w-6 h-6 text-white"})}),v.badge>0&&l.jsx(rs,{variant:"danger",size:"sm",rounded:!0,children:v.badge})]}),l.jsx("h3",{className:"text-lg font-semibold text-primary-900 dark:text-white mb-2 group-hover:text-corporate-600 dark:group-hover:text-corporate-400 transition-colors",children:v.title}),l.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mb-3",children:v.description}),l.jsxs("div",{className:"flex items-center text-sm font-medium text-corporate-600 dark:text-corporate-400",children:[l.jsx("span",{children:"Open"}),l.jsx(vD,{className:"w-4 h-4 ml-1 group-hover:translate-x-2 transition-transform duration-300"})]})]})]});return l.jsxs(fr,{children:[l.jsxs("div",{className:"mb-8 animate-slide-up",children:[l.jsxs("h1",{className:"text-4xl font-bold text-primary-900 dark:text-white mb-2",children:["Welcome back, ",((g=e==null?void 0:e.full_name)==null?void 0:g.split(" ")[0])||"User","! "]}),l.jsx("p",{className:"text-lg text-primary-600 dark:text-primary-400",children:"Here's what's happening with your team today."})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:h.map((v,y)=>l.jsx(Ge,{padding:!1,className:"overflow-hidden hover:shadow-lg transition-shadow duration-300 animate-slide-up",style:{animationDelay:`${y*100}ms`},hover:!0,children:l.jsxs("div",{className:"p-5 relative",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-transparent to-gray-100 dark:to-primary-900 rounded-bl-full opacity-50"}),l.jsx("div",{className:"flex items-center justify-between mb-3 relative z-10",children:l.jsx("div",{className:`w-12 h-12 rounded-xl ${v.bgColor} flex items-center justify-center shadow-md transform hover:scale-110 transition-transform duration-300`,children:l.jsx(v.icon,{className:`w-6 h-6 ${v.color}`})})}),l.jsx("p",{className:"text-3xl font-bold text-primary-900 dark:text-white mb-1 relative z-10",children:v.value}),l.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 relative z-10",children:v.label})]})},y))}),l.jsxs("div",{className:"mb-8 animate-slide-up",children:[l.jsxs("h2",{className:"text-2xl font-bold text-primary-900 dark:text-white mb-6 flex items-center",children:[l.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-corporate-600 to-corporate-800 rounded-full mr-3"}),"Main Features"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(v=>l.jsx(m,{feature:v},v.id))})]}),l.jsxs("div",{className:"mb-8 animate-slide-up",children:[l.jsxs("h2",{className:"text-2xl font-bold text-primary-900 dark:text-white mb-6 flex items-center",children:[l.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-amber-600 to-amber-800 rounded-full mr-3"}),"Gamification & Rewards"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(v=>l.jsx(m,{feature:v},v.id))})]}),(e==null?void 0:e.role)&&["admin","manager","department_head","team_lead"].includes(e.role)&&l.jsxs("div",{className:"mb-8 animate-slide-up",children:[l.jsxs("h2",{className:"text-2xl font-bold text-primary-900 dark:text-white mb-6 flex items-center",children:[l.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-slate-600 to-slate-800 rounded-full mr-3"}),"Management Tools"]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.map(v=>l.jsx(m,{feature:v},v.id)),e.role==="admin"&&l.jsx(m,{feature:{id:"admin",icon:Na,title:"Admin Panel",description:"System management",path:"/admin",color:"bg-slate-100 text-slate-700",iconBg:"bg-slate-600"}})]})]}),l.jsx(Ge,{title:"Quick Actions",className:"mb-8 animate-slide-up",children:l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:()=>t("/chat"),className:"group p-5 text-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-primary-900 dark:to-primary-800 hover:from-corporate-50 hover:to-corporate-100 dark:hover:from-corporate-900/30 dark:hover:to-corporate-800/30 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-md","data-testid":"quick-start-chat",children:[l.jsx(eg,{className:"w-7 h-7 mx-auto mb-2 text-corporate-600 dark:text-corporate-400 group-hover:scale-110 transition-transform"}),l.jsx("p",{className:"text-sm font-semibold text-primary-900 dark:text-white",children:"Start Chat"})]}),l.jsxs("button",{onClick:()=>t("/leaderboard"),className:"group p-5 text-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-primary-900 dark:to-primary-800 hover:from-amber-50 hover:to-amber-100 dark:hover:from-amber-900/30 dark:hover:to-amber-800/30 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-md","data-testid":"quick-view-leaderboard",children:[l.jsx(kl,{className:"w-7 h-7 mx-auto mb-2 text-amber-600 dark:text-amber-400 group-hover:scale-110 transition-transform"}),l.jsx("p",{className:"text-sm font-semibold text-primary-900 dark:text-white",children:"Leaderboard"})]}),l.jsxs("button",{onClick:()=>t("/challenges"),className:"group p-5 text-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-primary-900 dark:to-primary-800 hover:from-green-50 hover:to-green-100 dark:hover:from-green-900/30 dark:hover:to-green-800/30 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-md","data-testid":"quick-view-challenges",children:[l.jsx(Ka,{className:"w-7 h-7 mx-auto mb-2 text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform"}),l.jsx("p",{className:"text-sm font-semibold text-primary-900 dark:text-white",children:"Challenges"})]}),l.jsxs("button",{onClick:()=>t("/rewards"),className:"group p-5 text-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-primary-900 dark:to-primary-800 hover:from-red-50 hover:to-red-100 dark:hover:from-red-900/30 dark:hover:to-red-800/30 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-md","data-testid":"quick-redeem-rewards",children:[l.jsx(Gl,{className:"w-7 h-7 mx-auto mb-2 text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform"}),l.jsx("p",{className:"text-sm font-semibold text-primary-900 dark:text-white",children:"Rewards"})]})]})})]})};var tg={exports:{}},e0,Ow;function AD(){if(Ow)return e0;Ow=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;e0=function(d,f){f=f||{};var h=typeof d;if(h==="string"&&d.length>0)return o(d);if(h==="number"&&isFinite(d))return f.long?c(d):s(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var h=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*a;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function s(d){var f=Math.abs(d);return f>=n?Math.round(d/n)+"d":f>=r?Math.round(d/r)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=n?u(d,f,n,"day"):f>=r?u(d,f,r,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,h,m){var g=f>=h*1.5;return Math.round(d/h)+" "+m+(g?"s":"")}return e0}function RD(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=AD(),r.destroy=u,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let f=0;for(let h=0;h<d.length;h++)f=(f<<5)-f+d.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(d){let f,h=null,m,g;function v(...y){if(!v.enabled)return;const p=v,x=Number(new Date),w=x-(f||x);p.diff=w,p.prev=f,p.curr=x,f=x,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let _=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(k,P)=>{if(k==="%%")return"%";_++;const A=r.formatters[P];if(typeof A=="function"){const M=y[_];k=A.call(p,M),y.splice(_,1),_--}return k}),r.formatArgs.call(p,y),(p.log||r.log).apply(p,y)}return v.namespace=d,v.useColors=r.useColors(),v.color=r.selectColor(d),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==r.namespaces&&(m=r.namespaces,g=r.enabled(d)),g),set:y=>{h=y}}),typeof r.init=="function"&&r.init(v),v}function n(d,f){const h=r(this.namespace+(typeof f>"u"?":":f)+d);return h.log=this.log,h}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];const f=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of f)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function a(d,f){let h=0,m=0,g=-1,v=0;for(;h<d.length;)if(m<f.length&&(f[m]===d[h]||f[m]==="*"))f[m]==="*"?(g=m,v=h,m++):(h++,m++);else if(g!==-1)m=g+1,v++,h=v;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function o(){const d=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),d}function s(d){for(const f of r.skips)if(a(d,f))return!1;for(const f of r.names)if(a(d,f))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var DD=RD;(function(e,t){var r={};t.formatArgs=i,t.save=a,t.load=o,t.useColors=n,t.storage=s(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;u.splice(1,0,d,"color: inherit");let f=0,h=0;u[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(f++,m==="%c"&&(h=f))}),u.splice(h,0,d)}t.log=console.debug||console.log||(()=>{});function a(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function o(){let u;try{u=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=r.DEBUG),u}function s(){try{return localStorage}catch{}}e.exports=DD(t);const{formatters:c}=e.exports;c.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(tg,tg.exports);var MD=tg.exports,$D=function(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null},rg={exports:{}},ng={exports:{}},Cs={},nh={};nh.byteLength=BD;nh.toByteArray=zD;nh.fromByteArray=HD;var Mn=[],Gr=[],LD=typeof Uint8Array<"u"?Uint8Array:Array,t0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ho=0,ID=t0.length;ho<ID;++ho)Mn[ho]=t0[ho],Gr[t0.charCodeAt(ho)]=ho;Gr[45]=62;Gr[95]=63;function xN(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function BD(e){var t=xN(e),r=t[0],n=t[1];return(r+n)*3/4-n}function FD(e,t,r){return(t+r)*3/4-r}function zD(e){var t,r=xN(e),n=r[0],i=r[1],a=new LD(FD(e,n,i)),o=0,s=i>0?n-4:n,c;for(c=0;c<s;c+=4)t=Gr[e.charCodeAt(c)]<<18|Gr[e.charCodeAt(c+1)]<<12|Gr[e.charCodeAt(c+2)]<<6|Gr[e.charCodeAt(c+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=Gr[e.charCodeAt(c)]<<2|Gr[e.charCodeAt(c+1)]>>4,a[o++]=t&255),i===1&&(t=Gr[e.charCodeAt(c)]<<10|Gr[e.charCodeAt(c+1)]<<4|Gr[e.charCodeAt(c+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function UD(e){return Mn[e>>18&63]+Mn[e>>12&63]+Mn[e>>6&63]+Mn[e&63]}function WD(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(UD(n));return i.join("")}function HD(e){for(var t,r=e.length,n=r%3,i=[],a=16383,o=0,s=r-n;o<s;o+=a)i.push(WD(e,o,o+a>s?s:o+a));return n===1?(t=e[r-1],i.push(Mn[t>>2]+Mn[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Mn[t>>10]+Mn[t>>4&63]+Mn[t<<2&63]+"=")),i.join("")}var Nv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Nv.read=function(e,t,r,n,i){var a,o,s=i*8-n-1,c=(1<<s)-1,u=c>>1,d=-7,f=r?i-1:0,h=r?-1:1,m=e[t+f];for(f+=h,a=m&(1<<-d)-1,m>>=-d,d+=s;d>0;a=a*256+e[t+f],f+=h,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=n;d>0;o=o*256+e[t+f],f+=h,d-=8);if(a===0)a=1-u;else{if(a===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-u}return(m?-1:1)*o*Math.pow(2,a-n)};Nv.write=function(e,t,r,n,i,a){var o,s,c,u=a*8-i-1,d=(1<<u)-1,f=d>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:a-1,g=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?t+=h/c:t+=h*Math.pow(2,1-f),t*c>=2&&(o++,c/=2),o+f>=d?(s=0,o=d):o+f>=1?(s=(t*c-1)*Math.pow(2,i),o=o+f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+m]=s&255,m+=g,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+m]=o&255,m+=g,o/=256,u-=8);e[r+m-g]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=nh,r=Nv,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const O=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(O,S),O.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(O){if(O>i)throw new RangeError('The value "'+O+'" is invalid for option "size"');const S=new Uint8Array(O);return Object.setPrototypeOf(S,s.prototype),S}function s(O,S,N){if(typeof O=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(O)}return c(O,S,N)}s.poolSize=8192;function c(O,S,N){if(typeof O=="string")return h(O,S);if(ArrayBuffer.isView(O))return g(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(pt(O,ArrayBuffer)||O&&pt(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pt(O,SharedArrayBuffer)||O&&pt(O.buffer,SharedArrayBuffer)))return v(O,S,N);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=O.valueOf&&O.valueOf();if(E!=null&&E!==O)return s.from(E,S,N);const D=y(O);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return s.from(O[Symbol.toPrimitive]("string"),S,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}s.from=function(O,S,N){return c(O,S,N)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function d(O,S,N){return u(O),O<=0?o(O):S!==void 0?typeof N=="string"?o(O).fill(S,N):o(O).fill(S):o(O)}s.alloc=function(O,S,N){return d(O,S,N)};function f(O){return u(O),o(O<0?0:p(O)|0)}s.allocUnsafe=function(O){return f(O)},s.allocUnsafeSlow=function(O){return f(O)};function h(O,S){if((typeof S!="string"||S==="")&&(S="utf8"),!s.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const N=w(O,S)|0;let E=o(N);const D=E.write(O,S);return D!==N&&(E=E.slice(0,D)),E}function m(O){const S=O.length<0?0:p(O.length)|0,N=o(S);for(let E=0;E<S;E+=1)N[E]=O[E]&255;return N}function g(O){if(pt(O,Uint8Array)){const S=new Uint8Array(O);return v(S.buffer,S.byteOffset,S.byteLength)}return m(O)}function v(O,S,N){if(S<0||O.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<S+(N||0))throw new RangeError('"length" is outside of buffer bounds');let E;return S===void 0&&N===void 0?E=new Uint8Array(O):N===void 0?E=new Uint8Array(O,S):E=new Uint8Array(O,S,N),Object.setPrototypeOf(E,s.prototype),E}function y(O){if(s.isBuffer(O)){const S=p(O.length)|0,N=o(S);return N.length===0||O.copy(N,0,0,S),N}if(O.length!==void 0)return typeof O.length!="number"||st(O.length)?o(0):m(O);if(O.type==="Buffer"&&Array.isArray(O.data))return m(O.data)}function p(O){if(O>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return O|0}function x(O){return+O!=O&&(O=0),s.alloc(+O)}s.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==s.prototype},s.compare=function(S,N){if(pt(S,Uint8Array)&&(S=s.from(S,S.offset,S.byteLength)),pt(N,Uint8Array)&&(N=s.from(N,N.offset,N.byteLength)),!s.isBuffer(S)||!s.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===N)return 0;let E=S.length,D=N.length;for(let I=0,K=Math.min(E,D);I<K;++I)if(S[I]!==N[I]){E=S[I],D=N[I];break}return E<D?-1:D<E?1:0},s.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(S,N){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return s.alloc(0);let E;if(N===void 0)for(N=0,E=0;E<S.length;++E)N+=S[E].length;const D=s.allocUnsafe(N);let I=0;for(E=0;E<S.length;++E){let K=S[E];if(pt(K,Uint8Array))I+K.length>D.length?(s.isBuffer(K)||(K=s.from(K)),K.copy(D,I)):Uint8Array.prototype.set.call(D,K,I);else if(s.isBuffer(K))K.copy(D,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=K.length}return D};function w(O,S){if(s.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||pt(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const N=O.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&N===0)return 0;let D=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return pe(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return ut(O).length;default:if(D)return E?-1:pe(O).length;S=(""+S).toLowerCase(),D=!0}}s.byteLength=w;function _(O,S,N){let E=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,S>>>=0,N<=S))return"";for(O||(O="utf8");;)switch(O){case"hex":return te(this,S,N);case"utf8":case"utf-8":return J(this,S,N);case"ascii":return Q(this,S,N);case"latin1":case"binary":return q(this,S,N);case"base64":return X(this,S,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,S,N);default:if(E)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),E=!0}}s.prototype._isBuffer=!0;function j(O,S,N){const E=O[S];O[S]=O[N],O[N]=E}s.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<S;N+=2)j(this,N,N+1);return this},s.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<S;N+=4)j(this,N,N+3),j(this,N+1,N+2);return this},s.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<S;N+=8)j(this,N,N+7),j(this,N+1,N+6),j(this,N+2,N+5),j(this,N+3,N+4);return this},s.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?J(this,0,S):_.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(S){if(!s.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:s.compare(this,S)===0},s.prototype.inspect=function(){let S="";const N=e.INSPECT_MAX_BYTES;return S=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(S+=" ... "),"<Buffer "+S+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(S,N,E,D,I){if(pt(S,Uint8Array)&&(S=s.from(S,S.offset,S.byteLength)),!s.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(N===void 0&&(N=0),E===void 0&&(E=S?S.length:0),D===void 0&&(D=0),I===void 0&&(I=this.length),N<0||E>S.length||D<0||I>this.length)throw new RangeError("out of range index");if(D>=I&&N>=E)return 0;if(D>=I)return-1;if(N>=E)return 1;if(N>>>=0,E>>>=0,D>>>=0,I>>>=0,this===S)return 0;let K=I-D,ye=E-N;const He=Math.min(K,ye),qe=this.slice(D,I),Qe=S.slice(N,E);for(let ee=0;ee<He;++ee)if(qe[ee]!==Qe[ee]){K=qe[ee],ye=Qe[ee];break}return K<ye?-1:ye<K?1:0};function k(O,S,N,E,D){if(O.length===0)return-1;if(typeof N=="string"?(E=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,st(N)&&(N=D?0:O.length-1),N<0&&(N=O.length+N),N>=O.length){if(D)return-1;N=O.length-1}else if(N<0)if(D)N=0;else return-1;if(typeof S=="string"&&(S=s.from(S,E)),s.isBuffer(S))return S.length===0?-1:P(O,S,N,E,D);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(O,S,N):Uint8Array.prototype.lastIndexOf.call(O,S,N):P(O,[S],N,E,D);throw new TypeError("val must be string, number or Buffer")}function P(O,S,N,E,D){let I=1,K=O.length,ye=S.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(O.length<2||S.length<2)return-1;I=2,K/=2,ye/=2,N/=2}function He(Qe,ee){return I===1?Qe[ee]:Qe.readUInt16BE(ee*I)}let qe;if(D){let Qe=-1;for(qe=N;qe<K;qe++)if(He(O,qe)===He(S,Qe===-1?0:qe-Qe)){if(Qe===-1&&(Qe=qe),qe-Qe+1===ye)return Qe*I}else Qe!==-1&&(qe-=qe-Qe),Qe=-1}else for(N+ye>K&&(N=K-ye),qe=N;qe>=0;qe--){let Qe=!0;for(let ee=0;ee<ye;ee++)if(He(O,qe+ee)!==He(S,ee)){Qe=!1;break}if(Qe)return qe}return-1}s.prototype.includes=function(S,N,E){return this.indexOf(S,N,E)!==-1},s.prototype.indexOf=function(S,N,E){return k(this,S,N,E,!0)},s.prototype.lastIndexOf=function(S,N,E){return k(this,S,N,E,!1)};function A(O,S,N,E){N=Number(N)||0;const D=O.length-N;E?(E=Number(E),E>D&&(E=D)):E=D;const I=S.length;E>I/2&&(E=I/2);let K;for(K=0;K<E;++K){const ye=parseInt(S.substr(K*2,2),16);if(st(ye))return K;O[N+K]=ye}return K}function M(O,S,N,E){return Er(pe(S,O.length-N),O,N,E)}function R(O,S,N,E){return Er(_e(S),O,N,E)}function L(O,S,N,E){return Er(ut(S),O,N,E)}function U(O,S,N,E){return Er(De(S,O.length-N),O,N,E)}s.prototype.write=function(S,N,E,D){if(N===void 0)D="utf8",E=this.length,N=0;else if(E===void 0&&typeof N=="string")D=N,E=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(E)?(E=E>>>0,D===void 0&&(D="utf8")):(D=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const I=this.length-N;if((E===void 0||E>I)&&(E=I),S.length>0&&(E<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");let K=!1;for(;;)switch(D){case"hex":return A(this,S,N,E);case"utf8":case"utf-8":return M(this,S,N,E);case"ascii":case"latin1":case"binary":return R(this,S,N,E);case"base64":return L(this,S,N,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,S,N,E);default:if(K)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),K=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(O,S,N){return S===0&&N===O.length?t.fromByteArray(O):t.fromByteArray(O.slice(S,N))}function J(O,S,N){N=Math.min(O.length,N);const E=[];let D=S;for(;D<N;){const I=O[D];let K=null,ye=I>239?4:I>223?3:I>191?2:1;if(D+ye<=N){let He,qe,Qe,ee;switch(ye){case 1:I<128&&(K=I);break;case 2:He=O[D+1],(He&192)===128&&(ee=(I&31)<<6|He&63,ee>127&&(K=ee));break;case 3:He=O[D+1],qe=O[D+2],(He&192)===128&&(qe&192)===128&&(ee=(I&15)<<12|(He&63)<<6|qe&63,ee>2047&&(ee<55296||ee>57343)&&(K=ee));break;case 4:He=O[D+1],qe=O[D+2],Qe=O[D+3],(He&192)===128&&(qe&192)===128&&(Qe&192)===128&&(ee=(I&15)<<18|(He&63)<<12|(qe&63)<<6|Qe&63,ee>65535&&ee<1114112&&(K=ee))}}K===null?(K=65533,ye=1):K>65535&&(K-=65536,E.push(K>>>10&1023|55296),K=56320|K&1023),E.push(K),D+=ye}return Y(E)}const le=4096;function Y(O){const S=O.length;if(S<=le)return String.fromCharCode.apply(String,O);let N="",E=0;for(;E<S;)N+=String.fromCharCode.apply(String,O.slice(E,E+=le));return N}function Q(O,S,N){let E="";N=Math.min(O.length,N);for(let D=S;D<N;++D)E+=String.fromCharCode(O[D]&127);return E}function q(O,S,N){let E="";N=Math.min(O.length,N);for(let D=S;D<N;++D)E+=String.fromCharCode(O[D]);return E}function te(O,S,N){const E=O.length;(!S||S<0)&&(S=0),(!N||N<0||N>E)&&(N=E);let D="";for(let I=S;I<N;++I)D+=qr[O[I]];return D}function ie(O,S,N){const E=O.slice(S,N);let D="";for(let I=0;I<E.length-1;I+=2)D+=String.fromCharCode(E[I]+E[I+1]*256);return D}s.prototype.slice=function(S,N){const E=this.length;S=~~S,N=N===void 0?E:~~N,S<0?(S+=E,S<0&&(S=0)):S>E&&(S=E),N<0?(N+=E,N<0&&(N=0)):N>E&&(N=E),N<S&&(N=S);const D=this.subarray(S,N);return Object.setPrototypeOf(D,s.prototype),D};function oe(O,S,N){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+S>N)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(S,N,E){S=S>>>0,N=N>>>0,E||oe(S,N,this.length);let D=this[S],I=1,K=0;for(;++K<N&&(I*=256);)D+=this[S+K]*I;return D},s.prototype.readUintBE=s.prototype.readUIntBE=function(S,N,E){S=S>>>0,N=N>>>0,E||oe(S,N,this.length);let D=this[S+--N],I=1;for(;N>0&&(I*=256);)D+=this[S+--N]*I;return D},s.prototype.readUint8=s.prototype.readUInt8=function(S,N){return S=S>>>0,N||oe(S,1,this.length),this[S]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(S,N){return S=S>>>0,N||oe(S,2,this.length),this[S]|this[S+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(S,N){return S=S>>>0,N||oe(S,2,this.length),this[S]<<8|this[S+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(S,N){return S=S>>>0,N||oe(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(S,N){return S=S>>>0,N||oe(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},s.prototype.readBigUInt64LE=Lt(function(S){S=S>>>0,W(S,"offset");const N=this[S],E=this[S+7];(N===void 0||E===void 0)&&G(S,this.length-8);const D=N+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,I=this[++S]+this[++S]*2**8+this[++S]*2**16+E*2**24;return BigInt(D)+(BigInt(I)<<BigInt(32))}),s.prototype.readBigUInt64BE=Lt(function(S){S=S>>>0,W(S,"offset");const N=this[S],E=this[S+7];(N===void 0||E===void 0)&&G(S,this.length-8);const D=N*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],I=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+E;return(BigInt(D)<<BigInt(32))+BigInt(I)}),s.prototype.readIntLE=function(S,N,E){S=S>>>0,N=N>>>0,E||oe(S,N,this.length);let D=this[S],I=1,K=0;for(;++K<N&&(I*=256);)D+=this[S+K]*I;return I*=128,D>=I&&(D-=Math.pow(2,8*N)),D},s.prototype.readIntBE=function(S,N,E){S=S>>>0,N=N>>>0,E||oe(S,N,this.length);let D=N,I=1,K=this[S+--D];for(;D>0&&(I*=256);)K+=this[S+--D]*I;return I*=128,K>=I&&(K-=Math.pow(2,8*N)),K},s.prototype.readInt8=function(S,N){return S=S>>>0,N||oe(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},s.prototype.readInt16LE=function(S,N){S=S>>>0,N||oe(S,2,this.length);const E=this[S]|this[S+1]<<8;return E&32768?E|4294901760:E},s.prototype.readInt16BE=function(S,N){S=S>>>0,N||oe(S,2,this.length);const E=this[S+1]|this[S]<<8;return E&32768?E|4294901760:E},s.prototype.readInt32LE=function(S,N){return S=S>>>0,N||oe(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},s.prototype.readInt32BE=function(S,N){return S=S>>>0,N||oe(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},s.prototype.readBigInt64LE=Lt(function(S){S=S>>>0,W(S,"offset");const N=this[S],E=this[S+7];(N===void 0||E===void 0)&&G(S,this.length-8);const D=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(E<<24);return(BigInt(D)<<BigInt(32))+BigInt(N+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),s.prototype.readBigInt64BE=Lt(function(S){S=S>>>0,W(S,"offset");const N=this[S],E=this[S+7];(N===void 0||E===void 0)&&G(S,this.length-8);const D=(N<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(D)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+E)}),s.prototype.readFloatLE=function(S,N){return S=S>>>0,N||oe(S,4,this.length),r.read(this,S,!0,23,4)},s.prototype.readFloatBE=function(S,N){return S=S>>>0,N||oe(S,4,this.length),r.read(this,S,!1,23,4)},s.prototype.readDoubleLE=function(S,N){return S=S>>>0,N||oe(S,8,this.length),r.read(this,S,!0,52,8)},s.prototype.readDoubleBE=function(S,N){return S=S>>>0,N||oe(S,8,this.length),r.read(this,S,!1,52,8)};function se(O,S,N,E,D,I){if(!s.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>D||S<I)throw new RangeError('"value" argument is out of bounds');if(N+E>O.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(S,N,E,D){if(S=+S,N=N>>>0,E=E>>>0,!D){const ye=Math.pow(2,8*E)-1;se(this,S,N,E,ye,0)}let I=1,K=0;for(this[N]=S&255;++K<E&&(I*=256);)this[N+K]=S/I&255;return N+E},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(S,N,E,D){if(S=+S,N=N>>>0,E=E>>>0,!D){const ye=Math.pow(2,8*E)-1;se(this,S,N,E,ye,0)}let I=E-1,K=1;for(this[N+I]=S&255;--I>=0&&(K*=256);)this[N+I]=S/K&255;return N+E},s.prototype.writeUint8=s.prototype.writeUInt8=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,1,255,0),this[N]=S&255,N+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,2,65535,0),this[N]=S&255,this[N+1]=S>>>8,N+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,2,65535,0),this[N]=S>>>8,this[N+1]=S&255,N+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,4,4294967295,0),this[N+3]=S>>>24,this[N+2]=S>>>16,this[N+1]=S>>>8,this[N]=S&255,N+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,4,4294967295,0),this[N]=S>>>24,this[N+1]=S>>>16,this[N+2]=S>>>8,this[N+3]=S&255,N+4};function we(O,S,N,E,D){C(S,E,D,O,N,7);let I=Number(S&BigInt(4294967295));O[N++]=I,I=I>>8,O[N++]=I,I=I>>8,O[N++]=I,I=I>>8,O[N++]=I;let K=Number(S>>BigInt(32)&BigInt(4294967295));return O[N++]=K,K=K>>8,O[N++]=K,K=K>>8,O[N++]=K,K=K>>8,O[N++]=K,N}function Ce(O,S,N,E,D){C(S,E,D,O,N,7);let I=Number(S&BigInt(4294967295));O[N+7]=I,I=I>>8,O[N+6]=I,I=I>>8,O[N+5]=I,I=I>>8,O[N+4]=I;let K=Number(S>>BigInt(32)&BigInt(4294967295));return O[N+3]=K,K=K>>8,O[N+2]=K,K=K>>8,O[N+1]=K,K=K>>8,O[N]=K,N+8}s.prototype.writeBigUInt64LE=Lt(function(S,N=0){return we(this,S,N,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Lt(function(S,N=0){return Ce(this,S,N,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(S,N,E,D){if(S=+S,N=N>>>0,!D){const He=Math.pow(2,8*E-1);se(this,S,N,E,He-1,-He)}let I=0,K=1,ye=0;for(this[N]=S&255;++I<E&&(K*=256);)S<0&&ye===0&&this[N+I-1]!==0&&(ye=1),this[N+I]=(S/K>>0)-ye&255;return N+E},s.prototype.writeIntBE=function(S,N,E,D){if(S=+S,N=N>>>0,!D){const He=Math.pow(2,8*E-1);se(this,S,N,E,He-1,-He)}let I=E-1,K=1,ye=0;for(this[N+I]=S&255;--I>=0&&(K*=256);)S<0&&ye===0&&this[N+I+1]!==0&&(ye=1),this[N+I]=(S/K>>0)-ye&255;return N+E},s.prototype.writeInt8=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,1,127,-128),S<0&&(S=255+S+1),this[N]=S&255,N+1},s.prototype.writeInt16LE=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,2,32767,-32768),this[N]=S&255,this[N+1]=S>>>8,N+2},s.prototype.writeInt16BE=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,2,32767,-32768),this[N]=S>>>8,this[N+1]=S&255,N+2},s.prototype.writeInt32LE=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,4,2147483647,-2147483648),this[N]=S&255,this[N+1]=S>>>8,this[N+2]=S>>>16,this[N+3]=S>>>24,N+4},s.prototype.writeInt32BE=function(S,N,E){return S=+S,N=N>>>0,E||se(this,S,N,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[N]=S>>>24,this[N+1]=S>>>16,this[N+2]=S>>>8,this[N+3]=S&255,N+4},s.prototype.writeBigInt64LE=Lt(function(S,N=0){return we(this,S,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Lt(function(S,N=0){return Ce(this,S,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(O,S,N,E,D,I){if(N+E>O.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function z(O,S,N,E,D){return S=+S,N=N>>>0,D||ge(O,S,N,4),r.write(O,S,N,E,23,4),N+4}s.prototype.writeFloatLE=function(S,N,E){return z(this,S,N,!0,E)},s.prototype.writeFloatBE=function(S,N,E){return z(this,S,N,!1,E)};function B(O,S,N,E,D){return S=+S,N=N>>>0,D||ge(O,S,N,8),r.write(O,S,N,E,52,8),N+8}s.prototype.writeDoubleLE=function(S,N,E){return B(this,S,N,!0,E)},s.prototype.writeDoubleBE=function(S,N,E){return B(this,S,N,!1,E)},s.prototype.copy=function(S,N,E,D){if(!s.isBuffer(S))throw new TypeError("argument should be a Buffer");if(E||(E=0),!D&&D!==0&&(D=this.length),N>=S.length&&(N=S.length),N||(N=0),D>0&&D<E&&(D=E),D===E||S.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),S.length-N<D-E&&(D=S.length-N+E);const I=D-E;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,E,D):Uint8Array.prototype.set.call(S,this.subarray(E,D),N),I},s.prototype.fill=function(S,N,E,D){if(typeof S=="string"){if(typeof N=="string"?(D=N,N=0,E=this.length):typeof E=="string"&&(D=E,E=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!s.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(S.length===1){const K=S.charCodeAt(0);(D==="utf8"&&K<128||D==="latin1")&&(S=K)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(N<0||this.length<N||this.length<E)throw new RangeError("Out of range index");if(E<=N)return this;N=N>>>0,E=E===void 0?this.length:E>>>0,S||(S=0);let I;if(typeof S=="number")for(I=N;I<E;++I)this[I]=S;else{const K=s.isBuffer(S)?S:s.from(S,D),ye=K.length;if(ye===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(I=0;I<E-N;++I)this[I+N]=K[I%ye]}return this};const F={};function $(O,S,N){F[O]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(D){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:D,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}$("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(O,S){return`The "${O}" argument must be of type number. Received type ${typeof S}`},TypeError),$("ERR_OUT_OF_RANGE",function(O,S,N){let E=`The value of "${O}" is out of range.`,D=N;return Number.isInteger(N)&&Math.abs(N)>2**32?D=Z(String(N)):typeof N=="bigint"&&(D=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(D=Z(D)),D+="n"),E+=` It must be ${S}. Received ${D}`,E},RangeError);function Z(O){let S="",N=O.length;const E=O[0]==="-"?1:0;for(;N>=E+4;N-=3)S=`_${O.slice(N-3,N)}${S}`;return`${O.slice(0,N)}${S}`}function T(O,S,N){W(S,"offset"),(O[S]===void 0||O[S+N]===void 0)&&G(S,O.length-(N+1))}function C(O,S,N,E,D,I){if(O>N||O<S){const K=typeof S=="bigint"?"n":"";let ye;throw S===0||S===BigInt(0)?ye=`>= 0${K} and < 2${K} ** ${(I+1)*8}${K}`:ye=`>= -(2${K} ** ${(I+1)*8-1}${K}) and < 2 ** ${(I+1)*8-1}${K}`,new F.ERR_OUT_OF_RANGE("value",ye,O)}T(E,D,I)}function W(O,S){if(typeof O!="number")throw new F.ERR_INVALID_ARG_TYPE(S,"number",O)}function G(O,S,N){throw Math.floor(O)!==O?(W(O,N),new F.ERR_OUT_OF_RANGE("offset","an integer",O)):S<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,O)}const fe=/[^+/0-9A-Za-z-_]/g;function ae(O){if(O=O.split("=")[0],O=O.trim().replace(fe,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function pe(O,S){S=S||1/0;let N;const E=O.length;let D=null;const I=[];for(let K=0;K<E;++K){if(N=O.charCodeAt(K),N>55295&&N<57344){if(!D){if(N>56319){(S-=3)>-1&&I.push(239,191,189);continue}else if(K+1===E){(S-=3)>-1&&I.push(239,191,189);continue}D=N;continue}if(N<56320){(S-=3)>-1&&I.push(239,191,189),D=N;continue}N=(D-55296<<10|N-56320)+65536}else D&&(S-=3)>-1&&I.push(239,191,189);if(D=null,N<128){if((S-=1)<0)break;I.push(N)}else if(N<2048){if((S-=2)<0)break;I.push(N>>6|192,N&63|128)}else if(N<65536){if((S-=3)<0)break;I.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((S-=4)<0)break;I.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return I}function _e(O){const S=[];for(let N=0;N<O.length;++N)S.push(O.charCodeAt(N)&255);return S}function De(O,S){let N,E,D;const I=[];for(let K=0;K<O.length&&!((S-=2)<0);++K)N=O.charCodeAt(K),E=N>>8,D=N%256,I.push(D),I.push(E);return I}function ut(O){return t.toByteArray(ae(O))}function Er(O,S,N,E){let D;for(D=0;D<E&&!(D+N>=S.length||D>=O.length);++D)S[D+N]=O[D];return D}function pt(O,S){return O instanceof S||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===S.name}function st(O){return O!==O}const qr=function(){const O="0123456789abcdef",S=new Array(256);for(let N=0;N<16;++N){const E=N*16;for(let D=0;D<16;++D)S[E+D]=O[N]+O[D]}return S}();function Lt(O){return typeof BigInt>"u"?hn:O}function hn(){throw new Error("BigInt not supported")}})(Cs);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Cs,n=r.Buffer;function i(o,s){for(var c in o)s[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(o,s,c){return n(o,s,c)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(o,s,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,s,c)},a.alloc=function(o,s,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return s!==void 0?typeof c=="string"?u.fill(s,c):u.fill(s):u.fill(0),u},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(ng,ng.exports);var bN=ng.exports,r0=65536,qD=4294967295;function VD(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var KD=bN.Buffer,Ld=globalThis.crypto||globalThis.msCrypto;Ld&&Ld.getRandomValues?rg.exports=YD:rg.exports=VD;function YD(e,t){if(e>qD)throw new RangeError("requested too many random bytes");var r=KD.allocUnsafe(e);if(e>0)if(e>r0)for(var n=0;n<e;n+=r0)Ld.getRandomValues(r.slice(n,n+r0));else Ld.getRandomValues(r);return typeof t=="function"?process.nextTick(function(){t(null,r)}):r}var GD=rg.exports,ig={exports:{}},kv={exports:{}},Wo=typeof Reflect=="object"?Reflect:null,Pw=Wo&&typeof Wo.apply=="function"?Wo.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},ed;Wo&&typeof Wo.ownKeys=="function"?ed=Wo.ownKeys:Object.getOwnPropertySymbols?ed=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ed=function(t){return Object.getOwnPropertyNames(t)};function XD(e){console&&console.warn&&console.warn(e)}var wN=Number.isNaN||function(t){return t!==t};function Ue(){Ue.init.call(this)}kv.exports=Ue;kv.exports.once=eM;Ue.EventEmitter=Ue;Ue.prototype._events=void 0;Ue.prototype._eventsCount=0;Ue.prototype._maxListeners=void 0;var Tw=10;function ih(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ue,"defaultMaxListeners",{enumerable:!0,get:function(){return Tw},set:function(e){if(typeof e!="number"||e<0||wN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Tw=e}});Ue.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ue.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||wN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _N(e){return e._maxListeners===void 0?Ue.defaultMaxListeners:e._maxListeners}Ue.prototype.getMaxListeners=function(){return _N(this)};Ue.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=a[t];if(c===void 0)return!1;if(typeof c=="function")Pw(c,this,r);else for(var u=c.length,d=EN(c,u),n=0;n<u;++n)Pw(d[n],this,r);return!0};function jN(e,t,r,n){var i,a,o;if(ih(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),o===void 0)o=a[t]=r,++e._eventsCount;else if(typeof o=="function"?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=_N(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,XD(s)}return e}Ue.prototype.addListener=function(t,r){return jN(this,t,r,!1)};Ue.prototype.on=Ue.prototype.addListener;Ue.prototype.prependListener=function(t,r){return jN(this,t,r,!0)};function QD(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function SN(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=QD.bind(n);return i.listener=r,n.wrapFn=i,i}Ue.prototype.once=function(t,r){return ih(r),this.on(t,SN(this,t,r)),this};Ue.prototype.prependOnceListener=function(t,r){return ih(r),this.prependListener(t,SN(this,t,r)),this};Ue.prototype.removeListener=function(t,r){var n,i,a,o,s;if(ih(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){s=n[o].listener,a=o;break}if(a<0)return this;a===0?n.shift():JD(n,a),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||r)}return this};Ue.prototype.off=Ue.prototype.removeListener;Ue.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var a=Object.keys(n),o;for(i=0;i<a.length;++i)o=a[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function NN(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?ZD(i):EN(i,i.length)}Ue.prototype.listeners=function(t){return NN(this,t,!0)};Ue.prototype.rawListeners=function(t){return NN(this,t,!1)};Ue.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):kN.call(e,t)};Ue.prototype.listenerCount=kN;function kN(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ue.prototype.eventNames=function(){return this._eventsCount>0?ed(this._events):[]};function EN(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function JD(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function ZD(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function eM(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,a),n(o)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}CN(e,t,a,{once:!0}),t!=="error"&&tM(e,i,{once:!0})})}function tM(e,t,r){typeof e.on=="function"&&CN(e,"error",t,r)}function CN(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(a){n.once&&e.removeEventListener(t,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var ON=kv.exports,PN=ON.EventEmitter;const rM={},nM=Object.freeze(Object.defineProperty({__proto__:null,default:rM},Symbol.toStringTag,{value:"Module"})),TN=my(nM);var n0,Aw;function iM(){if(Aw)return n0;Aw=1;function e(g,v){var y=Object.keys(g);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(g);v&&(p=p.filter(function(x){return Object.getOwnPropertyDescriptor(g,x).enumerable})),y.push.apply(y,p)}return y}function t(g){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?e(Object(y),!0).forEach(function(p){r(g,p,y[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(y)):e(Object(y)).forEach(function(p){Object.defineProperty(g,p,Object.getOwnPropertyDescriptor(y,p))})}return g}function r(g,v,y){return v=o(v),v in g?Object.defineProperty(g,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[v]=y,g}function n(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function i(g,v){for(var y=0;y<v.length;y++){var p=v[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,o(p.key),p)}}function a(g,v,y){return v&&i(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),g}function o(g){var v=s(g,"string");return typeof v=="symbol"?v:String(v)}function s(g,v){if(typeof g!="object"||g===null)return g;var y=g[Symbol.toPrimitive];if(y!==void 0){var p=y.call(g,v);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}var c=Cs,u=c.Buffer,d=TN,f=d.inspect,h=f&&f.custom||"inspect";function m(g,v,y){u.prototype.copy.call(g,v,y)}return n0=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return a(g,[{key:"push",value:function(y){var p={data:y,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(y){var p={data:y,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var p=this.head,x=""+p.data;p=p.next;)x+=y+p.data;return x}},{key:"concat",value:function(y){if(this.length===0)return u.alloc(0);for(var p=u.allocUnsafe(y>>>0),x=this.head,w=0;x;)m(x.data,p,w),w+=x.data.length,x=x.next;return p}},{key:"consume",value:function(y,p){var x;return y<this.head.data.length?(x=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?x=this.shift():x=p?this._getString(y):this._getBuffer(y),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var p=this.head,x=1,w=p.data;for(y-=w.length;p=p.next;){var _=p.data,j=y>_.length?_.length:y;if(j===_.length?w+=_:w+=_.slice(0,y),y-=j,y===0){j===_.length?(++x,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=_.slice(j));break}++x}return this.length-=x,w}},{key:"_getBuffer",value:function(y){var p=u.allocUnsafe(y),x=this.head,w=1;for(x.data.copy(p),y-=x.data.length;x=x.next;){var _=x.data,j=y>_.length?_.length:y;if(_.copy(p,p.length-y,0,j),y-=j,y===0){j===_.length?(++w,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=_.slice(j));break}++w}return this.length-=w,p}},{key:h,value:function(y,p){return f(this,t(t({},p),{},{depth:0,customInspect:!1}))}}]),g}(),n0}function aM(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ag,this,e)):process.nextTick(ag,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(a){!t&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(td,r):(r._writableState.errorEmitted=!0,process.nextTick(Rw,r,a)):process.nextTick(Rw,r,a):t?(process.nextTick(td,r),t(a)):process.nextTick(td,r)}),this)}function Rw(e,t){ag(e,t),td(e)}function td(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function oM(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ag(e,t){e.emit("error",t)}function sM(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var AN={destroy:aM,undestroy:oM,errorOrDestroy:sM},ao={};function lM(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var RN={};function un(e,t,r){r||(r=Error);function n(a,o,s){return typeof t=="string"?t:t(a,o,s)}var i=function(a){lM(o,a);function o(s,c,u){return a.call(this,n(s,c,u))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=e,RN[e]=i}function Dw(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function cM(e,t,r){return e.substr(0,t.length)===t}function uM(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function dM(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}un("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);un("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&cM(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(uM(e," argument"))i="The ".concat(e," ").concat(n," ").concat(Dw(t,"type"));else{var a=dM(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(Dw(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);un("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");un("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});un("ERR_STREAM_PREMATURE_CLOSE","Premature close");un("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});un("ERR_MULTIPLE_CALLBACK","Callback called multiple times");un("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");un("ERR_STREAM_WRITE_AFTER_END","write after end");un("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);un("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);un("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ao.codes=RN;var fM=ao.codes.ERR_INVALID_OPT_VALUE;function hM(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function pM(e,t,r,n){var i=hM(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new fM(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var DN={getHighWaterMark:pM},og={exports:{}};typeof Object.create=="function"?og.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:og.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var wc=og.exports,mM=gM;function gM(e,t){if(i0("noDeprecation"))return e;var r=!1;function n(){if(!r){if(i0("throwDeprecation"))throw new Error(t);i0("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function i0(e){try{if(!globalThis.localStorage)return!1}catch{return!1}var t=globalThis.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var a0,Mw;function MN(){if(Mw)return a0;Mw=1,a0=A;function e(z){var B=this;this.next=null,this.entry=null,this.finish=function(){ge(B,z)}}var t;A.WritableState=k;var r={deprecate:mM},n=PN,i=Cs.Buffer,a=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(z){return i.from(z)}function s(z){return i.isBuffer(z)||z instanceof a}var c=AN,u=DN,d=u.getHighWaterMark,f=ao.codes,h=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,p=f.ERR_STREAM_NULL_VALUES,x=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,_=c.errorOrDestroy;wc(A,n);function j(){}function k(z,B,F){t=t||ns(),z=z||{},typeof F!="boolean"&&(F=B instanceof t),this.objectMode=!!z.objectMode,F&&(this.objectMode=this.objectMode||!!z.writableObjectMode),this.highWaterMark=d(this,z,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=z.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){Y(B,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}k.prototype.getBuffer=function(){for(var B=this.bufferedRequest,F=[];B;)F.push(B),B=B.next;return F},function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var P;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(B){return P.call(this,B)?!0:this!==A?!1:B&&B._writableState instanceof k}})):P=function(B){return B instanceof this};function A(z){t=t||ns();var B=this instanceof t;if(!B&&!P.call(A,this))return new A(z);this._writableState=new k(z,this,B),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),n.call(this)}A.prototype.pipe=function(){_(this,new v)};function M(z,B){var F=new x;_(z,F),process.nextTick(B,F)}function R(z,B,F,$){var Z;return F===null?Z=new p:typeof F!="string"&&!B.objectMode&&(Z=new h("chunk",["string","Buffer"],F)),Z?(_(z,Z),process.nextTick($,Z),!1):!0}A.prototype.write=function(z,B,F){var $=this._writableState,Z=!1,T=!$.objectMode&&s(z);return T&&!i.isBuffer(z)&&(z=o(z)),typeof B=="function"&&(F=B,B=null),T?B="buffer":B||(B=$.defaultEncoding),typeof F!="function"&&(F=j),$.ending?M(this,F):(T||R(this,$,z,F))&&($.pendingcb++,Z=U(this,$,T,z,B,F)),Z},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,!z.writing&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&te(this,z))},A.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new w(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function L(z,B,F){return!z.objectMode&&z.decodeStrings!==!1&&typeof B=="string"&&(B=i.from(B,F)),B}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(z,B,F,$,Z,T){if(!F){var C=L(B,$,Z);$!==C&&(F=!0,Z="buffer",$=C)}var W=B.objectMode?1:$.length;B.length+=W;var G=B.length<B.highWaterMark;if(G||(B.needDrain=!0),B.writing||B.corked){var fe=B.lastBufferedRequest;B.lastBufferedRequest={chunk:$,encoding:Z,isBuf:F,callback:T,next:null},fe?fe.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else X(z,B,!1,W,$,Z,T);return G}function X(z,B,F,$,Z,T,C){B.writelen=$,B.writecb=C,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new y("write")):F?z._writev(Z,B.onwrite):z._write(Z,T,B.onwrite),B.sync=!1}function J(z,B,F,$,Z){--B.pendingcb,F?(process.nextTick(Z,$),process.nextTick(we,z,B),z._writableState.errorEmitted=!0,_(z,$)):(Z($),z._writableState.errorEmitted=!0,_(z,$),we(z,B))}function le(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}function Y(z,B){var F=z._writableState,$=F.sync,Z=F.writecb;if(typeof Z!="function")throw new g;if(le(F),B)J(z,F,$,B,Z);else{var T=ie(F)||z.destroyed;!T&&!F.corked&&!F.bufferProcessing&&F.bufferedRequest&&te(z,F),$?process.nextTick(Q,z,F,T,Z):Q(z,F,T,Z)}}function Q(z,B,F,$){F||q(z,B),B.pendingcb--,$(),we(z,B)}function q(z,B){B.length===0&&B.needDrain&&(B.needDrain=!1,z.emit("drain"))}function te(z,B){B.bufferProcessing=!0;var F=B.bufferedRequest;if(z._writev&&F&&F.next){var $=B.bufferedRequestCount,Z=new Array($),T=B.corkedRequestsFree;T.entry=F;for(var C=0,W=!0;F;)Z[C]=F,F.isBuf||(W=!1),F=F.next,C+=1;Z.allBuffers=W,X(z,B,!0,B.length,Z,"",T.finish),B.pendingcb++,B.lastBufferedRequest=null,T.next?(B.corkedRequestsFree=T.next,T.next=null):B.corkedRequestsFree=new e(B),B.bufferedRequestCount=0}else{for(;F;){var G=F.chunk,fe=F.encoding,ae=F.callback,pe=B.objectMode?1:G.length;if(X(z,B,!1,pe,G,fe,ae),F=F.next,B.bufferedRequestCount--,B.writing)break}F===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=F,B.bufferProcessing=!1}A.prototype._write=function(z,B,F){F(new m("_write()"))},A.prototype._writev=null,A.prototype.end=function(z,B,F){var $=this._writableState;return typeof z=="function"?(F=z,z=null,B=null):typeof B=="function"&&(F=B,B=null),z!=null&&this.write(z,B),$.corked&&($.corked=1,this.uncork()),$.ending||Ce(this,$,F),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ie(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function oe(z,B){z._final(function(F){B.pendingcb--,F&&_(z,F),B.prefinished=!0,z.emit("prefinish"),we(z,B)})}function se(z,B){!B.prefinished&&!B.finalCalled&&(typeof z._final=="function"&&!B.destroyed?(B.pendingcb++,B.finalCalled=!0,process.nextTick(oe,z,B)):(B.prefinished=!0,z.emit("prefinish")))}function we(z,B){var F=ie(B);if(F&&(se(z,B),B.pendingcb===0&&(B.finished=!0,z.emit("finish"),B.autoDestroy))){var $=z._readableState;(!$||$.autoDestroy&&$.endEmitted)&&z.destroy()}return F}function Ce(z,B,F){B.ending=!0,we(z,B),F&&(B.finished?process.nextTick(F):z.once("finish",F)),B.ended=!0,z.writable=!1}function ge(z,B,F){var $=z.entry;for(z.entry=null;$;){var Z=$.callback;B.pendingcb--,Z(F),$=$.next}B.corkedRequestsFree.next=z}return Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),A.prototype.destroy=c.destroy,A.prototype._undestroy=c.undestroy,A.prototype._destroy=function(z,B){B(z)},a0}var o0,$w;function ns(){if($w)return o0;$w=1;var e=Object.keys||function(u){var d=[];for(var f in u)d.push(f);return d};o0=o;var t=LN(),r=MN();wc(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),o0}var s0={},Lw;function Iw(){if(Lw)return s0;Lw=1;var e=bN.Buffer,t=e.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var x;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(x)return;p=(""+p).toLowerCase(),x=!0}}function n(p){var x=r(p);if(typeof x!="string"&&(e.isEncoding===t||!t(p)))throw new Error("Unknown encoding: "+p);return x||p}s0.StringDecoder=i;function i(p){this.encoding=n(p);var x;switch(this.encoding){case"utf16le":this.text=f,this.end=h,x=4;break;case"utf8":this.fillLast=c,x=4;break;case"base64":this.text=m,this.end=g,x=3;break;default:this.write=v,this.end=y;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(x)}i.prototype.write=function(p){if(p.length===0)return"";var x,w;if(this.lastNeed){if(x=this.fillLast(p),x===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<p.length?x?x+this.text(p,w):this.text(p,w):x||""},i.prototype.end=d,i.prototype.text=u,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function a(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function o(p,x,w){var _=x.length-1;if(_<w)return 0;var j=a(x[_]);return j>=0?(j>0&&(p.lastNeed=j-1),j):--_<w||j===-2?0:(j=a(x[_]),j>=0?(j>0&&(p.lastNeed=j-2),j):--_<w||j===-2?0:(j=a(x[_]),j>=0?(j>0&&(j===2?j=0:p.lastNeed=j-3),j):0))}function s(p,x,w){if((x[0]&192)!==128)return p.lastNeed=0,"";if(p.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return p.lastNeed=1,"";if(p.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return p.lastNeed=2,""}}function c(p){var x=this.lastTotal-this.lastNeed,w=s(this,p);if(w!==void 0)return w;if(this.lastNeed<=p.length)return p.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,x,0,p.length),this.lastNeed-=p.length}function u(p,x){var w=o(this,p,x);if(!this.lastNeed)return p.toString("utf8",x);this.lastTotal=w;var _=p.length-(w-this.lastNeed);return p.copy(this.lastChar,0,_),p.toString("utf8",x,_)}function d(p){var x=p&&p.length?this.write(p):"";return this.lastNeed?x+"":x}function f(p,x){if((p.length-x)%2===0){var w=p.toString("utf16le",x);if(w){var _=w.charCodeAt(w.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",x,p.length-1)}function h(p){var x=p&&p.length?this.write(p):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,w)}return x}function m(p,x){var w=(p.length-x)%3;return w===0?p.toString("base64",x):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",x,p.length-w))}function g(p){var x=p&&p.length?this.write(p):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function v(p){return p.toString(this.encoding)}function y(p){return p&&p.length?this.write(p):""}return s0}var Bw=ao.codes.ERR_STREAM_PREMATURE_CLOSE;function yM(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function vM(){}function xM(e){return e.setHeader&&typeof e.abort=="function"}function $N(e,t,r){if(typeof t=="function")return $N(e,null,t);t||(t={}),r=yM(r||vM);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,a=function(){e.writable||s()},o=e._writableState&&e._writableState.finished,s=function(){i=!1,o=!0,n||r.call(e)},c=e._readableState&&e._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(e)},d=function(g){r.call(e,g)},f=function(){var g;if(n&&!c)return(!e._readableState||!e._readableState.ended)&&(g=new Bw),r.call(e,g);if(i&&!o)return(!e._writableState||!e._writableState.ended)&&(g=new Bw),r.call(e,g)},h=function(){e.req.on("finish",s)};return xM(e)?(e.on("complete",s),e.on("abort",f),e.req?h():e.on("request",h)):i&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",u),e.on("finish",s),t.error!==!1&&e.on("error",d),e.on("close",f),function(){e.removeListener("complete",s),e.removeListener("abort",f),e.removeListener("request",h),e.req&&e.req.removeListener("finish",s),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",s),e.removeListener("end",u),e.removeListener("error",d),e.removeListener("close",f)}}var Ev=$N,l0,Fw;function bM(){if(Fw)return l0;Fw=1;var e;function t(w,_,j){return _=r(_),_ in w?Object.defineProperty(w,_,{value:j,enumerable:!0,configurable:!0,writable:!0}):w[_]=j,w}function r(w){var _=n(w,"string");return typeof _=="symbol"?_:String(_)}function n(w,_){if(typeof w!="object"||w===null)return w;var j=w[Symbol.toPrimitive];if(j!==void 0){var k=j.call(w,_);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(w)}var i=Ev,a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(w,_){return{value:w,done:_}}function m(w){var _=w[a];if(_!==null){var j=w[f].read();j!==null&&(w[u]=null,w[a]=null,w[o]=null,_(h(j,!1)))}}function g(w){process.nextTick(m,w)}function v(w,_){return function(j,k){w.then(function(){if(_[c]){j(h(void 0,!0));return}_[d](j,k)},k)}}var y=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((e={get stream(){return this[f]},next:function(){var _=this,j=this[s];if(j!==null)return Promise.reject(j);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(M,R){process.nextTick(function(){_[s]?R(_[s]):M(h(void 0,!0))})});var k=this[u],P;if(k)P=new Promise(v(k,this));else{var A=this[f].read();if(A!==null)return Promise.resolve(h(A,!1));P=new Promise(this[d])}return this[u]=P,P}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var _=this;return new Promise(function(j,k){_[f].destroy(null,function(P){if(P){k(P);return}j(h(void 0,!0))})})}),e),y),x=function(_){var j,k=Object.create(p,(j={},t(j,f,{value:_,writable:!0}),t(j,a,{value:null,writable:!0}),t(j,o,{value:null,writable:!0}),t(j,s,{value:null,writable:!0}),t(j,c,{value:_._readableState.endEmitted,writable:!0}),t(j,d,{value:function(A,M){var R=k[f].read();R?(k[u]=null,k[a]=null,k[o]=null,A(h(R,!1))):(k[a]=A,k[o]=M)},writable:!0}),j));return k[u]=null,i(_,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var A=k[o];A!==null&&(k[u]=null,k[a]=null,k[o]=null,A(P)),k[s]=P;return}var M=k[a];M!==null&&(k[u]=null,k[a]=null,k[o]=null,M(h(void 0,!0))),k[c]=!0}),_.on("readable",g.bind(null,k)),k};return l0=x,l0}var c0,zw;function wM(){return zw||(zw=1,c0=function(){throw new Error("Readable.from is not available in the browser")}),c0}var u0,Uw;function LN(){if(Uw)return u0;Uw=1,u0=M;var e;M.ReadableState=A,ON.EventEmitter;var t=function(C,W){return C.listeners(W).length},r=PN,n=Cs.Buffer,i=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(T){return n.from(T)}function o(T){return n.isBuffer(T)||T instanceof i}var s=TN,c;s&&s.debuglog?c=s.debuglog("stream"):c=function(){};var u=iM(),d=AN,f=DN,h=f.getHighWaterMark,m=ao.codes,g=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,y=m.ERR_METHOD_NOT_IMPLEMENTED,p=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,w,_;wc(M,r);var j=d.errorOrDestroy,k=["error","close","destroy","pause","resume"];function P(T,C,W){if(typeof T.prependListener=="function")return T.prependListener(C,W);!T._events||!T._events[C]?T.on(C,W):Array.isArray(T._events[C])?T._events[C].unshift(W):T._events[C]=[W,T._events[C]]}function A(T,C,W){e=e||ns(),T=T||{},typeof W!="boolean"&&(W=C instanceof e),this.objectMode=!!T.objectMode,W&&(this.objectMode=this.objectMode||!!T.readableObjectMode),this.highWaterMark=h(this,T,"readableHighWaterMark",W),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.destroyed=!1,this.defaultEncoding=T.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,T.encoding&&(x||(x=Iw().StringDecoder),this.decoder=new x(T.encoding),this.encoding=T.encoding)}function M(T){if(e=e||ns(),!(this instanceof M))return new M(T);var C=this instanceof e;this._readableState=new A(T,this,C),this.readable=!0,T&&(typeof T.read=="function"&&(this._read=T.read),typeof T.destroy=="function"&&(this._destroy=T.destroy)),r.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),M.prototype.destroy=d.destroy,M.prototype._undestroy=d.undestroy,M.prototype._destroy=function(T,C){C(T)},M.prototype.push=function(T,C){var W=this._readableState,G;return W.objectMode?G=!0:typeof T=="string"&&(C=C||W.defaultEncoding,C!==W.encoding&&(T=n.from(T,C),C=""),G=!0),R(this,T,C,!1,G)},M.prototype.unshift=function(T){return R(this,T,null,!0,!1)};function R(T,C,W,G,fe){c("readableAddChunk",C);var ae=T._readableState;if(C===null)ae.reading=!1,Y(T,ae);else{var pe;if(fe||(pe=U(ae,C)),pe)j(T,pe);else if(ae.objectMode||C&&C.length>0)if(typeof C!="string"&&!ae.objectMode&&Object.getPrototypeOf(C)!==n.prototype&&(C=a(C)),G)ae.endEmitted?j(T,new p):L(T,ae,C,!0);else if(ae.ended)j(T,new v);else{if(ae.destroyed)return!1;ae.reading=!1,ae.decoder&&!W?(C=ae.decoder.write(C),ae.objectMode||C.length!==0?L(T,ae,C,!1):te(T,ae)):L(T,ae,C,!1)}else G||(ae.reading=!1,te(T,ae))}return!ae.ended&&(ae.length<ae.highWaterMark||ae.length===0)}function L(T,C,W,G){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,T.emit("data",W)):(C.length+=C.objectMode?1:W.length,G?C.buffer.unshift(W):C.buffer.push(W),C.needReadable&&Q(T)),te(T,C)}function U(T,C){var W;return!o(C)&&typeof C!="string"&&C!==void 0&&!T.objectMode&&(W=new g("chunk",["string","Buffer","Uint8Array"],C)),W}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(T){x||(x=Iw().StringDecoder);var C=new x(T);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,G="";W!==null;)G+=C.write(W.data),W=W.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var X=1073741824;function J(T){return T>=X?T=X:(T--,T|=T>>>1,T|=T>>>2,T|=T>>>4,T|=T>>>8,T|=T>>>16,T++),T}function le(T,C){return T<=0||C.length===0&&C.ended?0:C.objectMode?1:T!==T?C.flowing&&C.length?C.buffer.head.data.length:C.length:(T>C.highWaterMark&&(C.highWaterMark=J(T)),T<=C.length?T:C.ended?C.length:(C.needReadable=!0,0))}M.prototype.read=function(T){c("read",T),T=parseInt(T,10);var C=this._readableState,W=T;if(T!==0&&(C.emittedReadable=!1),T===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return c("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?F(this):Q(this),null;if(T=le(T,C),T===0&&C.ended)return C.length===0&&F(this),null;var G=C.needReadable;c("need readable",G),(C.length===0||C.length-T<C.highWaterMark)&&(G=!0,c("length less than watermark",G)),C.ended||C.reading?(G=!1,c("reading or ended",G)):G&&(c("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(T=le(W,C)));var fe;return T>0?fe=B(T,C):fe=null,fe===null?(C.needReadable=C.length<=C.highWaterMark,T=0):(C.length-=T,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),W!==T&&C.ended&&F(this)),fe!==null&&this.emit("data",fe),fe};function Y(T,C){if(c("onEofChunk"),!C.ended){if(C.decoder){var W=C.decoder.end();W&&W.length&&(C.buffer.push(W),C.length+=C.objectMode?1:W.length)}C.ended=!0,C.sync?Q(T):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,q(T)))}}function Q(T){var C=T._readableState;c("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(c("emitReadable",C.flowing),C.emittedReadable=!0,process.nextTick(q,T))}function q(T){var C=T._readableState;c("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(T.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,z(T)}function te(T,C){C.readingMore||(C.readingMore=!0,process.nextTick(ie,T,C))}function ie(T,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var W=C.length;if(c("maybeReadMore read 0"),T.read(0),W===C.length)break}C.readingMore=!1}M.prototype._read=function(T){j(this,new y("_read()"))},M.prototype.pipe=function(T,C){var W=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=T;break;case 1:G.pipes=[G.pipes,T];break;default:G.pipes.push(T);break}G.pipesCount+=1,c("pipe count=%d opts=%j",G.pipesCount,C);var fe=(!C||C.end!==!1)&&T!==process.stdout&&T!==process.stderr,ae=fe?_e:hn;G.endEmitted?process.nextTick(ae):W.once("end",ae),T.on("unpipe",pe);function pe(O,S){c("onunpipe"),O===W&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,Er())}function _e(){c("onend"),T.end()}var De=oe(W);T.on("drain",De);var ut=!1;function Er(){c("cleanup"),T.removeListener("close",qr),T.removeListener("finish",Lt),T.removeListener("drain",De),T.removeListener("error",st),T.removeListener("unpipe",pe),W.removeListener("end",_e),W.removeListener("end",hn),W.removeListener("data",pt),ut=!0,G.awaitDrain&&(!T._writableState||T._writableState.needDrain)&&De()}W.on("data",pt);function pt(O){c("ondata");var S=T.write(O);c("dest.write",S),S===!1&&((G.pipesCount===1&&G.pipes===T||G.pipesCount>1&&Z(G.pipes,T)!==-1)&&!ut&&(c("false write response, pause",G.awaitDrain),G.awaitDrain++),W.pause())}function st(O){c("onerror",O),hn(),T.removeListener("error",st),t(T,"error")===0&&j(T,O)}P(T,"error",st);function qr(){T.removeListener("finish",Lt),hn()}T.once("close",qr);function Lt(){c("onfinish"),T.removeListener("close",qr),hn()}T.once("finish",Lt);function hn(){c("unpipe"),W.unpipe(T)}return T.emit("pipe",W),G.flowing||(c("pipe resume"),W.resume()),T};function oe(T){return function(){var W=T._readableState;c("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,W.awaitDrain===0&&t(T,"data")&&(W.flowing=!0,z(T))}}M.prototype.unpipe=function(T){var C=this._readableState,W={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return T&&T!==C.pipes?this:(T||(T=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,T&&T.emit("unpipe",this,W),this);if(!T){var G=C.pipes,fe=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var ae=0;ae<fe;ae++)G[ae].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=Z(C.pipes,T);return pe===-1?this:(C.pipes.splice(pe,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),T.emit("unpipe",this,W),this)},M.prototype.on=function(T,C){var W=r.prototype.on.call(this,T,C),G=this._readableState;return T==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):T==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,c("on readable",G.length,G.reading),G.length?Q(this):G.reading||process.nextTick(we,this)),W},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(T,C){var W=r.prototype.removeListener.call(this,T,C);return T==="readable"&&process.nextTick(se,this),W},M.prototype.removeAllListeners=function(T){var C=r.prototype.removeAllListeners.apply(this,arguments);return(T==="readable"||T===void 0)&&process.nextTick(se,this),C};function se(T){var C=T._readableState;C.readableListening=T.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:T.listenerCount("data")>0&&T.resume()}function we(T){c("readable nexttick read 0"),T.read(0)}M.prototype.resume=function(){var T=this._readableState;return T.flowing||(c("resume"),T.flowing=!T.readableListening,Ce(this,T)),T.paused=!1,this};function Ce(T,C){C.resumeScheduled||(C.resumeScheduled=!0,process.nextTick(ge,T,C))}function ge(T,C){c("resume",C.reading),C.reading||T.read(0),C.resumeScheduled=!1,T.emit("resume"),z(T),C.flowing&&!C.reading&&T.read(0)}M.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function z(T){var C=T._readableState;for(c("flow",C.flowing);C.flowing&&T.read()!==null;);}M.prototype.wrap=function(T){var C=this,W=this._readableState,G=!1;T.on("end",function(){if(c("wrapped end"),W.decoder&&!W.ended){var pe=W.decoder.end();pe&&pe.length&&C.push(pe)}C.push(null)}),T.on("data",function(pe){if(c("wrapped data"),W.decoder&&(pe=W.decoder.write(pe)),!(W.objectMode&&pe==null)&&!(!W.objectMode&&(!pe||!pe.length))){var _e=C.push(pe);_e||(G=!0,T.pause())}});for(var fe in T)this[fe]===void 0&&typeof T[fe]=="function"&&(this[fe]=function(_e){return function(){return T[_e].apply(T,arguments)}}(fe));for(var ae=0;ae<k.length;ae++)T.on(k[ae],this.emit.bind(this,k[ae]));return this._read=function(pe){c("wrapped _read",pe),G&&(G=!1,T.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=bM()),w(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),M._fromList=B,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function B(T,C){if(C.length===0)return null;var W;return C.objectMode?W=C.buffer.shift():!T||T>=C.length?(C.decoder?W=C.buffer.join(""):C.buffer.length===1?W=C.buffer.first():W=C.buffer.concat(C.length),C.buffer.clear()):W=C.buffer.consume(T,C.decoder),W}function F(T){var C=T._readableState;c("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,process.nextTick($,C,T))}function $(T,C){if(c("endReadableNT",T.endEmitted,T.length),!T.endEmitted&&T.length===0&&(T.endEmitted=!0,C.readable=!1,C.emit("end"),T.autoDestroy)){var W=C._writableState;(!W||W.autoDestroy&&W.finished)&&C.destroy()}}typeof Symbol=="function"&&(M.from=function(T,C){return _===void 0&&(_=wM()),_(M,T,C)});function Z(T,C){for(var W=0,G=T.length;W<G;W++)if(T[W]===C)return W;return-1}return u0}var IN=di,ah=ao.codes,_M=ah.ERR_METHOD_NOT_IMPLEMENTED,jM=ah.ERR_MULTIPLE_CALLBACK,SM=ah.ERR_TRANSFORM_ALREADY_TRANSFORMING,NM=ah.ERR_TRANSFORM_WITH_LENGTH_0,oh=ns();wc(di,oh);function kM(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new jM);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function di(e){if(!(this instanceof di))return new di(e);oh.call(this,e),this._transformState={afterTransform:kM.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",EM)}function EM(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Ww(e,t,r)}):Ww(this,null,null)}di.prototype.push=function(e,t){return this._transformState.needTransform=!1,oh.prototype.push.call(this,e,t)};di.prototype._transform=function(e,t,r){r(new _M("_transform()"))};di.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};di.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};di.prototype._destroy=function(e,t){oh.prototype._destroy.call(this,e,function(r){t(r)})};function Ww(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new NM;if(e._transformState.transforming)throw new SM;return e.push(null)}var CM=Xl,BN=IN;wc(Xl,BN);function Xl(e){if(!(this instanceof Xl))return new Xl(e);BN.call(this,e)}Xl.prototype._transform=function(e,t,r){r(null,e)};var d0;function OM(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var FN=ao.codes,PM=FN.ERR_MISSING_ARGS,TM=FN.ERR_STREAM_DESTROYED;function Hw(e){if(e)throw e}function AM(e){return e.setHeader&&typeof e.abort=="function"}function RM(e,t,r,n){n=OM(n);var i=!1;e.on("close",function(){i=!0}),d0===void 0&&(d0=Ev),d0(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var a=!1;return function(o){if(!i&&!a){if(a=!0,AM(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new TM("pipe"))}}}function qw(e){e()}function DM(e,t){return e.pipe(t)}function MM(e){return!e.length||typeof e[e.length-1]!="function"?Hw:e.pop()}function $M(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=MM(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new PM("streams");var i,a=t.map(function(o,s){var c=s<t.length-1,u=s>0;return RM(o,c,u,function(d){i||(i=d),d&&a.forEach(qw),!c&&(a.forEach(qw),n(i))})});return t.reduce(DM)}var LM=$M;(function(e,t){t=e.exports=LN(),t.Stream=t,t.Readable=t,t.Writable=MN(),t.Duplex=ns(),t.Transform=IN,t.PassThrough=CM,t.finished=Ev,t.pipeline=LM})(ig,ig.exports);var IM=ig.exports;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Vw;var BM=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):e=>(Vw||(Vw=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));function Kw(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function FM(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return Kw(e,r)}catch{r.message=e.message,r.stack=e.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),Kw(new i,r)}}var zM=FM;/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const UM=MD("simple-peer"),zN=$D,Yw=GD,WM=IM,f0=BM,Oe=zM,{Buffer:HM}=Cs,h0=64*1024,qM=5*1e3,VM=5*1e3;function Gw(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function KM(e){console.warn(e)}class Ya extends WM.Duplex{constructor(t){if(t=Object.assign({allowHalfOpen:!1},t),super(t),this._id=Yw(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||Yw(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||Ya.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},Ya.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(r=>r),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=t.trickle!==void 0?t.trickle:!0,this.allowHalfTrickle=t.allowHalfTrickle!==void 0?t.allowHalfTrickle:!1,this.iceCompleteTimeout=t.iceCompleteTimeout||qM,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&typeof t.wrtc=="object"?t.wrtc:zN(),!this._wrtc)throw Oe(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(r){this.destroy(Oe(r,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(r=>{this.destroy(Oe(r,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this.streams&&this.streams.forEach(r=>{this.addStream(r)}),this._pc.ontrack=r=>{this._onTrack(r)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw Oe(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof t=="string")try{t=JSON.parse(t)}catch{t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.destroy(Oe(r,"ERR_SET_REMOTE_DESCRIPTION"))}),!t.sdp&&!t.candidate&&!t.renegotiate&&!t.transceiverRequest&&this.destroy(Oe(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(t){const r=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(r).catch(n=>{!r.address||r.address.endsWith(".local")?KM("Ignoring unsupported ICE candidate."):this.destroy(Oe(n,"ERR_ADD_ICE_CANDIDATE"))})}send(t){if(!this.destroying){if(this.destroyed)throw Oe(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(t)}}addTransceiver(t,r){if(!this.destroying){if(this.destroyed)throw Oe(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,r),this._needsNegotiation()}catch(n){this.destroy(Oe(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:t,init:r}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw Oe(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(r=>{this.addTrack(r,t)})}}addTrack(t,r){if(this.destroying)return;if(this.destroyed)throw Oe(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const n=this._senderMap.get(t)||new Map;let i=n.get(r);if(!i)i=this._pc.addTrack(t,r),n.set(r,i),this._senderMap.set(t,n),this._needsNegotiation();else throw i.removed?Oe(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):Oe(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(t,r,n){if(this.destroying)return;if(this.destroyed)throw Oe(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const i=this._senderMap.get(t),a=i?i.get(n):null;if(!a)throw Oe(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");r&&this._senderMap.set(r,i),a.replaceTrack!=null?a.replaceTrack(r):this.destroy(Oe(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,r){if(this.destroying)return;if(this.destroyed)throw Oe(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const n=this._senderMap.get(t),i=n?n.get(r):null;if(!i)throw Oe(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{i.removed=!0,this._pc.removeTrack(i)}catch(a){a.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(i):this.destroy(Oe(a,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){if(!this.destroying){if(this.destroyed)throw Oe(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(r=>{this.removeTrack(r,t)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,f0(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw Oe(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(t){this._destroy(t,()=>{})}_destroy(t,r){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",t&&(t.message||t)),f0(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),r()}))}_setupData(t){if(!t.channel)return this.destroy(Oe(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=h0),this.channelName=this._channel.label,this._channel.onmessage=n=>{this._onChannelMessage(n)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=n=>{const i=n.error instanceof Error?n.error:new Error(`Datachannel error: ${n.message} ${n.filename}:${n.lineno}:${n.colno}`);this.destroy(Oe(i,"ERR_DATA_CHANNEL"))};let r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},VM)}_read(){}_write(t,r,n){if(this.destroyed)return n(Oe(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(i){return this.destroy(Oe(i,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>h0?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=t,this._cb=n}_onFinish(){if(this.destroyed)return;const t=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=Gw(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const r=()=>{if(this.destroyed)return;const a=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:a.type,sdp:a.sdp})},n=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},i=a=>{this.destroy(Oe(a,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(n).catch(i)}).catch(t=>{this.destroy(Oe(t,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(t=>{!t.mid&&t.sender.track&&!t.requested&&(t.requested=!0,this.addTransceiver(t.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=Gw(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const r=()=>{if(this.destroyed)return;const a=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:a.type,sdp:a.sdp}),this.initiator||this._requestMissingTransceivers()},n=()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},i=a=>{this.destroy(Oe(a,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(n).catch(i)}).catch(t=>{this.destroy(Oe(t,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(Oe(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const t=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,r),this.emit("iceStateChange",t,r),(t==="connected"||t==="completed")&&(this._pcReady=!0,this._maybeReady()),t==="failed"&&this.destroy(Oe(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),t==="closed"&&this.destroy(Oe(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(t){const r=n=>(Object.prototype.toString.call(n.values)==="[object Array]"&&n.values.forEach(i=>{Object.assign(n,i)}),n);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{const i=[];n.forEach(a=>{i.push(r(a))}),t(null,i)},n=>t(n)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(this.destroyed)return;const i=[];n.result().forEach(a=>{const o={};a.names().forEach(s=>{o[s]=a.stat(s)}),o.id=a.id,o.type=a.type,o.timestamp=a.timestamp,i.push(r(o))}),t(null,i)},n=>t(n)):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const t=()=>{this.destroyed||this.getStats((r,n)=>{if(this.destroyed)return;r&&(n=[]);const i={},a={},o={};let s=!1;n.forEach(u=>{(u.type==="remotecandidate"||u.type==="remote-candidate")&&(i[u.id]=u),(u.type==="localcandidate"||u.type==="local-candidate")&&(a[u.id]=u),(u.type==="candidatepair"||u.type==="candidate-pair")&&(o[u.id]=u)});const c=u=>{s=!0;let d=a[u.localCandidateId];d&&(d.ip||d.address)?(this.localAddress=d.ip||d.address,this.localPort=Number(d.port)):d&&d.ipAddress?(this.localAddress=d.ipAddress,this.localPort=Number(d.portNumber)):typeof u.googLocalAddress=="string"&&(d=u.googLocalAddress.split(":"),this.localAddress=d[0],this.localPort=Number(d[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let f=i[u.remoteCandidateId];f&&(f.ip||f.address)?(this.remoteAddress=f.ip||f.address,this.remotePort=Number(f.port)):f&&f.ipAddress?(this.remoteAddress=f.ipAddress,this.remotePort=Number(f.portNumber)):typeof u.googRemoteAddress=="string"&&(f=u.googRemoteAddress.split(":"),this.remoteAddress=f[0],this.remotePort=Number(f[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach(u=>{u.type==="transport"&&u.selectedCandidatePairId&&c(o[u.selectedCandidatePairId]),(u.type==="googCandidatePair"&&u.googActiveConnection==="true"||(u.type==="candidatepair"||u.type==="candidate-pair")&&u.selected)&&c(u)}),!s&&(!Object.keys(o).length||Object.keys(a).length)){setTimeout(t,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(d){return this.destroy(Oe(d,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const u=this._cb;this._cb=null,u(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>h0||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):!t.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(this.destroyed)return;let r=t.data;r instanceof ArrayBuffer&&(r=HM.from(r)),this.push(r)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const t=this._cb;this._cb=null,t(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach(r=>{this._debug("on track"),this.emit("track",t.track,r),this._remoteTracks.push({track:t.track,stream:r}),!this._remoteStreams.some(n=>n.id===r.id)&&(this._remoteStreams.push(r),f0(()=>{this._debug("on stream"),this.emit("stream",r)}))})}_debug(){const t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],UM.apply(null,t)}}Ya.WEBRTC_SUPPORT=!!zN();Ya.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Ya.channelConfig={};var YM=Ya;const GM=En(YM);function UN(e){return ne({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function WN(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(e)}function is(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function Id(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Xw(e){return ne({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function XM(e){return ne({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function sg(e){return ne({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function El(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"}}]})(e)}function Ql(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Cv(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function QM(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}}]})(e)}function _n(e){return ne({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(e)}function JM(e){return ne({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"}}]})(e)}function HN(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function qN(e){return ne({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function Qw(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function ZM(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function e$(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function VN(e){return ne({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function KN(e){return ne({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Ov(e){return ne({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function t$(e){return ne({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function r$(e){return ne({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"}}]})(e)}function n$(e){return ne({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M193.7 271.2c8.8 0 15.5 2.7 20.3 8.1 9.6 10.9 9.8 32.7-.2 44.1-4.9 5.6-11.9 8.5-21.1 8.5h-26.9v-60.7h27.9zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm53 165.2c0 90.3-88.8 77.6-111.1 77.6V436c0 6.6-5.4 12-12 12h-30.8c-6.6 0-12-5.4-12-12V236.2c0-6.6 5.4-12 12-12h81c44.5 0 72.9 32.8 72.9 77z"}}]})(e)}function i$(e){return ne({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM224 136V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248c-13.2 0-24-10.8-24-24zm96 144.016v111.963c0 21.445-25.943 31.998-40.971 16.971L224 353.941V392c0 13.255-10.745 24-24 24H88c-13.255 0-24-10.745-24-24V280c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v38.059l55.029-55.013c15.011-15.01 40.971-4.491 40.971 16.97z"}}]})(e)}function a$(e){return ne({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function Jw(e){return ne({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function o$(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function lg(e){return ne({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"}}]})(e)}function s$(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"}}]})(e)}function YN(e){return ne({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function l$(e){return ne({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M488 192H336v56c0 39.7-32.3 72-72 72s-72-32.3-72-72V126.4l-64.9 39C107.8 176.9 96 197.8 96 220.2v47.3l-80 46.2C.7 322.5-4.6 342.1 4.3 357.4l80 138.6c8.8 15.3 28.4 20.5 43.7 11.7L231.4 448H368c35.3 0 64-28.7 64-64h16c17.7 0 32-14.3 32-32v-64h8c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24zm147.7-37.4L555.7 16C546.9.7 527.3-4.5 512 4.3L408.6 64H306.4c-12 0-23.7 3.4-33.9 9.7L239 94.6c-9.4 5.8-15 16.1-15 27.1V248c0 22.1 17.9 40 40 40s40-17.9 40-40v-88h184c30.9 0 56 25.1 56 56v28.5l80-46.2c15.3-8.9 20.5-28.4 11.7-43.7z"}}]})(e)}function rd(e){return ne({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"}}]})(e)}function c$(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function u$(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function d$(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"}}]})(e)}function GN(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"}}]})(e)}function f$(e){return ne({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function XN(e){return ne({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function h$(e){return ne({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function Ro(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"}}]})(e)}function p$(e){return ne({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"}}]})(e)}function Zw(e){return ne({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}}]})(e)}function QN(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function cg(e){return ne({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"}}]})(e)}function m$(e){return ne({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M268.2 381.4l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48c-10.7 4.6-16.5 16.1-13.9 27.5l24 104c2.5 10.8 12.1 18.6 23.4 18.6 100.7 0 193.7-32.4 269.7-86.9l-80-61.8c-10.9 6.5-22.1 12.7-33.6 18.1zm365.6 76.7L475.1 335.5C537.9 256.4 576 156.9 576 48c0-11.2-7.7-20.9-18.6-23.4l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-12.2 26.1-27.9 50.3-46 72.8L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3z"}}]})(e)}function Cl(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function Fi(e){return ne({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function g$(e){return ne({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function Jl(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function JN(e){return ne({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"}}]})(e)}function y$(e){return ne({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function Pv(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(e)}function Un(e){return ne({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function ZN(e){return ne({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Ma(e){return ne({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"}}]})(e)}function e2(e){return ne({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function v$(e){return ne({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Ga(e){return ne({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function x$(e){return ne({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1l-55-42.5c15.4-1.4 29.2-13.7 29.2-31.1v-257c0-25.5-29.1-40.4-50.4-25.8L448 177.3v137.2l-32-24.7v-178c0-26.4-21.4-47.8-47.8-47.8H123.9L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4L42.7 82 416 370.6l178.5 138c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.5-6.9 4.2-17-2.8-22.4zM32 400.2c0 26.4 21.4 47.8 47.8 47.8h288.4c11.2 0 21.4-4 29.6-10.5L32 154.7v245.5z"}}]})(e)}function _c(e){return ne({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)}function ek({targetUserId:e,callType:t="video",onEnd:r}){const{socket:n}=Es(),[i,a]=b.useState(null),[o,s]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h]=b.useState(Date.now()),m=b.useRef(),g=b.useRef();b.useEffect(()=>{if(!n||!e)return;const x={audio:!0,video:t==="video"};return navigator.mediaDevices.getUserMedia(x).then(w=>{s(w),m.current&&(m.current.srcObject=w);const _=new GM({initiator:!0,trickle:!1,stream:w});_.on("signal",j=>{n.emit("webrtc_signal",{target_user_id:e,signal:j,call_type:t})}),_.on("stream",j=>{g.current&&(g.current.srcObject=j)}),_.on("error",j=>{console.error("Peer error:",j)}),n.on("webrtc_signal",j=>{j.from_user_id===e&&_.signal(j.signal)}),a(_)}).catch(w=>{console.error("Failed to get user media:",w),alert("Failed to access camera/microphone. Please check permissions."),r&&r()}),()=>{o&&o.getTracks().forEach(w=>w.stop()),i&&i.destroy(),n.off("webrtc_signal")}},[n,e,t]);const v=()=>{o&&(o.getAudioTracks().forEach(x=>{x.enabled=!x.enabled}),u(!c))},y=()=>{o&&t==="video"&&(o.getVideoTracks().forEach(x=>{x.enabled=!x.enabled}),f(!d))},p=()=>{const x=Math.floor((Date.now()-h)/1e3);o&&o.getTracks().forEach(w=>w.stop()),i&&i.destroy(),r&&r({duration:x})};return l.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col","data-testid":"webrtc-call",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("video",{ref:g,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),t==="video"&&l.jsx("div",{className:"absolute top-4 right-4 w-48 h-36 bg-gray-900 rounded-lg overflow-hidden shadow-2xl",children:l.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),t==="voice"&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-700",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"w-32 h-32 bg-white bg-opacity-20 rounded-full flex items-center justify-center mb-6 mx-auto",children:l.jsx(Zw,{className:"text-6xl"})}),l.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Voice Call"}),l.jsx("p",{className:"text-xl text-blue-100",children:"Connected"})]})})]}),l.jsx("div",{className:"bg-gray-900 bg-opacity-90 p-6",children:l.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[l.jsx("button",{onClick:v,className:`w-14 h-14 rounded-full flex items-center justify-center transition ${c?"bg-red-500 hover:bg-red-600":"bg-gray-700 hover:bg-gray-600"}`,"data-testid":"toggle-mute-button",children:c?l.jsx(p$,{className:"text-white text-xl"}):l.jsx(Zw,{className:"text-white text-xl"})}),t==="video"&&l.jsx("button",{onClick:y,className:`w-14 h-14 rounded-full flex items-center justify-center transition ${d?"bg-red-500 hover:bg-red-600":"bg-gray-700 hover:bg-gray-600"}`,"data-testid":"toggle-video-button",children:d?l.jsx(x$,{className:"text-white text-xl"}):l.jsx(_c,{className:"text-white text-xl"})}),l.jsx("button",{onClick:p,className:"w-16 h-16 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition shadow-lg","data-testid":"end-call-button",children:l.jsx(m$,{className:"text-white text-2xl"})})]})})]})}const tk=({onFilesUploaded:e,onClose:t,chatId:r,darkMode:n})=>{const[i,a]=b.useState([]),[o,s]=b.useState({}),[c,u]=b.useState(!1),[d,f]=b.useState({}),[h,m]=b.useState({}),g=b.useRef(null),v=b.useRef(0),[y,p]=b.useState(!1),x={image:5*1024*1024,document:10*1024*1024,video:50*1024*1024},w={image:[".jpg",".jpeg",".png",".gif",".webp",".bmp"],document:[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".txt",".csv"],video:[".mp4",".mov",".avi",".mkv",".webm"]},_=Y=>{const Q="."+Y.name.split(".").pop().toLowerCase();return w.image.includes(Q)?"image":w.document.includes(Q)?"document":w.video.includes(Q)?"video":"other"},j=Y=>{const Q=_(Y);if(Q==="other")return{valid:!1,error:"File type not supported"};const q=x[Q];return Y.size>q?{valid:!1,error:`File size exceeds ${q/1048576}MB limit`}:{valid:!0,category:Q}},k=Y=>{const Q=[];({...o});const q={...h};Array.from(Y).forEach(te=>{const ie=j(te);if(ie.valid){const oe=Date.now()+Math.random();if(Q.push({file:te,id:oe,category:ie.category}),ie.category==="image"){const se=new FileReader;se.onloadend=()=>{s(we=>({...we,[oe]:se.result}))},se.readAsDataURL(te)}}else q[te.name]=ie.error}),a([...i,...Q]),m(q)},P=Y=>{Y.target.files&&Y.target.files.length>0&&k(Y.target.files)},A=Y=>{Y.preventDefault(),Y.stopPropagation(),v.current++,Y.dataTransfer.items&&Y.dataTransfer.items.length>0&&p(!0)},M=Y=>{Y.preventDefault(),Y.stopPropagation(),v.current--,v.current===0&&p(!1)},R=Y=>{Y.preventDefault(),Y.stopPropagation()},L=Y=>{Y.preventDefault(),Y.stopPropagation(),p(!1),v.current=0,Y.dataTransfer.files&&Y.dataTransfer.files.length>0&&(k(Y.dataTransfer.files),Y.dataTransfer.clearData())},U=Y=>{a(i.filter(q=>q.id!==Y));const Q={...o};delete Q[Y],s(Q)},X=async()=>{if(i.length===0)return;u(!0);const Y=[];try{for(const Q of i)try{f(ie=>({...ie,[Q.id]:0}));const q=new FormData;q.append("file",Q.file),r&&q.append("chat_id",r);const te=await ue.post("/upload/file",q,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:ie=>{const oe=Math.round(ie.loaded*100/ie.total);f(se=>({...se,[Q.id]:oe}))}});te.data.success&&(Y.push(te.data.file),f(ie=>({...ie,[Q.id]:100})))}catch(q){console.error("Failed to upload file:",Q.file.name,q),m(te=>({...te,[Q.file.name]:"Upload failed"}))}Y.length>0&&e(Y)}finally{u(!1)}},J=Y=>{switch(Y){case"image":return l.jsx(u$,{className:"text-blue-500"});case"document":return l.jsx(Ov,{className:"text-green-500"});case"video":return l.jsx(_c,{className:"text-purple-500"});default:return l.jsx(Jw,{className:"text-gray-500"})}},le=Y=>Y<1024?Y+" B":Y<1024*1024?(Y/1024).toFixed(1)+" KB":(Y/(1024*1024)).toFixed(1)+" MB";return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`${n?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col`,children:[l.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${n?"border-gray-700":"border-gray-200"}`,children:[l.jsx("h2",{className:`text-xl font-bold ${n?"text-white":"text-gray-800"}`,children:"Upload Files"}),l.jsx("button",{onClick:t,className:`p-2 rounded-lg ${n?"hover:bg-gray-700":"hover:bg-gray-100"} transition`,"data-testid":"close-upload-modal",children:l.jsx(Un,{className:n?"text-gray-400":"text-gray-600"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[l.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-all ${y?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":n?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,onDragEnter:A,onDragOver:R,onDragLeave:M,onDrop:L,children:[l.jsx("input",{ref:g,type:"file",multiple:!0,onChange:P,className:"hidden",accept:".jpg,.jpeg,.png,.gif,.webp,.bmp,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv,.mp4,.mov,.avi,.mkv,.webm"}),l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx(Jw,{className:`text-5xl ${n?"text-gray-600":"text-gray-400"}`}),l.jsx("p",{className:`text-lg font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"Drag and drop files here"}),l.jsx("p",{className:"text-sm text-gray-500",children:"or"}),l.jsx("button",{onClick:()=>{var Y;return(Y=g.current)==null?void 0:Y.click()},className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition","data-testid":"browse-files-button",children:"Browse Files"}),l.jsx("p",{className:`text-xs ${n?"text-gray-500":"text-gray-400"}`,children:"Images (5MB)  Documents (10MB)  Videos (50MB)"})]})]}),i.length>0&&l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("h3",{className:`font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:["Selected Files (",i.length,")"]}),i.map(Y=>l.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${n?"bg-gray-700":"bg-gray-50"}`,children:[l.jsx("div",{className:"flex-shrink-0",children:o[Y.id]?l.jsx("img",{src:o[Y.id],alt:Y.file.name,className:"w-12 h-12 object-cover rounded"}):l.jsx("div",{className:"w-12 h-12 flex items-center justify-center text-2xl",children:J(Y.category)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`font-medium truncate ${n?"text-gray-200":"text-gray-800"}`,children:Y.file.name}),l.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-500"}`,children:le(Y.file.size)}),c&&d[Y.id]!==void 0&&l.jsx("div",{className:"mt-1",children:l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1.5",children:l.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all",style:{width:`${d[Y.id]}%`}})})})]}),l.jsx("div",{className:"flex-shrink-0",children:d[Y.id]===100?l.jsx(is,{className:"text-green-500 text-xl"}):l.jsx("button",{onClick:()=>U(Y.id),disabled:c,className:`p-2 rounded ${n?"hover:bg-gray-600":"hover:bg-gray-200"} transition disabled:opacity-50`,"data-testid":"remove-file-button",children:l.jsx(Un,{className:n?"text-gray-400":"text-gray-600"})})})]},Y.id))]}),Object.keys(h).length>0&&l.jsx("div",{className:"mt-4 space-y-1",children:Object.entries(h).map(([Y,Q])=>l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-red-500 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:[l.jsx(ZM,{}),l.jsxs("span",{children:[Y,": ",Q]})]},Y))})]}),l.jsxs("div",{className:`flex items-center justify-end space-x-3 p-4 border-t ${n?"border-gray-700":"border-gray-200"}`,children:[l.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg transition ${n?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,disabled:c,"data-testid":"cancel-upload-button",children:"Cancel"}),l.jsx("button",{onClick:X,disabled:i.length===0||c,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"upload-files-button",children:c?"Uploading...":`Upload ${i.length>0?`(${i.length})`:""}`})]})]})})},rk=({onGifSelect:e,onClose:t,darkMode:r})=>{const[n,i]=b.useState(""),[a,o]=b.useState([]),[s,c]=b.useState(!1),[u,d]=b.useState(null),[f,h]=b.useState("trending"),[m,g]=b.useState(!0),v=b.useRef(null),y=b.useRef(null);b.useEffect(()=>{f==="trending"&&p()},[f]),b.useEffect(()=>(n.trim()&&f==="search"&&(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{x(n)},500)),()=>{y.current&&clearTimeout(y.current)}),[n]);const p=async()=>{var j;c(!0),d(null);try{const k=await ue.get("/giphy/trending",{params:{limit:30}});k.data.success&&(o(k.data.gifs),g(!0))}catch(k){console.error("Failed to load trending GIFs:",k),((j=k.response)==null?void 0:j.status)===503?(g(!1),d("GIPHY integration not configured. Upload your own GIFs instead!")):d("Failed to load trending GIFs")}finally{c(!1)}},x=async j=>{var k;if(j.trim()){c(!0),d(null);try{const P=await ue.get("/giphy/search",{params:{q:j,limit:30}});P.data.success&&(o(P.data.gifs),g(!0))}catch(P){console.error("Failed to search GIFs:",P),((k=P.response)==null?void 0:k.status)===503?(g(!1),d("GIPHY integration not configured. Upload your own GIFs instead!")):d("Failed to search GIFs")}finally{c(!1)}}},w=j=>{e({url:j.url,preview_url:j.preview_url,title:j.title,width:j.width,height:j.height,source:"giphy",id:j.id})},_=async j=>{var P;const k=(P=j.target.files)==null?void 0:P[0];if(k){if(!k.type.includes("gif")){d("Please select a GIF file");return}if(k.size>5*1024*1024){d("GIF size must be less than 5MB");return}try{c(!0);const A=new FormData;A.append("file",k);const M=await ue.post("/upload/file",A,{headers:{"Content-Type":"multipart/form-data"}});if(M.data.success){const R=M.data.file;e({url:R.url,filename:R.filename,source:"upload",id:R.id})}}catch(A){console.error("Failed to upload GIF:",A),d("Failed to upload GIF")}finally{c(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col`,children:[l.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[l.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-gray-800"}`,children:"Choose a GIF"}),l.jsx("button",{onClick:t,className:`p-2 rounded-lg ${r?"hover:bg-gray-700":"hover:bg-gray-100"} transition`,"data-testid":"close-gif-picker",children:l.jsx(Un,{className:r?"text-gray-400":"text-gray-600"})})]}),l.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>h("trending"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="trending"?"bg-blue-500 text-white":r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,disabled:!m,"data-testid":"trending-tab",children:[l.jsx(lg,{className:"inline mr-2"}),"Trending"]}),l.jsxs("button",{onClick:()=>h("search"),className:`px-4 py-2 rounded-lg font-medium transition ${f==="search"?"bg-blue-500 text-white":r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,disabled:!m,"data-testid":"search-tab",children:[l.jsx(Jl,{className:"inline mr-2"}),"Search"]})]}),l.jsxs("div",{children:[l.jsx("input",{ref:v,type:"file",accept:".gif,image/gif",onChange:_,className:"hidden"}),l.jsxs("button",{onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},className:`px-4 py-2 rounded-lg font-medium transition ${r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,"data-testid":"upload-gif-button",children:[l.jsx(e2,{className:"inline mr-2"}),"Upload GIF"]})]})]}),f==="search"&&m&&l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Jl,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${r?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{type:"text",value:n,onChange:j=>i(j.target.value),placeholder:"Search for GIFs...",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${r?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`,autoFocus:!0,"data-testid":"gif-search-input"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:`text-lg ${r?"text-gray-400":"text-gray-600"}`,children:"Loading GIFs..."})}):u?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[l.jsx("div",{className:"text-red-500 text-center",children:l.jsx("p",{className:"text-lg font-medium",children:u})}),!m&&l.jsxs("button",{onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition font-medium",children:[l.jsx(e2,{className:"inline mr-2"}),"Upload Your GIF"]})]}):a.length===0?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:`text-center ${r?"text-gray-400":"text-gray-600"}`,children:[l.jsx("p",{className:"text-lg",children:"No GIFs found"}),f==="search"&&l.jsx("p",{className:"text-sm mt-2",children:"Try a different search term"})]})}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2","data-testid":"gif-grid",children:a.map(j=>l.jsxs("button",{onClick:()=>w(j),className:`relative aspect-square overflow-hidden rounded-lg hover:opacity-80 transition group ${r?"bg-gray-700":"bg-gray-100"}`,"data-testid":"gif-item",children:[l.jsx("img",{src:j.preview_url||j.url,alt:j.title,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition"})]},j.id))})}),m&&l.jsx("div",{className:`p-3 text-center text-xs ${r?"text-gray-500 bg-gray-750":"text-gray-500 bg-gray-50"} border-t ${r?"border-gray-700":"border-gray-200"}`,children:"Powered by GIPHY"})]})})},b$=({images:e,initialIndex:t=0,onClose:r,darkMode:n})=>{const[i,a]=b.useState(t),o=e[i],s=()=>{a(f=>f===0?e.length-1:f-1)},c=()=>{a(f=>f===e.length-1?0:f+1)},u=()=>{const f=document.createElement("a");f.href=o.url,f.download=o.filename||"image",document.body.appendChild(f),f.click(),document.body.removeChild(f)},d=f=>{f.key==="ArrowLeft"&&s(),f.key==="ArrowRight"&&c(),f.key==="Escape"&&r()};return Te.useEffect(()=>(window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)),[]),l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-50",onClick:r,"data-testid":"image-gallery",children:[l.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-3 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition text-white z-10","data-testid":"close-gallery",children:l.jsx(Un,{className:"text-xl"})}),l.jsx("button",{onClick:u,className:"absolute top-4 right-20 p-3 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition text-white z-10","data-testid":"download-image",children:l.jsx(HN,{className:"text-xl"})}),e.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:f=>{f.stopPropagation(),s()},className:"absolute left-4 p-3 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition text-white z-10","data-testid":"previous-image",children:l.jsx(XM,{className:"text-xl"})}),l.jsx("button",{onClick:f=>{f.stopPropagation(),c()},className:"absolute right-4 p-3 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition text-white z-10","data-testid":"next-image",children:l.jsx(sg,{className:"text-xl"})}),l.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 px-4 py-2 bg-white bg-opacity-10 rounded-full text-white z-10",children:[i+1," / ",e.length]})]}),l.jsxs("div",{className:"max-w-7xl max-h-[90vh] p-4",onClick:f=>f.stopPropagation(),children:[l.jsx("img",{src:o.url,alt:o.filename||"Image",className:"max-w-full max-h-[90vh] object-contain rounded-lg"}),o.filename&&l.jsx("p",{className:"text-white text-center mt-4 text-sm opacity-75",children:o.filename})]})]})},w$=({file:e,onImageClick:t,darkMode:r})=>{var o,s;const n=()=>{var d;switch((d=(e.filename||"").split(".").pop())==null?void 0:d.toLowerCase()){case"pdf":return l.jsx(r$,{className:"text-red-500"});case"doc":case"docx":return l.jsx(a$,{className:"text-blue-500"});case"xls":case"xlsx":return l.jsx(t$,{className:"text-green-500"});case"ppt":case"pptx":return l.jsx(n$,{className:"text-orange-500"});case"mp4":case"mov":case"avi":case"mkv":case"webm":return l.jsx(i$,{className:"text-purple-500"});default:return l.jsx(Ov,{className:"text-gray-500"})}},i=c=>c?c<1024?c+" B":c<1048576?(c/1024).toFixed(1)+" KB":(c/1048576).toFixed(1)+" MB":"Unknown size",a=()=>{const c=document.createElement("a");c.href=e.url,c.download=e.filename||"file",c.target="_blank",document.body.appendChild(c),c.click(),document.body.removeChild(c)};return e.category==="image"||(o=e.mime_type)!=null&&o.startsWith("image/")?l.jsxs("div",{className:"mt-2",children:[l.jsx("button",{onClick:()=>t&&t(e),className:"block max-w-sm rounded-lg overflow-hidden hover:opacity-90 transition","data-testid":"image-attachment",children:l.jsx("img",{src:e.url,alt:e.filename,className:"w-full h-auto max-h-64 object-cover",loading:"lazy"})}),e.filename&&l.jsx("p",{className:"text-xs mt-1 opacity-75",children:e.filename})]}):e.category==="video"||(s=e.mime_type)!=null&&s.startsWith("video/")?l.jsxs("div",{className:"mt-2 max-w-sm",children:[l.jsxs("video",{controls:!0,className:"w-full rounded-lg",preload:"metadata","data-testid":"video-attachment",children:[l.jsx("source",{src:e.url,type:e.mime_type||"video/mp4"}),"Your browser does not support the video tag."]}),e.filename&&l.jsx("p",{className:"text-xs mt-1 opacity-75",children:e.filename})]}):l.jsxs("div",{className:`mt-2 max-w-sm p-3 rounded-lg border flex items-center space-x-3 ${r?"bg-gray-700 border-gray-600":"bg-white border-gray-300"}`,"data-testid":"file-attachment",children:[l.jsx("div",{className:"flex-shrink-0 text-3xl",children:n()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`font-medium truncate ${r?"text-gray-200":"text-gray-800"}`,children:e.filename||"Unnamed file"}),l.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:i(e.size)})]}),l.jsx("button",{onClick:a,className:`flex-shrink-0 p-2 rounded-lg transition ${r?"hover:bg-gray-600":"hover:bg-gray-100"}`,title:"Download","data-testid":"download-file-button",children:l.jsx(HN,{className:r?"text-gray-400":"text-gray-600"})})]})};function _$(){var S,N;const{user:e}=We(),{socket:t,connected:r,onlineUsers:n}=Es(),{darkMode:i}=bt();Rt();const[a,o]=b.useState([]),[s,c]=b.useState(null),[u,d]=b.useState([]),[f,h]=b.useState(""),[m,g]=b.useState([]),[v,y]=b.useState(!1),[p,x]=b.useState([]),[w,_]=b.useState(""),[j,k]=b.useState(!0),[P,A]=b.useState({}),[M,R]=b.useState(!1),[L,U]=b.useState(!1),[X,J]=b.useState(null),[le,Y]=b.useState("video"),[Q,q]=b.useState(null),[te,ie]=b.useState(!1),[oe,se]=b.useState(!1),[we,Ce]=b.useState([]),[ge,z]=b.useState(null),B=b.useRef(null),F=b.useRef(null);b.useEffect(()=>{Z(),T()},[]),b.useEffect(()=>{if(s&&t&&r)return C(s.id),t.emit("join_chat",{chat_id:s.id}),()=>{t.emit("leave_chat",{chat_id:s.id})}},[s,t,r]),b.useEffect(()=>{if(t)return t.on("new_message",E=>{E.chat_id===(s==null?void 0:s.id)&&(d(D=>[...D,E]),$()),o(D=>D.map(I=>I.id===E.chat_id?{...I,last_message:E.content,last_message_at:E.created_at}:I))}),t.on("user_typing",E=>{E.chat_id===(s==null?void 0:s.id)&&(A(D=>({...D,[E.user_id]:E.is_typing})),setTimeout(()=>{A(D=>{const I={...D};return delete I[E.user_id],I})},3e3))}),t.on("incoming_call",E=>{q(E)}),t.on("call_response",E=>{E.accepted?U(!0):(alert("Call was rejected"),J(null))}),()=>{t.off("new_message"),t.off("user_typing"),t.off("incoming_call"),t.off("call_response")}},[t,s]);const $=()=>{var E;(E=B.current)==null||E.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{$()},[u]);const Z=async()=>{try{const E=await ue.get("/chats");o(E.data)}catch(E){console.error("Failed to fetch chats:",E)}finally{k(!1)}},T=async()=>{try{const E=await ue.get("/users");g(E.data.filter(D=>D.id!==(e==null?void 0:e.id)))}catch(E){console.error("Failed to fetch users:",E)}},C=async E=>{try{const D=await ue.get(`/chats/${E}/messages`);d(D.data)}catch(D){console.error("Failed to fetch messages:",D)}},W=async()=>{if(p.length!==0)try{const E={name:p.length>1?w:null,type:p.length>1?"group":"direct",participants:p},D=await ue.post("/chats",E);o([...a,D.data]),y(!1),x([]),_(""),c(D.data)}catch(E){console.error("Failed to create chat:",E)}},G=async E=>{if(E.preventDefault(),!(!f.trim()&&we.length===0||!s||!t))try{t.emit("send_message",{chat_id:s.id,content:f,type:we.length>0?"file":"text",files:we}),h(""),Ce([]),R(!1)}catch(D){console.error("Failed to send message:",D)}},fe=E=>{Ce([...we,...E]),ie(!1)},ae=E=>{!s||!t||(E.source==="upload"?Ce([{id:E.id,url:E.url,filename:E.filename,category:"image",mime_type:"image/gif"}]):t.emit("send_message",{chat_id:s.id,content:`GIF: ${E.title||"Shared a GIF"}`,type:"gif",files:[{url:E.url,filename:E.title||"gif",category:"image",mime_type:"image/gif",source:"giphy"}]}),se(!1))},pe=E=>{Ce(we.filter(D=>D.id!==E))},_e=(E,D)=>{const I=D.findIndex(K=>K.id===E.id);z({images:D,initialIndex:I>=0?I:0})},De=E=>{h(E.target.value),!(!t||!s)&&(M||(R(!0),t.emit("typing",{chat_id:s.id,is_typing:!0})),F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{R(!1),t.emit("typing",{chat_id:s.id,is_typing:!1})},2e3))},ut=E=>{var I;if(!s||s.type!=="direct"){alert("Calls are only available for direct chats");return}const D=(I=s.participants_data)==null?void 0:I.find(K=>K.id!==(e==null?void 0:e.id));D&&(Y(E),J(D.id),t.emit("call_user",{target_user_id:D.id,call_type:E}),U(!0))},Er=()=>{Q&&(t.emit("call_response",{target_user_id:Q.from_user.id,accepted:!0}),J(Q.from_user.id),Y(Q.call_type),U(!0),q(null))},pt=()=>{Q&&(t.emit("call_response",{target_user_id:Q.from_user.id,accepted:!1}),q(null))},st=async E=>{if(U(!1),J(null),E&&E.duration>0)try{await ue.post("/calls/history",{type:le,participants:[e.id,X],duration:E.duration,status:"completed"})}catch(D){console.error("Failed to save call history:",D)}},qr=E=>{var D;if(E.name)return E.name;if(E.type==="direct"){const I=(D=E.participants_data)==null?void 0:D.find(K=>K.id!==(e==null?void 0:e.id));return(I==null?void 0:I.full_name)||"Unknown"}return"Group Chat"},Lt=E=>n[E]==="online",hn=E=>new Date(E).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),O=()=>{var D;const E=Object.keys(P).filter(I=>P[I]);if(E.length===0)return null;if(E.length===1){const I=(D=s==null?void 0:s.participants_data)==null?void 0:D.find(K=>K.id===E[0]);return`${(I==null?void 0:I.full_name)||"Someone"} is typing...`}return"Multiple people are typing..."};return L&&X?l.jsx(ek,{targetUserId:X,callType:le,onEnd:st}):l.jsxs("div",{className:"flex min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-primary-900 dark:to-primary-800",children:[l.jsx(Sv,{}),l.jsxs("div",{className:"flex-1 flex flex-col bg-transparent",children:[l.jsx("header",{className:`${i?"bg-primary-800/80 backdrop-blur-xl":"bg-white/80 backdrop-blur-xl"} shadow-lg border-b border-gray-200 dark:border-primary-700`,children:l.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-5 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center shadow-md",children:l.jsx(_n,{className:"text-2xl text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Chat"}),r&&l.jsxs("span",{className:"flex items-center space-x-1.5 text-sm text-green-500 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full",children:[l.jsx(El,{className:"text-xs animate-pulse"}),l.jsx("span",{className:"font-medium",children:"Connected"})]})]})]}),l.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105","data-testid":"new-chat-button",children:[l.jsx(Fi,{}),l.jsx("span",{className:"font-medium",children:"New Chat"})]})]})}),l.jsxs("div",{className:"flex flex-1 h-[calc(100vh-80px)]",children:[l.jsxs("div",{className:`w-80 ${i?"bg-primary-800/50 backdrop-blur-xl":"bg-white/50 backdrop-blur-xl"} border-r ${i?"border-gray-700":"border-gray-200"} overflow-y-auto`,children:[l.jsx("div",{className:`p-4 border-b ${i?"border-gray-700":"border-gray-200"}`,children:l.jsxs("div",{className:"relative",children:[l.jsx(Jl,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${i?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{type:"text",placeholder:"Search chats...",className:`w-full pl-10 pr-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all shadow-sm hover:shadow-md ${i?"bg-gray-700/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300"}`,"data-testid":"search-chat-input"})]})}),j?l.jsx("div",{className:"p-4 text-center",children:l.jsx("p",{className:i?"text-gray-400":"text-gray-500",children:"Loading chats..."})}):a.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(_n,{className:`text-5xl mx-auto mb-3 ${i?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:i?"text-gray-400":"text-gray-500",children:"No chats yet"}),l.jsx("p",{className:`text-sm mt-2 ${i?"text-gray-500":"text-gray-400"}`,children:"Start a new conversation!"})]}):l.jsx("div",{className:`divide-y ${i?"divide-gray-700":"divide-gray-200"}`,children:a.map(E=>{var K;const D=(K=E.participants_data)==null?void 0:K.find(ye=>ye.id!==(e==null?void 0:e.id)),I=E.type==="direct"&&D&&Lt(D.id);return l.jsx("div",{onClick:()=>c(E),className:`p-4 cursor-pointer transition-all duration-200 ${(s==null?void 0:s.id)===E.id?i?"bg-blue-600/20 border-l-4 border-blue-500 shadow-md":"bg-blue-50 border-l-4 border-blue-500 shadow-md":i?"hover:bg-gray-700/50":"hover:bg-gray-100/50"}`,"data-testid":`chat-item-${E.id}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold shadow-md transform transition-transform hover:scale-110",children:qr(E).charAt(0)}),I&&l.jsx(El,{className:"absolute bottom-0 right-0 text-green-500 text-xs bg-white dark:bg-primary-800 rounded-full animate-pulse"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`font-semibold truncate ${i?"text-white":"text-gray-800"}`,children:qr(E)}),l.jsx("p",{className:`text-sm truncate ${i?"text-gray-400":"text-gray-500"}`,children:E.last_message||"No messages yet"})]})]})},E.id)})})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${i?"bg-primary-800/80 backdrop-blur-xl":"bg-white/80 backdrop-blur-xl"} border-b ${i?"border-gray-700":"border-gray-200"} px-6 py-4 shadow-sm`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold shadow-md",children:qr(s).charAt(0)}),l.jsxs("div",{children:[l.jsx("p",{className:`font-semibold ${i?"text-white":"text-gray-800"}`,children:qr(s)}),l.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:[((S=s.participants)==null?void 0:S.length)||0," participants"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>ut("voice"),className:`p-3 ${i?"hover:bg-gray-700":"hover:bg-gray-100"} rounded-xl transition-all duration-200 transform hover:scale-110`,title:"Voice Call","data-testid":"voice-call-button",children:l.jsx(Cl,{className:`${i?"text-gray-300":"text-gray-600"} w-5 h-5`})}),l.jsx("button",{onClick:()=>ut("video"),className:`p-3 ${i?"hover:bg-gray-700":"hover:bg-gray-100"} rounded-xl transition-all duration-200 transform hover:scale-110`,title:"Video Call","data-testid":"video-call-button",children:l.jsx(_c,{className:`${i?"text-gray-300":"text-gray-600"} w-5 h-5`})})]})]})}),l.jsxs("div",{className:`flex-1 overflow-y-auto p-6 space-y-4 ${i?"bg-gradient-to-br from-primary-900 to-primary-800":"bg-gradient-to-br from-gray-50 to-gray-100"}`,"data-testid":"messages-container",children:[u.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(_n,{className:`text-6xl mx-auto mb-3 ${i?"text-gray-700":"text-gray-300"}`}),l.jsx("p",{className:i?"text-gray-400":"text-gray-500",children:"No messages yet"}),l.jsx("p",{className:`text-sm mt-2 ${i?"text-gray-500":"text-gray-400"}`,children:"Start the conversation!"})]})}):l.jsxs(l.Fragment,{children:[u.map(E=>{var I;const D=(E.files||[]).filter(K=>{var ye;return K.category==="image"||((ye=K.mime_type)==null?void 0:ye.startsWith("image/"))});return l.jsx("div",{className:`flex ${E.sender_id===(e==null?void 0:e.id)?"justify-end":"justify-start"} animate-slide-up`,"data-testid":"message-item",children:l.jsxs("div",{className:`max-w-md ${E.sender_id===(e==null?void 0:e.id)?"bg-gradient-to-br from-blue-600 to-blue-700 text-white":i?"bg-primary-800 text-white":"bg-white text-gray-800"} rounded-2xl px-4 py-3 shadow-md hover:shadow-lg transition-shadow`,children:[E.sender_id!==(e==null?void 0:e.id)&&l.jsx("p",{className:`text-xs font-semibold mb-1 ${i?"text-gray-300":""}`,children:(I=E.sender)==null?void 0:I.full_name}),E.content&&l.jsx("p",{children:E.content}),E.files&&E.files.length>0&&l.jsx("div",{className:"space-y-2",children:E.files.map((K,ye)=>l.jsx(w$,{file:K,darkMode:i,onImageClick:He=>_e(He,D)},K.id||ye))}),l.jsx("p",{className:`text-xs mt-1 ${E.sender_id===(e==null?void 0:e.id)?"text-blue-100":i?"text-gray-400":"text-gray-500"}`,children:hn(E.created_at)})]})},E.id)}),l.jsx("div",{ref:B})]}),O()&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:`px-4 py-2 rounded-lg ${i?"bg-gray-800 text-gray-400":"bg-white text-gray-500"} text-sm italic`,children:O()})})]}),l.jsxs("div",{className:`${i?"bg-primary-800/80 backdrop-blur-xl":"bg-white/80 backdrop-blur-xl"} border-t ${i?"border-gray-700":"border-gray-200"} px-6 py-4 shadow-lg`,children:[we.length>0&&l.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:we.map(E=>l.jsxs("div",{className:`relative group ${i?"bg-gray-700":"bg-gray-100"} rounded-lg p-2 flex items-center space-x-2`,children:[E.category==="image"?l.jsx("img",{src:E.url,alt:E.filename,className:"w-12 h-12 object-cover rounded"}):l.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-blue-500 text-white rounded",children:l.jsx(cg,{})}),l.jsx("span",{className:`text-sm truncate max-w-[100px] ${i?"text-gray-300":"text-gray-700"}`,children:E.filename}),l.jsx("button",{onClick:()=>pe(E.id),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:l.jsx(FaTimes,{className:"text-xs"})})]},E.id))}),l.jsxs("form",{onSubmit:G,className:"flex items-center space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>ie(!0),className:`p-3 ${i?"hover:bg-gray-700":"hover:bg-gray-100"} rounded-xl transition-all duration-200 transform hover:scale-110`,title:"Attach file","data-testid":"attach-file-button",children:l.jsx(cg,{className:`${i?"text-gray-400":"text-gray-600"} w-5 h-5`})}),l.jsx("button",{type:"button",onClick:()=>se(!0),className:`p-3 ${i?"hover:bg-gray-700":"hover:bg-gray-100"} rounded-xl transition-all duration-200 transform hover:scale-110`,title:"Send GIF","data-testid":"gif-picker-button",children:l.jsx(JN,{className:`${i?"text-gray-400":"text-gray-600"} w-5 h-5`})}),l.jsx("input",{type:"text",value:f,onChange:De,placeholder:"Type a message...",className:`flex-1 px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all shadow-sm hover:shadow-md ${i?"bg-gray-700/50 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300"}`,"data-testid":"message-input"}),l.jsx("button",{type:"submit",disabled:!f.trim()&&we.length===0,className:"p-3.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105","data-testid":"send-message-button",children:l.jsx(QN,{className:"w-5 h-5"})})]})]})]}):l.jsx("div",{className:`flex items-center justify-center h-full ${i?"bg-gray-900":"bg-gray-50"}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx(_n,{className:`text-8xl mx-auto mb-4 ${i?"text-gray-700":"text-gray-300"}`}),l.jsx("p",{className:`text-xl ${i?"text-gray-400":"text-gray-500"}`,children:"Select a chat to start messaging"})]})})})]}),v&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50","data-testid":"new-chat-modal",children:l.jsxs("div",{className:`${i?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-md w-full mx-4 p-6`,children:[l.jsx("h2",{className:`text-2xl font-bold mb-4 ${i?"text-white":"text-gray-800"}`,children:"New Chat"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-700"}`,children:"Select Users"}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.map(E=>{var D;return l.jsxs("label",{className:`flex items-center space-x-3 p-2 rounded cursor-pointer ${i?"hover:bg-gray-700":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"checkbox",checked:p.includes(E.id),onChange:I=>{I.target.checked?x([...p,E.id]):x(p.filter(K=>K!==E.id))},className:"w-4 h-4 text-blue-500"}),l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:(D=E.full_name)==null?void 0:D.charAt(0)}),l.jsx("span",{className:i?"text-white":"text-gray-800",children:E.full_name}),Lt(E.id)&&l.jsx(El,{className:"text-green-500 text-xs ml-auto"})]},E.id)})})]}),p.length>1&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-700"}`,children:"Group Name"}),l.jsx("input",{type:"text",value:w,onChange:E=>_(E.target.value),placeholder:"Enter group name",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${i?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:W,disabled:p.length===0,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"create-chat-button",children:"Create Chat"}),l.jsx("button",{onClick:()=>{y(!1),x([]),_("")},className:`flex-1 px-4 py-2 rounded-lg transition ${i?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,"data-testid":"cancel-chat-button",children:"Cancel"})]})]})}),Q&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50","data-testid":"incoming-call-modal",children:l.jsxs("div",{className:`${i?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-sm w-full mx-4 p-8 text-center`,children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-3xl mx-auto mb-4",children:(N=Q.from_user.full_name)==null?void 0:N.charAt(0)}),l.jsx("h2",{className:`text-2xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:Q.from_user.full_name}),l.jsxs("p",{className:`mb-6 ${i?"text-gray-400":"text-gray-500"}`,children:["Incoming ",Q.call_type," call..."]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:Er,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition font-semibold","data-testid":"accept-call-button",children:"Accept"}),l.jsx("button",{onClick:pt,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition font-semibold","data-testid":"reject-call-button",children:"Reject"})]})]})}),te&&l.jsx(tk,{onFilesUploaded:fe,onClose:()=>ie(!1),chatId:s==null?void 0:s.id,darkMode:i}),oe&&l.jsx(rk,{onGifSelect:ae,onClose:()=>se(!1),darkMode:i}),ge&&l.jsx(b$,{images:ge.images,initialIndex:ge.initialIndex,onClose:()=>z(null),darkMode:i})]})]})}function j$({spaces:e,subspaces:t,selectedChat:r,onSelectChat:n,onCreateSpace:i,onCreateSubspace:a,onCreateChannel:o,darkMode:s}){const[c,u]=b.useState({}),[d,f]=b.useState({}),h=y=>{u(p=>({...p,[y]:!p[y]}))},m=y=>{f(p=>({...p,[y]:!p[y]}))},g=y=>y.type==="private"?l.jsx(XN,{className:"text-sm"}):y.type==="restricted"?l.jsx(rd,{className:"text-sm"}):l.jsx(YN,{className:"text-sm"}),v=y=>t.filter(p=>p.space_id===y)||[];return l.jsxs("div",{className:"space-y-1",children:[e.map(y=>{var _;const p=c[y.id],x=v(y.id),w=((_=y.chats)==null?void 0:_.filter(j=>!j.subspace_id))||[];return l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:`flex items-center justify-between p-2 rounded cursor-pointer group ${s?"hover:bg-gray-700":"hover:bg-gray-100"}`,onClick:()=>h(y.id),children:[l.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[l.jsx("button",{className:`${s?"text-gray-400":"text-gray-500"}`,children:p?l.jsx(Xw,{className:"text-xs"}):l.jsx(sg,{className:"text-xs"})}),l.jsx("span",{className:"text-lg",children:y.icon||""}),l.jsx("span",{className:`font-semibold ${s?"text-white":"text-gray-800"}`,children:y.name}),g(y)]}),y.is_admin&&l.jsx("button",{onClick:j=>{j.stopPropagation(),a(y.id)},className:`opacity-0 group-hover:opacity-100 p-1 rounded transition ${s?"hover:bg-gray-600":"hover:bg-gray-200"}`,title:"Add subspace",children:l.jsx(Fi,{className:"text-xs"})})]}),p&&l.jsxs("div",{className:"ml-4 mt-1 space-y-1",children:[w.map(j=>l.jsxs("div",{onClick:()=>n(j),className:`flex items-center space-x-2 p-2 pl-6 rounded cursor-pointer ${(r==null?void 0:r.id)===j.id?s?"bg-blue-600 text-white":"bg-blue-100 text-blue-900":s?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-700"}`,children:[l.jsx(rd,{className:"text-sm"}),l.jsx("span",{className:"text-sm",children:j.name||"Unnamed Chat"})]},j.id)),x.map(j=>{var A;const k=d[j.id],P=((A=y.chats)==null?void 0:A.filter(M=>M.subspace_id===j.id))||[];return l.jsxs("div",{className:"ml-2",children:[l.jsxs("div",{className:`flex items-center justify-between p-2 rounded cursor-pointer group ${s?"hover:bg-gray-700":"hover:bg-gray-100"}`,onClick:()=>m(j.id),children:[l.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[l.jsx("button",{className:`${s?"text-gray-400":"text-gray-500"}`,children:k?l.jsx(Xw,{className:"text-xs"}):l.jsx(sg,{className:"text-xs"})}),l.jsx("span",{className:"text-base",children:j.icon||""}),l.jsx("span",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:j.name})]}),y.is_admin&&l.jsx("button",{onClick:M=>{M.stopPropagation(),o(y.id,j.id)},className:`opacity-0 group-hover:opacity-100 p-1 rounded transition ${s?"hover:bg-gray-600":"hover:bg-gray-200"}`,title:"Add channel",children:l.jsx(Fi,{className:"text-xs"})})]}),k&&l.jsx("div",{className:"ml-6 space-y-1",children:P.map(M=>l.jsxs("div",{onClick:()=>n(M),className:`flex items-center space-x-2 p-2 rounded cursor-pointer ${(r==null?void 0:r.id)===M.id?s?"bg-blue-600 text-white":"bg-blue-100 text-blue-900":s?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-700"}`,children:[l.jsx(rd,{className:"text-xs"}),l.jsx("span",{className:"text-sm",children:M.name||"Unnamed Chat"})]},M.id))})]},j.id)}),y.is_admin&&l.jsxs("button",{onClick:()=>o(y.id,null),className:`flex items-center space-x-2 p-2 pl-6 rounded w-full text-left ${s?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:[l.jsx(Fi,{className:"text-xs"}),l.jsx("span",{className:"text-sm",children:"Add Channel"})]})]})]},y.id)}),l.jsxs("button",{onClick:i,className:`flex items-center space-x-2 p-2 rounded w-full text-left ${s?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:[l.jsx(Fi,{className:"text-sm"}),l.jsx("span",{className:"text-sm font-medium",children:"Add Space"})]})]})}function S$({onClose:e,onCreate:t,darkMode:r}){const[n,i]=b.useState(""),[a,o]=b.useState(""),[s,c]=b.useState("public"),[u,d]=b.useState(""),[f,h]=b.useState(!1),m=[{value:"public",label:"Public",icon:l.jsx(YN,{}),description:"Anyone can see and join"},{value:"private",label:"Private",icon:l.jsx(XN,{}),description:"Invite-only, hidden from non-members"},{value:"restricted",label:"Restricted",icon:l.jsx(rd,{}),description:"Visible to all, join requires approval"}],g=["","","","","","","","","","","",""],v=async y=>{if(y.preventDefault(),!!n.trim()){h(!0);try{await t({name:n,description:a,type:s,icon:u}),e()}catch(p){console.error("Failed to create space:",p),alert("Failed to create space")}finally{h(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:l.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-lg w-full mx-4 p-6`,onClick:y=>y.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:`text-2xl font-bold ${r?"text-white":"text-gray-800"}`,children:"Create New Space"}),l.jsx("button",{onClick:e,className:`p-2 rounded-lg ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:l.jsx(Un,{className:r?"text-gray-400":"text-gray-600"})})]}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Space Name *"}),l.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),placeholder:"e.g., Engineering, Marketing",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${r?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Description (Optional)"}),l.jsx("textarea",{value:a,onChange:y=>o(y.target.value),placeholder:"What is this space about?",rows:3,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none ${r?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Icon"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>l.jsx("button",{type:"button",onClick:()=>d(y),className:`text-2xl p-2 rounded-lg border-2 transition ${u===y?"border-blue-500 bg-blue-50":r?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:y},y))})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Space Type"}),l.jsx("div",{className:"space-y-2",children:m.map(y=>l.jsxs("label",{className:`flex items-start space-x-3 p-3 rounded-lg cursor-pointer border-2 transition ${s===y.value?"border-blue-500 bg-blue-50":r?"border-gray-600 hover:border-gray-500 bg-gray-700":"border-gray-300 hover:border-gray-400"}`,children:[l.jsx("input",{type:"radio",name:"spaceType",value:y.value,checked:s===y.value,onChange:p=>c(p.target.value),className:"mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[y.icon,l.jsx("span",{className:`font-medium ${r?"text-white":"text-gray-800"}`,children:y.label})]}),l.jsx("p",{className:`text-sm mt-1 ${r?"text-gray-400":"text-gray-500"}`,children:y.description})]})]},y.value))})]}),l.jsxs("div",{className:"flex items-center space-x-3 pt-4",children:[l.jsx("button",{type:"submit",disabled:f||!n.trim(),className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating...":"Create Space"}),l.jsx("button",{type:"button",onClick:e,className:`flex-1 px-4 py-2 rounded-lg transition ${r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"Cancel"})]})]})]})})}function N$({spaceId:e,spaceName:t,onClose:r,onCreate:n,darkMode:i}){const[a,o]=b.useState(""),[s,c]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(!1),m=["","","","","","","","","","","",""],g=async v=>{if(v.preventDefault(),!!a.trim()){h(!0);try{await n(e,{name:a,description:s,icon:u}),r()}catch(y){console.error("Failed to create subspace:",y),alert("Failed to create subspace")}finally{h(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:r,children:l.jsxs("div",{className:`${i?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-lg w-full mx-4 p-6`,onClick:v=>v.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:`text-2xl font-bold ${i?"text-white":"text-gray-800"}`,children:"Create Subspace"}),l.jsxs("p",{className:`text-sm mt-1 ${i?"text-gray-400":"text-gray-500"}`,children:["in ",t]})]}),l.jsx("button",{onClick:r,className:`p-2 rounded-lg ${i?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:l.jsx(Un,{className:i?"text-gray-400":"text-gray-600"})})]}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-700"}`,children:"Subspace Name *"}),l.jsx("input",{type:"text",value:a,onChange:v=>o(v.target.value),placeholder:"e.g., Frontend Team, Backend Team",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${i?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-700"}`,children:"Description (Optional)"}),l.jsx("textarea",{value:s,onChange:v=>c(v.target.value),placeholder:"What is this subspace about?",rows:2,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none ${i?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-700"}`,children:"Icon"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(v=>l.jsx("button",{type:"button",onClick:()=>d(v),className:`text-2xl p-2 rounded-lg border-2 transition ${u===v?"border-blue-500 bg-blue-50":i?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:v},v))})]}),l.jsxs("div",{className:"flex items-center space-x-3 pt-4",children:[l.jsx("button",{type:"submit",disabled:f||!a.trim(),className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating...":"Create Subspace"}),l.jsx("button",{type:"button",onClick:r,className:`flex-1 px-4 py-2 rounded-lg transition ${i?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"Cancel"})]})]})]})})}function k$(){var He,qe,Qe;const{user:e}=We(),{socket:t,connected:r,onlineUsers:n}=Es(),{darkMode:i}=bt();Rt();const[a,o]=b.useState([]),[s,c]=b.useState([]),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[m,g]=b.useState(null),[v,y]=b.useState(!1),[p,x]=b.useState(null),[w,_]=b.useState(null),[j,k]=b.useState(null),[P,A]=b.useState([]),[M,R]=b.useState(""),[L,U]=b.useState([]),[X,J]=b.useState(!0),[le,Y]=b.useState({}),[Q,q]=b.useState(!1),[te,ie]=b.useState(!1),[oe,se]=b.useState(null),[we,Ce]=b.useState("video"),[ge,z]=b.useState(null),[B,F]=b.useState(""),[$,Z]=b.useState([]),[T,C]=b.useState(!1),[W,G]=b.useState(!1),fe=b.useRef(null),ae=b.useRef(null);b.useEffect(()=>{_e(),De()},[]),b.useEffect(()=>{if(j&&t&&r)return ut(j.id),t.emit("join_chat",{chat_id:j.id}),()=>{t.emit("leave_chat",{chat_id:j.id})}},[j,t,r]),b.useEffect(()=>{if(t)return t.on("new_message",ee=>{ee.chat_id===(j==null?void 0:j.id)&&(A(ve=>[...ve,ee]),pe()),_e()}),t.on("user_typing",ee=>{ee.chat_id===(j==null?void 0:j.id)&&(Y(ve=>({...ve,[ee.user_id]:ee.is_typing})),setTimeout(()=>{Y(ve=>{const nt={...ve};return delete nt[ee.user_id],nt})},3e3))}),t.on("incoming_call",ee=>{z(ee)}),t.on("call_response",ee=>{ee.accepted?ie(!0):(alert("Call was rejected"),se(null))}),()=>{t.off("new_message"),t.off("user_typing"),t.off("incoming_call"),t.off("call_response")}},[t,j]);const pe=()=>{var ee;(ee=fe.current)==null||ee.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{pe()},[P]);const _e=async()=>{try{const ve=(await ue.get("/spaces")).data,fa=(await ue.get("/chats")).data,hO=ve.map(qc=>({...qc,chats:fa.filter(vp=>vp.space_id===qc.id)}));o(hO);const F1=[];for(const qc of ve){const vp=await ue.get(`/spaces/${qc.id}/subspaces`);F1.push(...vp.data)}c(F1)}catch(ee){console.error("Failed to fetch spaces:",ee)}finally{J(!1)}},De=async()=>{try{const ee=await ue.get("/users");U(ee.data.filter(ve=>ve.id!==(e==null?void 0:e.id)))}catch(ee){console.error("Failed to fetch users:",ee)}},ut=async ee=>{try{const ve=await ue.get(`/chats/${ee}/messages`);A(ve.data)}catch(ve){console.error("Failed to fetch messages:",ve)}},Er=async ee=>{try{await ue.post("/spaces",ee),_e()}catch(ve){throw console.error("Failed to create space:",ve),ve}},pt=async(ee,ve)=>{try{await ue.post(`/spaces/${ee}/subspaces`,ve),_e()}catch(nt){throw console.error("Failed to create subspace:",nt),nt}},st=async ee=>{if(ee.preventDefault(),!(!B.trim()||$.length===0))try{const ve={name:B,type:"group",participants:$,space_id:p,subspace_id:w};await ue.post("/chats/with-space",ve),y(!1),F(""),Z([]),_e()}catch(ve){console.error("Failed to create channel:",ve)}},qr=async ee=>{if(ee.preventDefault(),!(!M.trim()||!j||!t))try{t.emit("send_message",{chat_id:j.id,content:M,type:"text"}),R(""),q(!1)}catch(ve){console.error("Failed to send message:",ve)}},Lt=ee=>{!t||!j||(t.emit("send_message",{chat_id:j.id,content:ee.filename,type:ee.category,file_url:ee.url,file_id:ee.id}),C(!1))},hn=ee=>{!t||!j||(t.emit("send_message",{chat_id:j.id,content:"GIF",type:"image",file_url:ee}),G(!1))},O=ee=>{R(ee.target.value),!(!t||!j)&&(Q||(q(!0),t.emit("typing",{chat_id:j.id,is_typing:!0})),ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{q(!1),t.emit("typing",{chat_id:j.id,is_typing:!1})},2e3))},S=ee=>{var nt;if(!j||j.type!=="direct"){alert("Calls are only available for direct chats");return}const ve=(nt=j.participants_data)==null?void 0:nt.find(fa=>fa.id!==(e==null?void 0:e.id));ve&&(Ce(ee),se(ve.id),t.emit("call_user",{target_user_id:ve.id,call_type:ee}),ie(!0))},N=()=>{ge&&(t.emit("call_response",{target_user_id:ge.from_user.id,accepted:!0}),se(ge.from_user.id),Ce(ge.call_type),ie(!0),z(null))},E=()=>{ge&&(t.emit("call_response",{target_user_id:ge.from_user.id,accepted:!1}),z(null))},D=async ee=>{if(ie(!1),se(null),ee&&ee.duration>0)try{await ue.post("/calls/history",{type:we,participants:[e.id,oe],duration:ee.duration,status:"completed"})}catch(ve){console.error("Failed to save call history:",ve)}},I=ee=>{var ve;if(ee.name)return ee.name;if(ee.type==="direct"){const nt=(ve=ee.participants_data)==null?void 0:ve.find(fa=>fa.id!==(e==null?void 0:e.id));return(nt==null?void 0:nt.full_name)||"Unknown"}return"Group Chat"},K=ee=>new Date(ee).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),ye=()=>{var ve;const ee=Object.keys(le).filter(nt=>le[nt]);if(ee.length===0)return null;if(ee.length===1){const nt=(ve=j==null?void 0:j.participants_data)==null?void 0:ve.find(fa=>fa.id===ee[0]);return`${(nt==null?void 0:nt.full_name)||"Someone"} is typing...`}return"Multiple people are typing..."};return te&&oe?l.jsx(ek,{targetUserId:oe,callType:we,onEnd:D}):l.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-primary-900",children:[l.jsx(Sv,{}),l.jsxs("div",{className:`flex-1 flex flex-col ${i?"bg-gray-900":"bg-gray-100"}`,children:[l.jsx("header",{className:`${i?"bg-gray-800":"bg-white"} shadow-md`,children:l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(_n,{className:`text-3xl ${i?"text-blue-400":"text-blue-500"}`}),l.jsx("h1",{className:`text-2xl font-bold ${i?"text-white":"text-gray-800"}`,children:"Spaces"}),r&&l.jsxs("span",{className:"flex items-center space-x-1 text-sm text-green-500",children:[l.jsx(El,{className:"text-xs"}),l.jsx("span",{children:"Connected"})]})]})})}),l.jsxs("div",{className:"flex flex-1 h-[calc(100vh-80px)]",children:[l.jsxs("div",{className:`w-80 ${i?"bg-gray-800":"bg-white"} border-r ${i?"border-gray-700":"border-gray-200"} overflow-y-auto`,children:[l.jsx("div",{className:`p-4 border-b ${i?"border-gray-700":"border-gray-200"}`,children:l.jsxs("div",{className:"relative",children:[l.jsx(Jl,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${i?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{type:"text",placeholder:"Search spaces...",className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${i?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`})]})}),X?l.jsx("div",{className:"p-4 text-center",children:l.jsx("p",{className:i?"text-gray-400":"text-gray-500",children:"Loading spaces..."})}):l.jsx("div",{className:"p-4",children:l.jsx(j$,{spaces:a,subspaces:s,selectedChat:j,onSelectChat:k,onCreateSpace:()=>d(!0),onCreateSubspace:ee=>{const ve=a.find(nt=>nt.id===ee);g(ve),h(!0)},onCreateChannel:(ee,ve)=>{x(ee),_(ve),y(!0)},darkMode:i})})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:j?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${i?"bg-gray-800":"bg-white"} border-b ${i?"border-gray-700":"border-gray-200"} px-6 py-4`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:I(j).charAt(0)}),l.jsxs("div",{children:[l.jsx("p",{className:`font-semibold ${i?"text-white":"text-gray-800"}`,children:I(j)}),l.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:[((He=j.space)==null?void 0:He.name)&&`${j.space.name}`,((qe=j.subspace)==null?void 0:qe.name)&&`  ${j.subspace.name}`]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>S("voice"),className:`p-3 ${i?"hover:bg-gray-700":"hover:bg-gray-100"} rounded-lg transition`,title:"Voice Call",children:l.jsx(Cl,{className:i?"text-gray-300":"text-gray-600"})}),l.jsx("button",{onClick:()=>S("video"),className:`p-3 ${i?"hover:bg-gray-700":"hover:bg-gray-100"} rounded-lg transition`,title:"Video Call",children:l.jsx(_c,{className:i?"text-gray-300":"text-gray-600"})})]})]})}),l.jsxs("div",{className:`flex-1 overflow-y-auto p-6 space-y-4 ${i?"bg-gray-900":"bg-gray-50"}`,children:[P.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(_n,{className:`text-6xl mx-auto mb-3 ${i?"text-gray-700":"text-gray-300"}`}),l.jsx("p",{className:i?"text-gray-400":"text-gray-500",children:"No messages yet"}),l.jsx("p",{className:`text-sm mt-2 ${i?"text-gray-500":"text-gray-400"}`,children:"Start the conversation!"})]})}):l.jsxs(l.Fragment,{children:[P.map(ee=>{var ve;return l.jsx("div",{className:`flex ${ee.sender_id===(e==null?void 0:e.id)?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-md ${ee.sender_id===(e==null?void 0:e.id)?"bg-blue-500 text-white":i?"bg-gray-800 text-white":"bg-white text-gray-800"} rounded-lg px-4 py-2 shadow`,children:[ee.sender_id!==(e==null?void 0:e.id)&&l.jsx("p",{className:`text-xs font-semibold mb-1 ${i?"text-gray-300":""}`,children:(ve=ee.sender)==null?void 0:ve.full_name}),l.jsx("p",{children:ee.content}),l.jsx("p",{className:`text-xs mt-1 ${ee.sender_id===(e==null?void 0:e.id)?"text-blue-100":i?"text-gray-400":"text-gray-500"}`,children:K(ee.created_at)})]})},ee.id)}),l.jsx("div",{ref:fe})]}),ye()&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:`px-4 py-2 rounded-lg ${i?"bg-gray-800 text-gray-400":"bg-white text-gray-500"} text-sm italic`,children:ye()})})]}),l.jsx("div",{className:`${i?"bg-gray-800":"bg-white"} border-t ${i?"border-gray-700":"border-gray-200"} px-6 py-4`,children:l.jsxs("form",{onSubmit:qr,className:"flex items-center space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>C(!0),className:`p-3 rounded-lg transition ${i?"hover:bg-gray-700 text-gray-400 hover:text-gray-300":"hover:bg-gray-100 text-gray-600 hover:text-gray-800"}`,title:"Attach file",children:l.jsx(cg,{})}),l.jsx("button",{type:"button",onClick:()=>G(!0),className:`p-3 rounded-lg transition ${i?"hover:bg-gray-700 text-gray-400 hover:text-gray-300":"hover:bg-gray-100 text-gray-600 hover:text-gray-800"}`,title:"Send GIF",children:l.jsx(JN,{})}),l.jsx("input",{type:"text",value:M,onChange:O,placeholder:"Type a message...",className:`flex-1 px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${i?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`}),l.jsx("button",{type:"submit",className:"p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:l.jsx(QN,{})})]})})]}):l.jsx("div",{className:`flex items-center justify-center h-full ${i?"bg-gray-900":"bg-gray-50"}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx(_n,{className:`text-8xl mx-auto mb-4 ${i?"text-gray-700":"text-gray-300"}`}),l.jsx("p",{className:`text-xl ${i?"text-gray-400":"text-gray-500"}`,children:"Select a channel to start messaging"})]})})})]}),u&&l.jsx(S$,{onClose:()=>d(!1),onCreate:Er,darkMode:i}),f&&m&&l.jsx(N$,{spaceId:m.id,spaceName:m.name,onClose:()=>{h(!1),g(null)},onCreate:pt,darkMode:i}),v&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>y(!1),children:l.jsxs("div",{className:`${i?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-md w-full mx-4 p-6`,onClick:ee=>ee.stopPropagation(),children:[l.jsx("h2",{className:`text-2xl font-bold mb-4 ${i?"text-white":"text-gray-800"}`,children:"New Channel"}),l.jsxs("form",{onSubmit:st,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-700"}`,children:"Channel Name"}),l.jsx("input",{type:"text",value:B,onChange:ee=>F(ee.target.value),placeholder:"e.g., general, random",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${i?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-700"}`,children:"Add Members"}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:L.map(ee=>l.jsxs("label",{className:`flex items-center space-x-3 p-2 rounded cursor-pointer ${i?"hover:bg-gray-700":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"checkbox",checked:$.includes(ee.id),onChange:ve=>{ve.target.checked?Z([...$,ee.id]):Z($.filter(nt=>nt!==ee.id))},className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:i?"text-white":"text-gray-800",children:ee.full_name})]},ee.id))})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{type:"submit",disabled:!B.trim()||$.length===0,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Channel"}),l.jsx("button",{type:"button",onClick:()=>{y(!1),F(""),Z([])},className:`flex-1 px-4 py-2 rounded-lg transition ${i?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"Cancel"})]})]})]})}),ge&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:`${i?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-sm w-full mx-4 p-8 text-center`,children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-3xl mx-auto mb-4",children:(Qe=ge.from_user.full_name)==null?void 0:Qe.charAt(0)}),l.jsx("h2",{className:`text-2xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:ge.from_user.full_name}),l.jsxs("p",{className:`mb-6 ${i?"text-gray-400":"text-gray-500"}`,children:["Incoming ",ge.call_type," call..."]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:N,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition font-semibold",children:"Accept"}),l.jsx("button",{onClick:E,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition font-semibold",children:"Reject"})]})]})}),T&&j&&l.jsx(tk,{chatId:j.id,onClose:()=>C(!1),onFileUploaded:Lt}),W&&j&&l.jsx(rk,{chatId:j.id,onClose:()=>G(!1),onGifSelected:hn})]})]})}function E$(){var d,f,h,m,g,v,y,p,x,w,_,j;const{user:e}=We(),[t,r]=b.useState([]),[n,i]=b.useState(!0),[a,o]=b.useState("all");b.useEffect(()=>{s()},[a]);const s=async()=>{try{const k=await ue.get("/leaderboard");r(k.data)}catch(k){console.error("Failed to fetch leaderboard:",k)}finally{i(!1)}},c=k=>k===1?l.jsx(Ma,{className:"text-yellow-500 w-6 h-6"}):k===2?l.jsx(Ro,{className:"text-gray-400 w-6 h-6"}):k===3?l.jsx(Ro,{className:"text-orange-500 w-6 h-6"}):null,u=k=>k===1?"from-yellow-400 to-yellow-600":k===2?"from-gray-300 to-gray-500":k===3?"from-orange-400 to-orange-600":"from-corporate-400 to-corporate-600";return l.jsxs(fr,{children:[l.jsx("div",{className:"mb-8 animate-slide-up",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-2",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-500 to-amber-700 rounded-2xl flex items-center justify-center shadow-lg transform hover:scale-110 transition-transform duration-300",children:l.jsx(Ma,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-primary-900 dark:text-white",children:"Leaderboard"}),l.jsx("p",{className:"text-lg text-primary-600 dark:text-primary-400",children:"Top performers and achievers"})]})]}),l.jsx("div",{className:"flex items-center space-x-2 bg-white dark:bg-primary-800 rounded-xl shadow-md border border-gray-200 dark:border-primary-700 p-1.5",children:["all","monthly","weekly"].map(k=>l.jsxs("button",{onClick:()=>o(k),className:`px-5 py-2.5 rounded-lg text-sm font-semibold transition-all duration-300 transform ${a===k?"bg-gradient-to-r from-corporate-600 to-corporate-700 text-white shadow-md scale-105":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-primary-700 hover:scale-105"}`,children:[k.charAt(0).toUpperCase()+k.slice(1)," Time"]},k))})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-slide-up",children:[l.jsx(Ge,{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 border-amber-200 dark:border-amber-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",hover:!0,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-400 mb-2",children:"Your Rank"}),l.jsxs("p",{className:"text-4xl font-bold text-amber-900 dark:text-amber-300",children:["#",t.findIndex(k=>k.id===(e==null?void 0:e.id))+1||"-"]})]}),l.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(Ka,{className:"w-8 h-8 text-white"})})]})}),l.jsx(Ge,{className:"bg-gradient-to-br from-corporate-50 to-corporate-100 dark:from-corporate-900/20 dark:to-corporate-800/20 border-corporate-200 dark:border-corporate-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",hover:!0,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-corporate-700 dark:text-corporate-400 mb-2",children:"Your Points"}),l.jsx("p",{className:"text-4xl font-bold text-corporate-900 dark:text-corporate-300",children:(e==null?void 0:e.points)||0})]}),l.jsx("div",{className:"w-16 h-16 bg-corporate-500 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(ts,{className:"w-8 h-8 text-white"})})]})}),l.jsx(Ge,{className:"bg-gradient-to-br from-accent-50 to-accent-100 dark:from-accent-900/20 dark:to-accent-800/20 border-accent-200 dark:border-accent-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",hover:!0,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-accent-700 dark:text-accent-400 mb-2",children:"Total Players"}),l.jsx("p",{className:"text-4xl font-bold text-accent-900 dark:text-accent-300",children:t.length})]}),l.jsx("div",{className:"w-16 h-16 bg-accent-500 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(Na,{className:"w-8 h-8 text-white"})})]})})]}),t.length>=3&&l.jsx("div",{className:"mb-8 animate-scale-in",children:l.jsx(Ge,{className:"bg-gradient-to-br from-white to-gray-50 dark:from-primary-800 dark:to-primary-900",children:l.jsxs("div",{className:"flex items-end justify-center space-x-4 md:space-x-8 py-8 px-4",children:[l.jsxs("div",{className:"flex flex-col items-center transform hover:scale-105 transition-transform duration-300","data-testid":"rank-2",children:[l.jsxs("div",{className:"relative mb-4 animate-float",style:{animationDelay:"1s"},children:[l.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full flex items-center justify-center text-white font-bold text-2xl md:text-3xl shadow-2xl ring-4 ring-gray-200 dark:ring-gray-700",children:((f=(d=t[1])==null?void 0:d.full_name)==null?void 0:f.charAt(0))||"2"}),l.jsx("div",{className:"absolute -top-2 -right-2 w-9 h-9 bg-white dark:bg-primary-800 rounded-full flex items-center justify-center shadow-xl animate-pulse",children:l.jsx(Ro,{className:"text-gray-500 w-5 h-5"})})]}),l.jsx("p",{className:"font-bold text-gray-800 dark:text-white text-center mb-1 text-sm md:text-base",children:(h=t[1])==null?void 0:h.full_name}),l.jsxs("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 mb-2 font-semibold",children:[(m=t[1])==null?void 0:m.points," points"]}),l.jsx("div",{className:"w-28 md:w-32 h-20 bg-gradient-to-t from-gray-400 to-gray-500 rounded-t-xl flex items-start justify-center pt-3 shadow-lg",children:l.jsx("span",{className:"text-white font-bold text-lg md:text-xl",children:"2nd"})})]}),l.jsxs("div",{className:"flex flex-col items-center -mt-4 md:-mt-6 transform hover:scale-110 transition-transform duration-300","data-testid":"rank-1",children:[l.jsxs("div",{className:"relative mb-4 animate-float",children:[l.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center text-white font-bold text-3xl md:text-4xl shadow-2xl ring-4 md:ring-6 ring-yellow-200 dark:ring-yellow-700 animate-pulse-slow",children:((v=(g=t[0])==null?void 0:g.full_name)==null?void 0:v.charAt(0))||"1"}),l.jsx("div",{className:"absolute -top-3 -right-3 w-12 h-12 bg-white dark:bg-primary-800 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:l.jsx(Ma,{className:"text-yellow-500 w-7 h-7"})})]}),l.jsx("p",{className:"font-bold text-gray-900 dark:text-white text-center mb-1 text-base md:text-xl",children:(y=t[0])==null?void 0:y.full_name}),l.jsxs("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mb-2 font-semibold",children:[(p=t[0])==null?void 0:p.points," points"]}),l.jsx("div",{className:"w-32 md:w-40 h-28 md:h-32 bg-gradient-to-t from-yellow-500 to-yellow-600 rounded-t-xl flex items-start justify-center pt-3 shadow-2xl",children:l.jsx("span",{className:"text-white font-bold text-2xl md:text-3xl",children:"1st"})})]}),l.jsxs("div",{className:"flex flex-col items-center transform hover:scale-105 transition-transform duration-300","data-testid":"rank-3",children:[l.jsxs("div",{className:"relative mb-4 animate-float",style:{animationDelay:"2s"},children:[l.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-2xl md:text-3xl shadow-2xl ring-4 ring-orange-200 dark:ring-orange-700",children:((w=(x=t[2])==null?void 0:x.full_name)==null?void 0:w.charAt(0))||"3"}),l.jsx("div",{className:"absolute -top-2 -right-2 w-9 h-9 bg-white dark:bg-primary-800 rounded-full flex items-center justify-center shadow-xl animate-pulse",children:l.jsx(Ro,{className:"text-orange-500 w-5 h-5"})})]}),l.jsx("p",{className:"font-bold text-gray-800 dark:text-white text-center mb-1 text-sm md:text-base",children:(_=t[2])==null?void 0:_.full_name}),l.jsxs("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 mb-2 font-semibold",children:[(j=t[2])==null?void 0:j.points," points"]}),l.jsx("div",{className:"w-28 md:w-32 h-16 bg-gradient-to-t from-orange-500 to-orange-600 rounded-t-xl flex items-start justify-center pt-3 shadow-lg",children:l.jsx("span",{className:"text-white font-bold text-lg md:text-xl",children:"3rd"})})]})]})})}),l.jsx(Ge,{title:"All Rankings",className:"overflow-hidden animate-slide-up",children:n?l.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading leaderboard..."}):l.jsx("div",{className:"overflow-x-auto scrollbar-thin",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-primary-800 border-b border-gray-200 dark:border-primary-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rank"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Player"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Department"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Level"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Points"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-primary-700",children:t.map((k,P)=>{var A;return l.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-primary-800 transition ${k.id===(e==null?void 0:e.id)?"bg-corporate-50 dark:bg-corporate-900/20 border-l-4 border-corporate-600":""}`,"data-testid":`leaderboard-item-${P}`,children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[c(k.rank),l.jsxs("span",{className:`font-semibold ${k.rank<=3?"text-lg":""} text-gray-900 dark:text-white`,children:["#",k.rank]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${u(k.rank)} rounded-full flex items-center justify-center text-white font-bold`,children:((A=k.full_name)==null?void 0:A.charAt(0))||"U"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[k.full_name,k.id===(e==null?void 0:e.id)&&l.jsx("span",{className:"ml-2 text-xs bg-corporate-600 text-white px-2 py-1 rounded",children:"You"})]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.role})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:k.department||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-corporate-100 text-corporate-800 dark:bg-corporate-900/30 dark:text-corporate-400",children:["Level ",k.level]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:l.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:k.points})})]},k.id)})})]})})})]})}function C$(){const{user:e}=We(),[t,r]=b.useState([]),[n,i]=b.useState("all"),[a,o]=b.useState(!0),[s,c]=b.useState("all");b.useEffect(()=>{u()},[]);const u=async()=>{try{r([{id:"1",name:"First Message",description:"Send your first message",icon:"",points:10,unlocked:!0,category:"Communication",progress:100},{id:"2",name:"Chat Master",description:"Send 100 messages",icon:"",points:50,unlocked:!1,category:"Communication",progress:35},{id:"3",name:"Team Player",description:"Join 5 group chats",icon:"",points:25,unlocked:!0,category:"Collaboration",progress:100},{id:"4",name:"Video Expert",description:"Attend 10 video calls",icon:"",points:40,unlocked:!1,category:"Communication",progress:60},{id:"5",name:"File Sharer",description:"Share 20 files",icon:"",points:30,unlocked:!1,category:"Collaboration",progress:30},{id:"6",name:"Rising Star",description:"Reach level 5",icon:"",points:100,unlocked:!1,category:"Progress",progress:40},{id:"7",name:"Point Collector",description:"Earn 500 points",icon:"",points:50,unlocked:!0,category:"Progress",progress:100},{id:"8",name:"Challenge Accepted",description:"Complete 5 challenges",icon:"",points:60,unlocked:!1,category:"Challenges",progress:20},{id:"9",name:"Early Bird",description:"Login before 8 AM for 7 days",icon:"",points:35,unlocked:!1,category:"Engagement",progress:57},{id:"10",name:"Social Butterfly",description:"Connect with 20 colleagues",icon:"",points:45,unlocked:!1,category:"Collaboration",progress:75}])}catch(g){console.error("Failed to fetch achievements:",g)}finally{o(!1)}},d=t.filter(g=>{const v=n==="all"||n==="unlocked"&&g.unlocked||n==="locked"&&!g.unlocked,y=s==="all"||g.category===s;return v&&y}),f=t.filter(g=>g.unlocked).length,h=t.filter(g=>g.unlocked).reduce((g,v)=>g+v.points,0),m=["all",...new Set(t.map(g=>g.category))];return l.jsxs(fr,{children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl flex items-center justify-center",children:l.jsx(ts,{className:"w-7 h-7 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-primary-900 dark:text-white",children:"Achievements"}),l.jsx("p",{className:"text-primary-600 dark:text-primary-400",children:"Unlock badges and earn rewards"})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs(Ge,{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 border-amber-200 dark:border-amber-700",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-amber-700 dark:text-amber-400 mb-1",children:"Unlocked"}),l.jsxs("p",{className:"text-3xl font-bold text-amber-900 dark:text-amber-300",children:[f,"/",t.length]})]}),l.jsx(Ma,{className:"w-12 h-12 text-amber-500"})]}),l.jsx("div",{className:"mt-3",children:l.jsx("div",{className:"w-full bg-amber-200 dark:bg-amber-800 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 h-2 rounded-full transition-all",style:{width:`${f/t.length*100}%`}})})})]}),l.jsx(Ge,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-1",children:"Total Points"}),l.jsx("p",{className:"text-3xl font-bold text-purple-900 dark:text-purple-300",children:h})]}),l.jsx(Da,{className:"w-12 h-12 text-purple-500"})]})}),l.jsx(Ge,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-1",children:"Completion"}),l.jsxs("p",{className:"text-3xl font-bold text-green-900 dark:text-green-300",children:[Math.round(f/t.length*100),"%"]})]}),l.jsx(Ka,{className:"w-12 h-12 text-green-500"})]})})]}),l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[l.jsx(Ge,{className:"flex-1",children:l.jsx("div",{className:"flex space-x-2",children:["all","unlocked","locked"].map(g=>l.jsxs("button",{onClick:()=>i(g),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition ${n===g?"bg-purple-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-primary-700"}`,"data-testid":`filter-${g}`,children:[g==="all"&&`All (${t.length})`,g==="unlocked"&&l.jsxs("span",{className:"flex items-center justify-center space-x-1",children:[l.jsx(Ew,{className:"w-4 h-4"}),l.jsxs("span",{children:["Unlocked (",f,")"]})]}),g==="locked"&&l.jsxs("span",{className:"flex items-center justify-center space-x-1",children:[l.jsx($d,{className:"w-4 h-4"}),l.jsxs("span",{children:["Locked (",t.length-f,")"]})]})]},g))})}),l.jsx(Ge,{className:"flex-1",children:l.jsx("select",{value:s,onChange:g=>c(g.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-primary-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-primary-700 dark:text-white",children:m.map(g=>l.jsx("option",{value:g,children:g==="all"?"All Categories":g},g))})})]}),a?l.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading achievements..."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(g=>l.jsx(Ge,{className:`transition-all hover:shadow-lg hover:-translate-y-1 ${g.unlocked?"":"opacity-75"}`,"data-testid":`achievement-${g.id}`,children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`text-5xl flex-shrink-0 ${g.unlocked?"":"grayscale opacity-50"}`,children:g.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:g.name}),g.unlocked?l.jsx(Ew,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):l.jsx($d,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:g.description}),!g.unlocked&&l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400 mb-1",children:[l.jsx("span",{children:"Progress"}),l.jsxs("span",{children:[g.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-primary-700 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full transition-all",style:{width:`${g.progress}%`}})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(rs,{variant:g.unlocked?"success":"secondary",size:"sm",children:g.category}),l.jsxs("span",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:["+",g.points," pts"]})]})]})]})},g.id))}),d.length===0&&!a&&l.jsxs(Ge,{className:"text-center py-12",children:[l.jsx(ts,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No achievements found"})]})]})}function O$(){const{user:e}=We(),[t,r]=b.useState([]),[n,i]=b.useState("active"),[a,o]=b.useState(!0);b.useEffect(()=>{s()},[]);const s=async()=>{try{r([{id:"1",title:"Communication Champion",description:"Send 50 messages this week",reward:100,progress:35,goal:50,deadline:"2025-08-25",difficulty:"Medium",category:"Communication",completed:!1},{id:"2",title:"Meeting Master",description:"Attend 5 video meetings",reward:75,progress:5,goal:5,deadline:"2025-08-22",difficulty:"Easy",category:"Collaboration",completed:!0},{id:"3",title:"File Sharing Pro",description:"Share 10 useful files with your team",reward:80,progress:6,goal:10,deadline:"2025-08-26",difficulty:"Medium",category:"Collaboration",completed:!1},{id:"4",title:"Early Bird Special",description:"Login before 8 AM for 5 consecutive days",reward:120,progress:3,goal:5,deadline:"2025-08-24",difficulty:"Hard",category:"Engagement",completed:!1},{id:"5",title:"Social Butterfly",description:"Start conversations with 10 different colleagues",reward:90,progress:7,goal:10,deadline:"2025-08-28",difficulty:"Medium",category:"Networking",completed:!1},{id:"6",title:"Team Builder",description:"Create 3 group chats for projects",reward:60,progress:3,goal:3,deadline:"2025-08-21",difficulty:"Easy",category:"Leadership",completed:!0}])}catch(g){console.error("Failed to fetch challenges:",g)}finally{o(!1)}},c=t.filter(g=>n==="completed"?g.completed:n==="active"?!g.completed:!0),u=g=>{switch(g){case"Easy":return"success";case"Medium":return"warning";case"Hard":return"danger";default:return"secondary"}},d=g=>{const v=new Date,y=new Date(g);return Math.ceil((y-v)/(1e3*60*60*24))},f=t.filter(g=>g.completed).length,h=t.filter(g=>g.completed).reduce((g,v)=>g+v.reward,0),m=t.length-f;return l.jsxs(fr,{children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-700 rounded-xl flex items-center justify-center",children:l.jsx(Ka,{className:"w-7 h-7 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-primary-900 dark:text-white",children:"Challenges"}),l.jsx("p",{className:"text-primary-600 dark:text-primary-400",children:"Complete tasks and earn rewards"})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx(Ge,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-1",children:"Completed"}),l.jsxs("p",{className:"text-3xl font-bold text-green-900 dark:text-green-300",children:[f,"/",t.length]})]}),l.jsx(Uo,{className:"w-12 h-12 text-green-500"})]})}),l.jsx(Ge,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-orange-200 dark:border-orange-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-orange-700 dark:text-orange-400 mb-1",children:"Rewards Earned"}),l.jsx("p",{className:"text-3xl font-bold text-orange-900 dark:text-orange-300",children:h})]}),l.jsx(ts,{className:"w-12 h-12 text-orange-500"})]})}),l.jsx(Ge,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-1",children:"Active"}),l.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-300",children:m})]}),l.jsx(lg,{className:"w-12 h-12 text-blue-500"})]})})]}),l.jsx(Ge,{className:"mb-6",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>i("active"),className:`flex-1 px-6 py-3 rounded-lg text-sm font-medium transition ${n==="active"?"bg-green-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-primary-700"}`,"data-testid":"filter-active",children:l.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[l.jsx(lg,{className:"w-4 h-4"}),l.jsxs("span",{children:["Active (",m,")"]})]})}),l.jsx("button",{onClick:()=>i("completed"),className:`flex-1 px-6 py-3 rounded-lg text-sm font-medium transition ${n==="completed"?"bg-green-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-primary-700"}`,"data-testid":"filter-completed",children:l.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[l.jsx(Uo,{className:"w-4 h-4"}),l.jsxs("span",{children:["Completed (",f,")"]})]})})]})}),a?l.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading challenges..."}):l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(g=>l.jsx(Ge,{className:"hover:shadow-lg transition-shadow","data-testid":`challenge-${g.id}`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:g.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.description})]}),g.completed&&l.jsx(Uo,{className:"w-6 h-6 text-green-500 flex-shrink-0 ml-4"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),l.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[g.progress,"/",g.goal]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-primary-700 rounded-full h-3",children:l.jsx("div",{className:`h-3 rounded-full transition-all ${g.completed?"bg-gradient-to-r from-green-400 to-green-600":"bg-gradient-to-r from-blue-400 to-blue-600"}`,style:{width:`${g.progress/g.goal*100}%`}})})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 pt-3 border-t border-gray-200 dark:border-primary-700",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(rs,{variant:u(g.difficulty),size:"sm",children:g.difficulty}),l.jsx(rs,{variant:"primary",size:"sm",children:g.category})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[!g.completed&&l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center space-x-1",children:[l.jsx(gN,{className:"w-4 h-4"}),l.jsxs("span",{children:[d(g.deadline),"d left"]})]}),l.jsxs("span",{className:"text-lg font-bold text-green-600 dark:text-green-400 flex items-center space-x-1",children:[l.jsx(kl,{className:"w-5 h-5"}),l.jsxs("span",{children:["+",g.reward]})]})]})]})]})},g.id))}),c.length===0&&!a&&l.jsxs(Ge,{className:"text-center py-12",children:[l.jsx(Ka,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["No ",n," challenges found"]})]})]})}function P$(){const{user:e}=We(),[t,r]=b.useState([]),[n,i]=b.useState(null),[a,o]=b.useState(!1),[s,c]=b.useState(!0),[u,d]=b.useState("all");b.useEffect(()=>{f()},[]);const f=async()=>{try{r([{id:"1",name:"Coffee Voucher",description:"Enjoy a free coffee from the office cafe",cost:50,icon:"",category:"Food & Drink",available:!0,stock:25},{id:"2",name:"Extra Day Off",description:"Get an additional day off to recharge",cost:500,icon:"",category:"Time Off",available:!0,stock:10},{id:"3",name:"Gift Card $25",description:"Amazon gift card worth $25",cost:250,icon:"",category:"Gift Cards",available:!0,stock:50},{id:"4",name:"Premium Parking Spot",description:"Reserved parking spot for one month",cost:150,icon:"",category:"Perks",available:!0,stock:5},{id:"5",name:"Lunch with CEO",description:"Exclusive lunch meeting with the CEO",cost:1e3,icon:"",category:"Experiences",available:!0,stock:2},{id:"6",name:"Tech Gadget",description:"Choose from a selection of tech accessories",cost:400,icon:"",category:"Electronics",available:!0,stock:15},{id:"7",name:"Gym Membership",description:"3-month premium gym membership",cost:300,icon:"",category:"Health & Fitness",available:!0,stock:20},{id:"8",name:"Learning Course",description:"Any online course of your choice",cost:200,icon:"",category:"Education",available:!0,stock:100},{id:"9",name:"Team Dinner",description:"Dinner for you and 5 team members",cost:350,icon:"",category:"Food & Drink",available:!0,stock:8},{id:"10",name:"Gift Card $50",description:"Amazon gift card worth $50",cost:450,icon:"",category:"Gift Cards",available:!0,stock:30}])}catch(p){console.error("Failed to fetch rewards:",p)}finally{c(!1)}},h=p=>{i(p),o(!0)},m=()=>{console.log("Redeeming reward:",n),o(!1),i(null),alert("Reward redeemed successfully!")},g=p=>(e==null?void 0:e.points)>=p,v=["all",...new Set(t.map(p=>p.category))],y=t.filter(p=>u==="all"||p.category===u);return l.jsxs(fr,{children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-pink-700 rounded-xl flex items-center justify-center",children:l.jsx(Gl,{className:"w-7 h-7 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-primary-900 dark:text-white",children:"Rewards Store"}),l.jsx("p",{className:"text-primary-600 dark:text-primary-400",children:"Redeem your points for amazing rewards"})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-amber-600 rounded-xl shadow-lg px-6 py-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Da,{className:"w-8 h-8 text-white"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-amber-100 font-medium",children:"Your Points"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:(e==null?void 0:e.points)||0})]})]})})]})}),l.jsx(Ge,{className:"mb-8 bg-gradient-to-r from-pink-500 to-purple-600 border-none text-white",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-2",children:" Redeem Your Points"}),l.jsx("p",{className:"text-pink-100",children:"Exchange your hard-earned points for amazing rewards. Keep earning to unlock premium items!"})]}),l.jsx(Gl,{className:"w-12 h-12 text-pink-200 flex-shrink-0"})]})}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(p=>l.jsx("button",{onClick:()=>d(p),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${u===p?"bg-pink-600 text-white shadow-md":"bg-white dark:bg-primary-800 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-primary-700 border border-gray-200 dark:border-primary-700"}`,children:p==="all"?"All Rewards":p},p))})}),s?l.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading rewards..."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(p=>{const x=g(p.cost);return l.jsxs(Ge,{className:`transition-all hover:shadow-lg hover:-translate-y-1 ${x?"":"opacity-75"}`,"data-testid":`reward-${p.id}`,children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-6xl mb-4",children:p.icon}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:p.name}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:p.description})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-primary-700 pt-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:p.stock>0?`${p.stock} in stock`:"Out of stock"}),l.jsxs("div",{className:"flex items-center space-x-1 text-lg font-bold text-pink-600 dark:text-pink-400",children:[l.jsx(Da,{className:"w-5 h-5"}),l.jsx("span",{children:p.cost})]})]}),l.jsx("div",{children:l.jsx(rs,{variant:"secondary",size:"sm",children:p.category})}),l.jsx("button",{onClick:()=>h(p),disabled:!x||!p.available||p.stock===0,className:`w-full py-3 rounded-lg font-semibold transition ${x&&p.available&&p.stock>0?"bg-gradient-to-r from-pink-500 to-purple-600 text-white hover:from-pink-600 hover:to-purple-700 shadow-md hover:shadow-lg":"bg-gray-200 dark:bg-primary-700 text-gray-500 dark:text-gray-500 cursor-not-allowed"}`,"data-testid":`redeem-button-${p.id}`,children:p.stock===0?l.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[l.jsx(Dd,{className:"w-4 h-4"}),l.jsx("span",{children:"Out of Stock"})]}):x?l.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[l.jsx(ED,{className:"w-4 h-4"}),l.jsx("span",{children:"Redeem Now"})]}):l.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[l.jsx(Dd,{className:"w-4 h-4"}),l.jsxs("span",{children:["Need ",p.cost-((e==null?void 0:e.points)||0)," more points"]})]})})]})]},p.id)})}),l.jsx(Ge,{title:"How to Earn More Points",className:"mt-12",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Send Messages"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+5 points per message"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Video Calls"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+20 points per call"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Complete Challenges"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Up to +500 points"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Unlock Achievements"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bonus points"})]})]})}),a&&n&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50","data-testid":"redeem-modal",children:l.jsx("div",{className:"bg-white dark:bg-primary-800 rounded-xl shadow-2xl max-w-md w-full mx-4 p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-7xl mb-4",children:n.icon}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Confirm Redemption"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Are you sure you want to redeem:"}),l.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:n.name}),l.jsxs("div",{className:"bg-gray-50 dark:bg-primary-900 rounded-lg p-4 mb-6 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cost:"}),l.jsxs("span",{className:"text-xl font-bold text-pink-600 dark:text-pink-400 flex items-center space-x-1",children:[l.jsx(Da,{}),l.jsx("span",{children:n.cost})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Balance after:"}),l.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:((e==null?void 0:e.points)||0)-n.cost})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{onClick:m,className:"flex-1 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg font-semibold hover:from-pink-600 hover:to-purple-700 transition flex items-center justify-center space-x-2","data-testid":"confirm-redeem-button",children:[l.jsx(Uo,{}),l.jsx("span",{children:"Confirm"})]}),l.jsx("button",{onClick:()=>{o(!1),i(null)},className:"flex-1 px-6 py-3 bg-gray-200 dark:bg-primary-700 text-gray-800 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-primary-600 transition","data-testid":"cancel-redeem-button",children:"Cancel"})]})]})})})]})}function nk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=nk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ae(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=nk(e))&&(n&&(n+=" "),n+=t);return n}const T$=Object.freeze(Object.defineProperty({__proto__:null,clsx:Ae,default:Ae},Symbol.toStringTag,{value:"Module"}));function A$(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}A$(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var jc=e=>typeof e=="number"&&!isNaN(e),Xa=e=>typeof e=="string",fi=e=>typeof e=="function",R$=e=>Xa(e)||jc(e),ug=e=>Xa(e)||fi(e)?e:null,D$=(e,t)=>e===!1||jc(e)&&e>0?e:t,dg=e=>b.isValidElement(e)||Xa(e)||fi(e)||jc(e);function M$(e,t,r=300){let{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function $$({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:s,done:c,nodeRef:u,isIn:d,playToast:f}){let h=r?`${e}--${o}`:e,m=r?`${t}--${o}`:t,g=b.useRef(0);return b.useLayoutEffect(()=>{let v=u.current,y=h.split(" "),p=x=>{x.target===u.current&&(f(),v.removeEventListener("animationend",p),v.removeEventListener("animationcancel",p),g.current===0&&x.type!=="animationcancel"&&v.classList.remove(...y))};v.classList.add(...y),v.addEventListener("animationend",p),v.addEventListener("animationcancel",p)},[]),b.useEffect(()=>{let v=u.current,y=()=>{v.removeEventListener("animationend",y),n?M$(v,c,i):c()};d||(s?y():(g.current=1,v.className+=` ${m}`,v.addEventListener("animationend",y)))},[d]),Te.createElement(Te.Fragment,null,a)}}function t2(e,t){return{content:ik(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function ik(e,t,r=!1){return b.isValidElement(e)&&!Xa(e.type)?b.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):fi(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function L$({closeToast:e,theme:t,ariaLabel:r="close"}){return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function I$({delay:e,isRunning:t,closeToast:r,type:n="default",hide:i,className:a,controlledProgress:o,progress:s,rtl:c,isIn:u,theme:d}){let f=i||o&&s===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${s})`);let m=Ae("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),g=fi(a)?a({rtl:c,type:n,defaultClassName:m}):Ae(m,a),v={[o&&s>=1?"onTransitionEnd":"onAnimationEnd"]:o&&s<1?null:()=>{u&&r()}};return Te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),Te.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:h,...v}))}var B$=1,ak=()=>`${B$++}`;function F$(e,t,r){let n=1,i=0,a=[],o=[],s=t,c=new Map,u=new Set,d=x=>(u.add(x),()=>u.delete(x)),f=()=>{o=Array.from(c.values()),u.forEach(x=>x())},h=({containerId:x,toastId:w,updateId:_})=>{let j=x?x!==e:e!==1,k=c.has(w)&&_==null;return j||k},m=(x,w)=>{c.forEach(_=>{var j;(w==null||w===_.props.toastId)&&((j=_.toggle)==null||j.call(_,x))})},g=x=>{var w,_;(_=(w=x.props)==null?void 0:w.onClose)==null||_.call(w,x.removalReason),x.isActive=!1},v=x=>{if(x==null)c.forEach(g);else{let w=c.get(x);w&&g(w)}f()},y=()=>{i-=a.length,a=[]},p=x=>{var w,_;let{toastId:j,updateId:k}=x.props,P=k==null;x.staleId&&c.delete(x.staleId),x.isActive=!0,c.set(j,x),f(),r(t2(x,P?"added":"updated")),P&&((_=(w=x.props).onOpen)==null||_.call(w))};return{id:e,props:s,observe:d,toggle:m,removeToast:v,toasts:c,clearQueue:y,buildToast:(x,w)=>{if(h(w))return;let{toastId:_,updateId:j,data:k,staleId:P,delay:A}=w,M=j==null;M&&i++;let R={...s,style:s.toastStyle,key:n++,...Object.fromEntries(Object.entries(w).filter(([U,X])=>X!=null)),toastId:_,updateId:j,data:k,isIn:!1,className:ug(w.className||s.toastClassName),progressClassName:ug(w.progressClassName||s.progressClassName),autoClose:w.isLoading?!1:D$(w.autoClose,s.autoClose),closeToast(U){c.get(_).removalReason=U,v(_)},deleteToast(){let U=c.get(_);if(U!=null){if(r(t2(U,"removed")),c.delete(_),i--,i<0&&(i=0),a.length>0){p(a.shift());return}f()}}};R.closeButton=s.closeButton,w.closeButton===!1||dg(w.closeButton)?R.closeButton=w.closeButton:w.closeButton===!0&&(R.closeButton=dg(s.closeButton)?s.closeButton:!0);let L={content:x,props:R,staleId:P};s.limit&&s.limit>0&&i>s.limit&&M?a.push(L):jc(A)?setTimeout(()=>{p(L)},A):p(L)},setProps(x){s=x},setToggle:(x,w)=>{let _=c.get(x);_&&(_.toggle=w)},isToastActive:x=>{var w;return(w=c.get(x))==null?void 0:w.isActive},getSnapshot:()=>o}}var lr=new Map,Zl=[],fg=new Set,z$=e=>fg.forEach(t=>t(e)),ok=()=>lr.size>0;function U$(){Zl.forEach(e=>lk(e.content,e.options)),Zl=[]}var W$=(e,{containerId:t})=>{var r;return(r=lr.get(t||1))==null?void 0:r.toasts.get(e)};function sk(e,t){var r;if(t)return!!((r=lr.get(t))!=null&&r.isToastActive(e));let n=!1;return lr.forEach(i=>{i.isToastActive(e)&&(n=!0)}),n}function H$(e){if(!ok()){Zl=Zl.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||R$(e))lr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=lr.get(e.containerId);t?t.removeToast(e.id):lr.forEach(r=>{r.removeToast(e.id)})}}var q$=(e={})=>{lr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function lk(e,t){dg(e)&&(ok()||Zl.push({content:e,options:t}),lr.forEach(r=>{r.buildToast(e,t)}))}function V$(e){var t;(t=lr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function ck(e,t){lr.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function K$(e){let t=e.containerId||1;return{subscribe(r){let n=F$(t,e,z$);lr.set(t,n);let i=n.observe(r);return U$(),()=>{i(),lr.delete(t)}},setProps(r){var n;(n=lr.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=lr.get(t))==null?void 0:r.getSnapshot()}}}function Y$(e){return fg.add(e),()=>{fg.delete(e)}}function G$(e){return e&&(Xa(e.toastId)||jc(e.toastId))?e.toastId:ak()}function Sc(e,t){return lk(e,t),t.toastId}function sh(e,t){return{...t,type:t&&t.type||e,toastId:G$(t)}}function lh(e){return(t,r)=>Sc(t,sh(e,r))}function xe(e,t){return Sc(e,sh("default",t))}xe.loading=(e,t)=>Sc(e,sh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function X$(e,{pending:t,error:r,success:n},i){let a;t&&(a=Xa(t)?xe.loading(t,i):xe.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(u,d,f)=>{if(d==null){xe.dismiss(a);return}let h={type:u,...o,...i,data:f},m=Xa(d)?{render:d}:d;return a?xe.update(a,{...h,...m}):xe(m.render,{...h,...m}),f},c=fi(e)?e():e;return c.then(u=>s("success",n,u)).catch(u=>s("error",r,u)),c}xe.promise=X$;xe.success=lh("success");xe.info=lh("info");xe.error=lh("error");xe.warning=lh("warning");xe.warn=xe.warning;xe.dark=(e,t)=>Sc(e,sh("default",{theme:"dark",...t}));function Q$(e){H$(e)}xe.dismiss=Q$;xe.clearWaitingQueue=q$;xe.isActive=sk;xe.update=(e,t={})=>{let r=W$(e,t);if(r){let{props:n,content:i}=r,a={delay:100,...n,...t,toastId:t.toastId||e,updateId:ak()};a.toastId!==e&&(a.staleId=e);let o=a.render||i;delete a.render,Sc(o,a)}};xe.done=e=>{xe.update(e,{progress:1})};xe.onChange=Y$;xe.play=e=>ck(!0,e);xe.pause=e=>ck(!1,e);function J$(e){var t;let{subscribe:r,getSnapshot:n,setProps:i}=b.useRef(K$(e)).current;i(e);let a=(t=b.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(s){if(!a)return[];let c=new Map;return e.newestOnTop&&a.reverse(),a.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>s(u[0],u[1]))}return{getToastToRender:o,isToastActive:sk,count:a==null?void 0:a.length}}function Z$(e){let[t,r]=b.useState(!1),[n,i]=b.useState(!1),a=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=e;V$({id:e.toastId,containerId:e.containerId,fn:r}),b.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{m()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||p(),window.addEventListener("focus",y),window.addEventListener("blur",p)}function m(){window.removeEventListener("focus",y),window.removeEventListener("blur",p)}function g(P){if(e.draggable===!0||e.draggable===P.pointerType){x();let A=a.current;o.canCloseOnClick=!0,o.canDrag=!0,A.style.transition="none",e.draggableDirection==="x"?(o.start=P.clientX,o.removalDistance=A.offsetWidth*(e.draggablePercent/100)):(o.start=P.clientY,o.removalDistance=A.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function v(P){let{top:A,bottom:M,left:R,right:L}=a.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&e.pauseOnHover&&P.clientX>=R&&P.clientX<=L&&P.clientY>=A&&P.clientY<=M?p():y()}function y(){r(!0)}function p(){r(!1)}function x(){o.didMove=!1,document.addEventListener("pointermove",_),document.addEventListener("pointerup",j)}function w(){document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",j)}function _(P){let A=a.current;if(o.canDrag&&A){o.didMove=!0,t&&p(),e.draggableDirection==="x"?o.delta=P.clientX-o.start:o.delta=P.clientY-o.start,o.start!==P.clientX&&(o.canCloseOnClick=!1);let M=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;A.style.transform=`translate3d(${M},0)`,A.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function j(){w();let P=a.current;if(o.canDrag&&o.didMove&&P){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let k={onPointerDown:g,onPointerUp:v};return s&&c&&(k.onMouseEnter=p,e.stacked||(k.onMouseLeave=y)),f&&(k.onClick=P=>{d&&d(P),o.canCloseOnClick&&u(!0)}),{playToast:y,pauseToast:p,isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:k}}var e9=typeof window<"u"?b.useLayoutEffect:b.useEffect,ch=({theme:e,type:t,isLoading:r,...n})=>Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function t9(e){return Te.createElement(ch,{...e},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function r9(e){return Te.createElement(ch,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function n9(e){return Te.createElement(ch,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function i9(e){return Te.createElement(ch,{...e},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function a9(){return Te.createElement("div",{className:"Toastify__spinner"})}var hg={info:r9,warning:t9,success:n9,error:i9,spinner:a9},o9=e=>e in hg;function s9({theme:e,type:t,isLoading:r,icon:n}){let i=null,a={theme:e,type:t};return n===!1||(fi(n)?i=n({...a,isLoading:r}):b.isValidElement(n)?i=b.cloneElement(n,a):r?i=hg.spinner():o9(t)&&(i=hg[t](a))),i}var l9=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:a}=Z$(e),{closeButton:o,children:s,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:h,transition:m,position:g,className:v,style:y,progressClassName:p,updateId:x,role:w,progress:_,rtl:j,toastId:k,deleteToast:P,isIn:A,isLoading:M,closeOnClick:R,theme:L,ariaLabel:U}=e,X=Ae("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":R}),J=fi(v)?v({rtl:j,position:g,type:d,defaultClassName:X}):Ae(X,v),le=s9(e),Y=!!_||!c,Q={closeToast:h,type:d,theme:L},q=null;return o===!1||(fi(o)?q=o(Q):b.isValidElement(o)?q=b.cloneElement(o,Q):q=L$(Q)),Te.createElement(m,{isIn:A,done:P,position:g,preventExitTransition:r,nodeRef:n,playToast:a},Te.createElement("div",{id:k,tabIndex:0,onClick:u,"data-in":A,className:J,...i,style:y,ref:n,...A&&{role:w,"aria-label":U}},le!=null&&Te.createElement("div",{className:Ae("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},le),ik(s,e,!t),q,!e.customProgressBar&&Te.createElement(I$,{...x&&!Y?{key:`p-${x}`}:{},rtl:j,theme:L,delay:c,isRunning:t,isIn:A,closeToast:h,hide:f,type:d,className:p,controlledProgress:Y,progress:_||0})))},c9=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),u9=$$(c9("bounce",!0)),d9={position:"top-right",transition:u9,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function f9(e){let t={...d9,...e},r=e.stacked,[n,i]=b.useState(!0),a=b.useRef(null),{getToastToRender:o,isToastActive:s,count:c}=J$(t),{className:u,style:d,rtl:f,containerId:h,hotKeys:m}=t;function g(y){let p=Ae("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":f});return fi(u)?u({position:y,rtl:f,defaultClassName:p}):Ae(p,ug(u))}function v(){r&&(i(!0),xe.play())}return e9(()=>{var y;if(r){let p=a.current.querySelectorAll('[data-in="true"]'),x=12,w=(y=t.position)==null?void 0:y.includes("top"),_=0,j=0;Array.from(p).reverse().forEach((k,P)=>{let A=k;A.classList.add("Toastify__toast--stacked"),P>0&&(A.dataset.collapsed=`${n}`),A.dataset.pos||(A.dataset.pos=w?"top":"bot");let M=_*(n?.2:1)+(n?0:x*P);A.style.setProperty("--y",`${w?M:M*-1}px`),A.style.setProperty("--g",`${x}`),A.style.setProperty("--s",`${1-(n?j:0)}`),_+=A.offsetHeight,j+=.025})}},[n,c,r]),b.useEffect(()=>{function y(p){var x;let w=a.current;m(p)&&((x=w.querySelector('[tabIndex="0"]'))==null||x.focus(),i(!1),xe.pause()),p.key==="Escape"&&(document.activeElement===w||w!=null&&w.contains(document.activeElement))&&(i(!0),xe.play())}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[m]),Te.createElement("section",{ref:a,className:"Toastify",id:h,onMouseEnter:()=>{r&&(i(!1),xe.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((y,p)=>{let x=p.length?{...d}:{...d,pointerEvents:"none"};return Te.createElement("div",{tabIndex:-1,className:g(y),"data-stacked":r,style:x,key:`c-${y}`},p.map(({content:w,props:_})=>Te.createElement(l9,{..._,stacked:r,collapseAll:v,isIn:s(_.toastId,_.containerId),key:`t-${_.key}`},w)))}))}function h9(){const{user:e}=We(),{darkMode:t}=bt(),r=Rt(),[n,i]=b.useState([]),[a,o]=b.useState(null),[s,c]=b.useState(!0),[u,d]=b.useState(null),[f,h]=b.useState("users");b.useEffect(()=>{m(),g()},[]);const m=async()=>{try{const p=await ue.get("/admin/users");i(p.data)}catch(p){console.error("Failed to fetch users:",p),xe.error("Failed to fetch users")}finally{c(!1)}},g=async()=>{try{const p=await ue.get("/admin/analytics");o(p.data)}catch(p){console.error("Failed to fetch analytics:",p)}},v=async(p,x)=>{try{await ue.put(`/admin/users/${p}`,x),xe.success("User updated successfully"),m(),d(null)}catch(w){console.error("Failed to update user:",w),xe.error("Failed to update user")}},y=async p=>{if(window.confirm("Are you sure you want to delete this user?"))try{await ue.delete(`/admin/users/${p}`),xe.success("User deleted successfully"),m()}catch(x){console.error("Failed to delete user:",x),xe.error("Failed to delete user")}};return l.jsxs(fr,{children:[l.jsx(f9,{position:"top-right",autoClose:3e3}),l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx(Ga,{className:`text-3xl ${t?"text-blue-400":"text-blue-500"}`}),l.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-800"}`,children:"Admin Panel"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>h("users"),className:`px-4 py-2 rounded-lg transition ${f==="users"?"bg-blue-500 text-white":t?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-800"}`,"data-testid":"users-view-button",children:"Users"}),l.jsx("button",{onClick:()=>h("analytics"),className:`px-4 py-2 rounded-lg transition ${f==="analytics"?"bg-blue-500 text-white":t?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-800"}`,"data-testid":"analytics-view-button",children:"Analytics"}),l.jsxs("button",{onClick:()=>r("/admin/integrations"),className:`px-4 py-2 rounded-lg transition flex items-center space-x-2 ${t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,"data-testid":"integrations-button",children:[l.jsx(Cv,{}),l.jsx("span",{children:"Integrations"})]})]})]})}),l.jsxs("div",{children:[f==="analytics"&&a&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:`text-2xl font-bold mb-6 ${t?"text-white":"text-gray-800"}`,children:"System Analytics"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 border-l-4 border-blue-500`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"} text-sm font-medium`,children:"Total Users"}),l.jsx("p",{className:`text-3xl font-bold mt-1 ${t?"text-white":"text-gray-800"}`,children:a.total_users})]}),l.jsx(Ga,{className:`text-2xl ${t?"text-blue-400":"text-blue-600"}`})]})}),l.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 border-l-4 border-green-500`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"} text-sm font-medium`,children:"Online Users"}),l.jsx("p",{className:`text-3xl font-bold mt-1 ${t?"text-white":"text-gray-800"}`,children:a.online_users})]}),l.jsx(WN,{className:`text-2xl ${t?"text-green-400":"text-green-600"}`})]})}),l.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 border-l-4 border-purple-500`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"} text-sm font-medium`,children:"Total Messages"}),l.jsx("p",{className:`text-3xl font-bold mt-1 ${t?"text-white":"text-gray-800"}`,children:a.total_messages})]}),l.jsx(_n,{className:`text-2xl ${t?"text-purple-400":"text-purple-600"}`})]})}),l.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 border-l-4 border-yellow-500`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"} text-sm font-medium`,children:"Total Points"}),l.jsx("p",{className:`text-3xl font-bold mt-1 ${t?"text-white":"text-gray-800"}`,children:a.total_points})]}),l.jsx(Ro,{className:`text-2xl ${t?"text-yellow-400":"text-yellow-600"}`})]})})]}),l.jsxs("div",{className:`mt-6 ${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6`,children:[l.jsx("h3",{className:`text-xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Top Users"}),l.jsx("div",{className:"space-y-3",children:a.top_users.map((p,x)=>l.jsxs("div",{className:`flex items-center justify-between p-3 ${t?"bg-gray-700":"bg-gray-50"} rounded-lg`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:`font-bold ${t?"text-gray-300":"text-gray-600"}`,children:["#",x+1]}),l.jsx("span",{className:t?"text-white":"text-gray-800",children:p.full_name})]}),l.jsxs("span",{className:`font-bold ${t?"text-blue-400":"text-blue-600"}`,children:[p.points," pts"]})]},p.id))})]})]}),f==="users"&&l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-800"}`,children:"User Management"})}),s?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"Loading users..."})}):l.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg overflow-hidden`,children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:t?"bg-gray-700":"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${t?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"User"}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${t?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Email"}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${t?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Role"}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${t?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Status"}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${t?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Points"}),l.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${t?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Actions"})]})}),l.jsx("tbody",{className:`${t?"bg-gray-800":"bg-white"} divide-y ${t?"divide-gray-700":"divide-gray-200"}`,children:n.map(p=>{var x;return l.jsxs("tr",{"data-testid":`user-row-${p.id}`,children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:(x=p.full_name)==null?void 0:x.charAt(0)}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:p.full_name}),l.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:["@",p.username]})]})]})}),l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${t?"text-gray-300":"text-gray-500"}`,children:p.email}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-800"}`,children:p.role})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${p.status==="online"?t?"bg-green-900 text-green-200":"bg-green-100 text-green-800":t?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:p.status})}),l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:p.points}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[l.jsx("button",{onClick:()=>d(p),className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-900"}`,"data-testid":`edit-user-${p.id}`,children:l.jsx(qN,{className:"inline"})}),l.jsx("button",{onClick:()=>y(p.id),className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-900"}`,"data-testid":`delete-user-${p.id}`,children:l.jsx(ZN,{className:"inline"})})]})]},p.id)})})]})})})]})]}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50","data-testid":"edit-user-modal",children:l.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-md w-full mx-4 p-6`,children:[l.jsx("h2",{className:`text-2xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Edit User"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Full Name"}),l.jsx("input",{type:"text",value:u.full_name,onChange:p=>d({...u,full_name:p.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Role"}),l.jsxs("select",{value:u.role,onChange:p=>d({...u,role:p.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"}`,children:[l.jsx("option",{value:"employee",children:"Employee"}),l.jsx("option",{value:"team_lead",children:"Team Lead"}),l.jsx("option",{value:"manager",children:"Manager"}),l.jsx("option",{value:"department_head",children:"Department Head"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Points"}),l.jsx("input",{type:"number",value:u.points,onChange:p=>d({...u,points:parseInt(p.target.value)}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"}`})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 mt-6",children:[l.jsx("button",{onClick:()=>v(u.id,u),className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition","data-testid":"save-user-button",children:"Save Changes"}),l.jsx("button",{onClick:()=>d(null),className:`flex-1 px-4 py-2 rounded-lg transition ${t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,"data-testid":"cancel-edit-button",children:"Cancel"})]})]})})]})}function p9(){const{user:e}=We(),{darkMode:t}=bt(),r=Rt(),[n,i]=b.useState([]),[a,o]=b.useState(!0),[s,c]=b.useState({}),[u,d]=b.useState({}),[f,h]=b.useState({});b.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}m()},[e,r]);const m=async()=>{try{const _=await ue.get("/admin/integrations");i(_.data)}catch(_){console.error("Failed to fetch integrations:",_),xe.error("Failed to load integrations")}finally{o(!1)}},g=_=>{d(j=>({...j,[_]:!j[_]}))},v=(_,j)=>{h(k=>({...k,[_]:j}))},y=async _=>{c(j=>({...j,[_.name]:!0}));try{const j={api_key:f[_.name]||_.api_key,enabled:_.enabled};await ue.put(`/admin/integrations/${_.name}`,j),xe.success(`${_.display_name} updated successfully!`),h(k=>{const P={...k};return delete P[_.name],P}),await m()}catch(j){console.error("Failed to update integration:",j),xe.error(`Failed to update ${_.display_name}`)}finally{c(j=>({...j,[_.name]:!1}))}},p=async _=>{try{await ue.put(`/admin/integrations/${_.name}`,{enabled:!_.enabled}),xe.success(`${_.display_name} ${_.enabled?"disabled":"enabled"}`),await m()}catch(j){console.error("Failed to toggle integration:",j),xe.error("Failed to update integration")}},x=_=>{switch(_){case"giphy":return"";default:return""}},w=_=>{switch(_){case"giphy":return l.jsxs("div",{className:`text-sm ${t?"text-gray-400":"text-gray-600"} mt-2`,children:[l.jsx("p",{className:"mb-1",children:"To get a GIPHY API key:"}),l.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[l.jsxs("li",{children:["Visit ",l.jsx("a",{href:"https://developers.giphy.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"developers.giphy.com"})]}),l.jsx("li",{children:"Create a free account or log in"}),l.jsx("li",{children:'Create a new app and select "API" type'}),l.jsx("li",{children:"Copy your API key and paste it above"})]})]});default:return null}};return a?l.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-gray-100"} flex items-center justify-center`,children:l.jsx("div",{className:`text-xl ${t?"text-white":"text-gray-800"}`,children:"Loading..."})}):l.jsxs(fr,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx(Cv,{className:`text-3xl ${t?"text-blue-400":"text-blue-500"}`}),l.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-800"}`,children:"Integration Settings"})]}),l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Configure third-party integrations"})]}),l.jsxs("div",{className:"max-w-4xl",children:[l.jsx("div",{className:"space-y-6",children:n.map(_=>l.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-md p-6`,"data-testid":`integration-${_.name}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"text-4xl",children:x(_.name)}),l.jsxs("div",{children:[l.jsx("h2",{className:`text-xl font-bold ${t?"text-white":"text-gray-800"}`,children:_.display_name}),l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:_.description})]})]}),l.jsx("button",{onClick:()=>p(_),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition ${_.enabled?"bg-green-500 text-white hover:bg-green-600":t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,"data-testid":`toggle-${_.name}`,children:_.enabled?l.jsxs(l.Fragment,{children:[l.jsx(Id,{}),l.jsx("span",{children:"Enabled"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Un,{}),l.jsx("span",{children:"Disabled"})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:`block text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:[l.jsx(d$,{className:"inline mr-2"}),"API Key"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:u[_.name]?"text":"password",value:f[_.name]!==void 0?f[_.name]:_.api_key||"",onChange:j=>v(_.name,j.target.value),placeholder:"Enter API key...",className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"}`,"data-testid":`api-key-input-${_.name}`}),l.jsx("button",{type:"button",onClick:()=>g(_.name),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${t?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,"data-testid":`toggle-visibility-${_.name}`,children:u[_.name]?l.jsx(VN,{}):l.jsx(KN,{})})]}),l.jsxs("button",{onClick:()=>y(_),disabled:s[_.name]||!f[_.name]&&_.api_key,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2","data-testid":`save-${_.name}`,children:[l.jsx(g$,{}),l.jsx("span",{children:s[_.name]?"Saving...":"Save"})]})]}),_.api_key&&!f[_.name]&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Id,{className:"text-green-500"}),l.jsxs("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["API key configured: ",_.api_key_masked]})]})]}),w(_.name),_.updated_at&&l.jsxs("div",{className:`text-xs ${t?"text-gray-500":"text-gray-400"} mt-4`,children:["Last updated: ",new Date(_.updated_at).toLocaleString()]})]},_.id))}),l.jsx("div",{className:`mt-8 p-4 rounded-lg ${t?"bg-blue-900/20 border border-blue-800":"bg-blue-50 border border-blue-200"}`,children:l.jsxs("p",{className:`text-sm ${t?"text-blue-300":"text-blue-800"}`,children:[l.jsx("strong",{children:"Note:"})," Integration settings are saved securely and will be used across the application. Make sure to test the integration after updating the API key."]})})]})]})}function m9(){const{user:e}=We(),{darkMode:t}=bt();Rt();const[r,n]=b.useState([]),[i,a]=b.useState(!0);b.useEffect(()=>{o()},[]);const o=async()=>{try{const d=await ue.get("/calls/history");n(d.data)}catch(d){console.error("Failed to fetch call history:",d)}finally{a(!1)}},s=d=>{const f=Math.floor(d/60),h=d%60;return`${f}:${h.toString().padStart(2,"0")}`},c=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),u=d=>{var f;return(f=d.participants_data)==null?void 0:f.find(h=>h.id!==(e==null?void 0:e.id))};return l.jsxs(fr,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx(Cl,{className:`text-3xl ${t?"text-green-400":"text-green-500"}`}),l.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-800"}`,children:"Call History"})]}),l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Review your call history"})]}),l.jsx("div",{children:i?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"Loading call history..."})}):r.length===0?l.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-12 text-center`,children:[l.jsx(Cl,{className:`text-6xl mx-auto mb-4 ${t?"text-gray-600":"text-gray-300"}`}),l.jsx("h2",{className:`text-2xl font-bold mb-2 ${t?"text-white":"text-gray-800"}`,children:"No Call History"}),l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"Your call history will appear here"})]}):l.jsx("div",{className:"space-y-4",children:r.map(d=>{const f=u(d);return l.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 hover:shadow-xl transition`,"data-testid":`call-item-${d.id}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${d.type==="video"?"bg-blue-100":"bg-green-100"}`,children:d.type==="video"?l.jsx(_c,{className:`text-2xl ${t?"text-blue-400":"text-blue-600"}`}):l.jsx(Cl,{className:`text-2xl ${t?"text-green-400":"text-green-600"}`})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h3",{className:`font-bold ${t?"text-white":"text-gray-800"}`,children:(f==null?void 0:f.full_name)||"Unknown"}),d.status==="completed"&&l.jsx(is,{className:"text-green-500",title:"Completed"}),(d.status==="missed"||d.status==="rejected")&&l.jsx(Pv,{className:"text-red-500",title:d.status})]}),l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:d.type==="video"?"Video Call":"Voice Call"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:`flex items-center space-x-2 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[l.jsx(Ql,{}),l.jsx("span",{children:s(d.duration)})]}),l.jsx("p",{className:`text-xs mt-1 ${t?"text-gray-500":"text-gray-400"}`,children:c(d.created_at)})]})]})},d.id)})})})]})}function g9(){const{user:e}=We(),{socket:t}=Es(),[r,n]=b.useState([]),[i,a]=b.useState(!0),[o,s]=b.useState(!1),[c,u]=b.useState("all"),[d,f]=b.useState({title:"",content:"",priority:"normal",target_audience:"all",target_value:"",expires_at:"",requires_acknowledgement:!0});b.useEffect(()=>(g(),t&&(t.on("new_announcement",h),t.on("announcement_acknowledged",m)),()=>{t&&(t.off("new_announcement",h),t.off("announcement_acknowledged",m))}),[t,c]);const h=_=>{n(j=>[_,...j]),xe.info("New announcement posted!",{icon:""})},m=_=>{n(j=>j.map(k=>k.id===_.announcement_id?{...k,acknowledgement_count:_.acknowledgement_count}:k))},g=async()=>{try{const _=c!=="all"?{priority:c}:{},j=await ue.get("/announcements",{params:_});n(j.data)}catch(_){console.error("Error fetching announcements:",_),xe.error("Failed to load announcements")}finally{a(!1)}},v=async _=>{_.preventDefault();try{const j=await ue.post("/announcements",d);n([j.data,...r]),s(!1),f({title:"",content:"",priority:"normal",target_audience:"all",target_value:"",expires_at:"",requires_acknowledgement:!0}),xe.success("Announcement created successfully!")}catch(j){console.error("Error creating announcement:",j),xe.error("Failed to create announcement")}},y=async _=>{try{const j=await ue.post(`/announcements/${_}/acknowledge`,{});n(k=>k.map(P=>P.id===_?{...P,acknowledged:!0,acknowledgement_count:(P.acknowledgement_count||0)+1}:P)),xe.success(`+${j.data.points_awarded} points! Announcement acknowledged`)}catch(j){console.error("Error acknowledging announcement:",j)}},p=_=>{switch(_){case"urgent":return l.jsx(FaExclamationCircle,{className:"text-red-500"});case"high":return l.jsx(FaExclamationCircle,{className:"text-orange-500"});default:return l.jsx(FaBell,{className:"text-blue-500"})}},x=(e==null?void 0:e.role)&&["admin","manager","department_head","team_lead"].includes(e.role),w=_=>{switch(_){case"urgent":return"danger";case"high":return"warning";case"low":return"secondary";default:return"primary"}};return l.jsxs(fr,{children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center",children:l.jsx(jv,{className:"w-7 h-7 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-primary-900 dark:text-white",children:"Company Feed"}),l.jsx("p",{className:"text-primary-600 dark:text-primary-400",children:"Stay updated with announcements"})]})]}),x&&l.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-corporate-600 to-corporate-700 text-white rounded-lg hover:shadow-lg transition","data-testid":"create-announcement-button",children:[l.jsx(ND,{className:"w-5 h-5"}),l.jsx("span",{children:"New Post"})]})]})}),l.jsx(Ge,{className:"mb-6",children:l.jsx("div",{className:"flex space-x-2 flex-wrap",children:["all","urgent","high","normal","low"].map(_=>l.jsx("button",{onClick:()=>u(_),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${c===_?"bg-corporate-600 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-primary-700"}`,"data-testid":`filter-${_}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})}),l.jsx("div",{className:"space-y-4",children:r.length===0?l.jsxs(Ge,{className:"text-center py-12",children:[l.jsx(yD,{className:"text-6xl mx-auto mb-4 text-gray-300 dark:text-gray-600"}),l.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-600 dark:text-gray-400",children:"No announcements yet"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Check back later for company updates"})]}):r.map(_=>{var j,k,P;return l.jsxs(Ge,{className:"hover:shadow-lg transition-shadow","data-testid":`announcement-${_.id}`,children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p(_.priority),l.jsx(rs,{variant:w(_.priority),size:"sm",children:_.priority})]}),l.jsx("h3",{className:"text-xl font-bold text-primary-900 dark:text-white mb-2",children:_.title})]})}),l.jsx("p",{className:"mb-4 whitespace-pre-wrap text-gray-700 dark:text-gray-300",children:_.content}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-primary-700 flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-corporate-400 to-corporate-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:((k=(j=_.created_by_user)==null?void 0:j.full_name)==null?void 0:k.charAt(0))||"U"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:(P=_.created_by_user)==null?void 0:P.full_name})]}),l.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 dark:text-gray-400",children:[l.jsx(gN,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(_.created_at).toLocaleDateString()})]}),_.requires_acknowledgement&&l.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 dark:text-gray-400",children:[l.jsx(Na,{className:"w-4 h-4"}),l.jsxs("span",{children:[_.acknowledgement_count||0," "]})]})]}),_.requires_acknowledgement&&l.jsxs("button",{onClick:()=>y(_.id),disabled:_.acknowledged,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition ${_.acknowledged?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400 cursor-not-allowed":"bg-gradient-to-r from-corporate-600 to-corporate-700 text-white hover:shadow-lg"}`,"data-testid":`acknowledge-button-${_.id}`,children:[l.jsx(Uo,{className:"w-4 h-4"}),l.jsx("span",{children:_.acknowledged?"Acknowledged":"Got it!"})]})]})]},_.id)})}),o&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white dark:bg-primary-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4 text-primary-900 dark:text-white",children:"Create Announcement"}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 font-medium text-gray-700 dark:text-gray-300",children:"Title *"}),l.jsx("input",{type:"text",value:d.title,onChange:_=>f({...d,title:_.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-primary-600 focus:ring-2 focus:ring-corporate-500 dark:bg-primary-700 dark:text-white",required:!0,"data-testid":"announcement-title-input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 font-medium text-gray-700 dark:text-gray-300",children:"Message *"}),l.jsx("textarea",{value:d.content,onChange:_=>f({...d,content:_.target.value}),rows:6,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-primary-600 focus:ring-2 focus:ring-corporate-500 dark:bg-primary-700 dark:text-white",required:!0,"data-testid":"announcement-content-input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 font-medium text-gray-700 dark:text-gray-300",children:"Priority"}),l.jsxs("select",{value:d.priority,onChange:_=>f({...d,priority:_.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-primary-600 dark:bg-primary-700 dark:text-white","data-testid":"announcement-priority-select",children:[l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"low",children:"Low"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 font-medium text-gray-700 dark:text-gray-300",children:"Target Audience"}),l.jsxs("select",{value:d.target_audience,onChange:_=>f({...d,target_audience:_.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-primary-600 dark:bg-primary-700 dark:text-white",children:[l.jsx("option",{value:"all",children:"Everyone"}),l.jsx("option",{value:"department",children:"Department"}),l.jsx("option",{value:"team",children:"Team"}),l.jsx("option",{value:"role",children:"Role"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"requireAck",checked:d.requires_acknowledgement,onChange:_=>f({...d,requires_acknowledgement:_.target.checked}),className:"w-4 h-4"}),l.jsx("label",{htmlFor:"requireAck",className:"text-gray-700 dark:text-gray-300",children:"Require acknowledgement"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-corporate-600 to-corporate-700 text-white py-2.5 rounded-lg hover:shadow-lg transition font-medium","data-testid":"submit-announcement-button",children:"Post Announcement"}),l.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 bg-gray-200 dark:bg-primary-700 text-gray-800 dark:text-gray-300 py-2.5 rounded-lg hover:bg-gray-300 dark:hover:bg-primary-600 transition font-medium",children:"Cancel"})]})]})]})})})]})}const fu=[{id:"teamwork",label:"Teamwork",icon:l.jsx(l$,{}),color:"text-blue-500"},{id:"innovation",label:"Innovation",icon:l.jsx(f$,{}),color:"text-yellow-500"},{id:"leadership",label:"Leadership",icon:l.jsx(JM,{}),color:"text-purple-500"},{id:"excellence",label:"Excellence",icon:l.jsx(Ma,{}),color:"text-green-500"},{id:"helpful",label:"Helpful",icon:l.jsx(y$,{}),color:"text-pink-500"}];function y9(){const{user:e}=We(),{socket:t}=Es(),{darkMode:r}=bt();Rt();const[n,i]=b.useState([]),[a,o]=b.useState([]),[s,c]=b.useState(!0),[u,d]=b.useState(!1),[f,h]=b.useState("all"),[m,g]=b.useState({}),[v,y]=b.useState({recognized_user_id:"",category:"teamwork",message:"",is_public:!0});b.useEffect(()=>(_(),j(),t&&(t.on("new_recognition",p),t.on("recognition_liked",x),t.on("recognition_commented",w)),()=>{t&&(t.off("new_recognition",p),t.off("recognition_liked",x),t.off("recognition_commented",w))}),[t,f]);const p=R=>{i(L=>[R,...L]),xe.success("New recognition posted!",{icon:""})},x=R=>{i(L=>L.map(U=>U.id===R.recognition_id?{...U,like_count:R.like_count,liked_by_me:R.user_id===(e==null?void 0:e.id)}:U))},w=R=>{i(L=>L.map(U=>U.id===R.recognition_id?{...U,comments:[...U.comments||[],R.comment],comment_count:(U.comment_count||0)+1}:U))},_=async()=>{try{const R=f!=="all"?{category:f}:{},L=await ue.get("/recognitions",{params:R});i(L.data)}catch(R){console.error("Error fetching recognitions:",R),xe.error("Failed to load recognitions")}finally{c(!1)}},j=async()=>{try{const R=await ue.get("/users");o(R.data.filter(L=>L.id!==(e==null?void 0:e.id)))}catch(R){console.error("Error fetching users:",R)}},k=async R=>{R.preventDefault();try{const L=await ue.post("/recognitions",v);i([L.data,...n]),d(!1),y({recognized_user_id:"",category:"teamwork",message:"",is_public:!0}),xe.success("Recognition posted! +5 points")}catch(L){console.error("Error creating recognition:",L),xe.error("Failed to create recognition")}},P=async R=>{try{await ue.post(`/recognitions/${R}/like`,{})}catch(L){console.error("Error liking recognition:",L)}},A=async R=>{const L=m[R];if(!(!L||!L.trim()))try{await ue.post(`/recognitions/${R}/comment`,{comment:L}),g({...m,[R]:""}),xe.success("+2 points for commenting!")}catch(U){console.error("Error commenting:",U)}},M=R=>fu.find(L=>L.id===R)||fu[0];return s?l.jsx(fr,{children:l.jsx("div",{className:"flex items-center justify-center py-20",children:l.jsx("div",{className:"text-xl",children:"Loading..."})})}):l.jsxs(fr,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:`text-3xl font-bold ${r?"text-white":"text-gray-800"} mb-2`,children:" Recognition Wall"}),l.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:"Celebrate team achievements"})]}),l.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:shadow-lg transition","data-testid":"create-recognition-button",children:[l.jsx(Fi,{}),l.jsx("span",{children:"Recognize Someone"})]})]}),l.jsx("div",{children:l.jsxs("div",{className:"flex space-x-4 overflow-x-auto py-3",children:[l.jsx("button",{onClick:()=>h("all"),className:`py-2 px-4 rounded-lg font-medium transition whitespace-nowrap ${f==="all"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":`${r?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`}`,"data-testid":"filter-all",children:"All"}),fu.map(R=>l.jsxs("button",{onClick:()=>h(R.id),className:`flex items-center space-x-2 py-2 px-4 rounded-lg font-medium transition whitespace-nowrap ${f===R.id?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":`${r?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-800"}`}`,"data-testid":`filter-${R.id}`,children:[l.jsx("span",{className:f===R.id?"text-white":R.color,children:R.icon}),l.jsx("span",{children:R.label})]},R.id))]})})]}),l.jsx("div",{className:"space-y-4",children:n.length===0?l.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-12 text-center`,children:[l.jsx(Ma,{className:`text-6xl mx-auto mb-4 ${r?"text-gray-600":"text-gray-300"}`}),l.jsx("h3",{className:`text-xl font-semibold mb-2 ${r?"text-gray-300":"text-gray-600"}`,children:"No recognitions yet"}),l.jsx("p",{className:r?"text-gray-500":"text-gray-400",children:"Be the first to recognize someone's great work!"})]}):n.map(R=>{var U,X,J,le,Y;const L=M(R.category);return l.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 transition hover:shadow-xl`,"data-testid":`recognition-${R.id}`,children:[l.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[l.jsx("img",{src:((U=R.recognizer)==null?void 0:U.avatar)||`https://ui-avatars.com/api/?name=${((X=R.recognizer)==null?void 0:X.full_name)||"User"}&background=random`,alt:(J=R.recognizer)==null?void 0:J.full_name,className:"w-12 h-12 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:`${r?"text-gray-300":"text-gray-700"}`,children:[l.jsx("span",{className:"font-semibold",children:(le=R.recognizer)==null?void 0:le.full_name})," recognized ",l.jsx("span",{className:"font-semibold",children:(Y=R.recognized_user)==null?void 0:Y.full_name})]}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsxs("span",{className:`flex items-center space-x-1 text-sm ${L.color}`,children:[L.icon,l.jsx("span",{children:L.label})]}),l.jsxs("span",{className:`text-sm ${r?"text-gray-500":"text-gray-400"}`,children:[" ",new Date(R.created_at).toLocaleDateString()]})]})]})]}),l.jsx("p",{className:`mb-4 ${r?"text-gray-300":"text-gray-700"}`,children:R.message}),l.jsxs("div",{className:`flex items-center space-x-4 pt-4 border-t ${r?"border-gray-700":"border-gray-200"}`,children:[l.jsxs("button",{onClick:()=>P(R.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition ${R.liked_by_me?"bg-pink-100 text-pink-600":`${r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`}`,"data-testid":`like-button-${R.id}`,children:[l.jsx(c$,{className:R.liked_by_me?"text-pink-600":""}),l.jsx("span",{children:R.like_count||0})]}),l.jsxs("button",{className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition ${r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[l.jsx(QM,{}),l.jsx("span",{children:R.comment_count||0})]})]}),R.comments&&R.comments.length>0&&l.jsx("div",{className:"mt-4 space-y-3",children:R.comments.map(Q=>{var q,te,ie,oe;return l.jsxs("div",{className:`flex space-x-3 p-3 rounded-lg ${r?"bg-gray-700":"bg-gray-50"}`,children:[l.jsx("img",{src:((q=Q.user)==null?void 0:q.avatar)||`https://ui-avatars.com/api/?name=${((te=Q.user)==null?void 0:te.full_name)||"User"}&background=random`,alt:(ie=Q.user)==null?void 0:ie.full_name,className:"w-8 h-8 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:`font-semibold text-sm ${r?"text-gray-300":"text-gray-700"}`,children:(oe=Q.user)==null?void 0:oe.full_name}),l.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:Q.comment})]})]},Q.id)})}),l.jsxs("div",{className:"mt-4 flex space-x-2",children:[l.jsx("input",{type:"text",value:m[R.id]||"",onChange:Q=>g({...m,[R.id]:Q.target.value}),placeholder:"Add a comment...",className:`flex-1 px-4 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,onKeyPress:Q=>Q.key==="Enter"&&A(R.id),"data-testid":`comment-input-${R.id}`}),l.jsx("button",{onClick:()=>A(R.id),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:shadow-lg transition","data-testid":`submit-comment-${R.id}`,children:"Post"})]})]},R.id)})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-lg w-full`,children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:`text-2xl font-bold mb-4 ${r?"text-white":"text-gray-800"}`,children:"Recognize Someone"}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block mb-2 font-medium ${r?"text-gray-300":"text-gray-700"}`,children:"Who do you want to recognize? *"}),l.jsxs("select",{value:v.recognized_user_id,onChange:R=>y({...v,recognized_user_id:R.target.value}),className:`w-full px-4 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,required:!0,"data-testid":"recognized-user-select",children:[l.jsx("option",{value:"",children:"Select a team member"}),a.map(R=>l.jsx("option",{value:R.id,children:R.full_name},R.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block mb-2 font-medium ${r?"text-gray-300":"text-gray-700"}`,children:"Category *"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:fu.map(R=>l.jsxs("button",{type:"button",onClick:()=>y({...v,category:R.id}),className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition ${v.category===R.id?"border-pink-500 bg-pink-50 dark:bg-pink-900":`border-gray-300 ${r?"hover:bg-gray-700":"hover:bg-gray-50"}`}`,"data-testid":`category-${R.id}`,children:[l.jsx("span",{className:R.color,children:R.icon}),l.jsx("span",{className:r?"text-gray-300":"text-gray-700",children:R.label})]},R.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block mb-2 font-medium ${r?"text-gray-300":"text-gray-700"}`,children:"Message *"}),l.jsx("textarea",{value:v.message,onChange:R=>y({...v,message:R.target.value}),rows:4,className:`w-full px-4 py-2 rounded-lg border ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Describe what they did that deserves recognition...",required:!0,"data-testid":"recognition-message-input"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-2 rounded-lg hover:shadow-lg transition","data-testid":"submit-recognition-button",children:"Post Recognition"}),l.jsx("button",{type:"button",onClick:()=>d(!1),className:`flex-1 ${r?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"} py-2 rounded-lg transition`,children:"Cancel"})]})]})]})})})]})}function v9(){const{user:e}=We(),{darkMode:t}=bt();Rt();const[r,n]=b.useState([]),[i,a]=b.useState(!0),[o,s]=b.useState("all"),[c,u]=b.useState("pending");b.useEffect(()=>{d()},[o,c]);const d=async()=>{try{a(!0);const p=new URLSearchParams;o!=="all"&&p.append("type",o),c!=="all"&&p.append("status",c);const x=await ue.get(`/api/approvals?${p.toString()}`);n(x.data)}catch(p){console.error("Error fetching approvals:",p)}finally{a(!1)}},f=async p=>{try{await ue.put(`/api/approvals/${p}/approve`,{status:"approved",notes:"Approved"}),d()}catch(x){console.error("Error approving request:",x),alert("Failed to approve request")}},h=async p=>{const x=prompt("Reason for rejection (optional):");try{await ue.put(`/api/approvals/${p}/reject`,{status:"rejected",notes:x||"Rejected"}),d()}catch(w){console.error("Error rejecting request:",w),alert("Failed to reject request")}},m=p=>{switch(p){case"space_join":return l.jsx(GN,{className:"text-cyan-500"});case"user_registration":return l.jsx(v$,{className:"text-green-500"});case"reward_redemption":return l.jsx(s$,{className:"text-pink-500"});case"content_approval":return l.jsx(Ov,{className:"text-purple-500"});default:return l.jsx(Ql,{className:"text-gray-500"})}},g=p=>{var x,w,_;switch(p.type){case"space_join":return`Join Request: ${((x=p.reference)==null?void 0:x.name)||"Space"}`;case"user_registration":return`New User Registration: ${((w=p.reference)==null?void 0:w.full_name)||"User"}`;case"reward_redemption":return`Reward Redemption: ${((_=p.details)==null?void 0:_.reward_name)||"Reward"}`;case"content_approval":return`Content Approval: ${p.reference_type}`;default:return"Approval Request"}},v=p=>{switch(p){case"pending":return l.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 flex items-center",children:[l.jsx(Ql,{className:"mr-1"})," Pending"]});case"approved":return l.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 flex items-center",children:[l.jsx(is,{className:"mr-1"})," Approved"]});case"rejected":return l.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 flex items-center",children:[l.jsx(Pv,{className:"mr-1"})," Rejected"]});default:return null}},y=(e==null?void 0:e.role)&&["admin","manager","department_head","team_lead"].includes(e.role);return l.jsxs(fr,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-800"} mb-2`,children:"Approval Center"}),l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Review and manage approval requests"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 mb-6`,children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(o$,{className:t?"text-gray-400":"text-gray-600"}),l.jsx("h2",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"}`,children:"Filters"})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Approval Type"}),l.jsxs("select",{value:o,onChange:p=>s(p.target.value),className:`w-full px-4 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,children:[l.jsx("option",{value:"all",children:"All Types"}),l.jsx("option",{value:"space_join",children:"Space Join Requests"}),l.jsx("option",{value:"user_registration",children:"User Registrations"}),l.jsx("option",{value:"reward_redemption",children:"Reward Redemptions"}),l.jsx("option",{value:"content_approval",children:"Content Approvals"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Status"}),l.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:`w-full px-4 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})]}),i?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"Loading approvals..."})}):r.length===0?l.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-12 text-center`,children:[l.jsx(is,{className:`text-6xl mx-auto mb-4 ${t?"text-gray-600":"text-gray-300"}`}),l.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-white":"text-gray-800"}`,children:"No approvals found"}),l.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"There are no approval requests matching your filters."})]}):l.jsx("div",{className:"space-y-4",children:r.map(p=>{var x;return l.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 hover:shadow-xl transition`,"data-testid":`approval-card-${p.id}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${t?"bg-gray-700":"bg-gray-100"}`,children:m(p.type)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"}`,children:g(p)}),v(p.status)]}),l.jsxs("div",{className:`space-y-2 ${t?"text-gray-300":"text-gray-600"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ga,{className:"text-sm"}),l.jsxs("span",{className:"text-sm",children:["Requested by: ",l.jsx("strong",{children:((x=p.requester)==null?void 0:x.full_name)||"Unknown"})]})]}),p.details&&l.jsx("div",{className:"text-sm",children:p.type==="reward_redemption"&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Quantity:"})," ",p.details.quantity,"  ",p.details.reward_cost," points",l.jsxs("span",{className:"ml-2 font-bold",children:["= ",p.details.total_cost," points"]})]})}),p.notes&&l.jsxs("div",{className:"text-sm italic",children:[l.jsx("span",{className:"font-medium",children:"Notes:"})," ",p.notes]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date(p.created_at).toLocaleString()}),p.status!=="pending"&&p.approver&&l.jsxs("div",{className:"text-sm mt-2 pt-2 border-t border-gray-700",children:[l.jsxs("span",{className:"font-medium",children:[p.status==="approved"?"Approved":"Rejected"," by:"]})," ",p.approver.full_name,p.approver_notes&&l.jsxs("div",{className:"italic text-xs mt-1",children:['"',p.approver_notes,'"']})]})]})]})]}),p.status==="pending"&&y&&l.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[l.jsxs("button",{onClick:()=>f(p.id),className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition","data-testid":`approve-button-${p.id}`,children:[l.jsx(Id,{}),l.jsx("span",{children:"Approve"})]}),l.jsxs("button",{onClick:()=>h(p.id),className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition","data-testid":`reject-button-${p.id}`,children:[l.jsx(Un,{}),l.jsx("span",{children:"Reject"})]})]})]})},p.id)})})]})]})}function x9(){const{user:e}=We(),{darkMode:t}=bt();Rt();const[r,n]=b.useState([]),[i,a]=b.useState([]),[o,s]=b.useState(!0),[c,u]=b.useState("received");b.useEffect(()=>{d()},[c]);const d=async()=>{try{if(s(!0),c==="received"){const p=await ue.get("/api/invitations?sent=false");n(p.data)}else{const p=await ue.get("/api/invitations?sent=true");a(p.data)}}catch(p){console.error("Error fetching invitations:",p)}finally{s(!1)}},f=async p=>{try{await ue.post(`/api/invitations/${p}/accept`),d()}catch(x){console.error("Error accepting invitation:",x),alert("Failed to accept invitation")}},h=async p=>{try{await ue.post(`/api/invitations/${p}/reject`),d()}catch(x){console.error("Error rejecting invitation:",x),alert("Failed to reject invitation")}},m=async p=>{if(window.confirm("Are you sure you want to cancel this invitation?"))try{await ue.delete(`/api/invitations/${p}`),d()}catch(x){console.error("Error cancelling invitation:",x),alert("Failed to cancel invitation")}},g=p=>{switch(p){case"space":return l.jsx(GN,{className:"text-cyan-500"});case"event":return l.jsx(UN,{className:"text-purple-500"});case"organization":return l.jsx(Ga,{className:"text-green-500"});default:return l.jsx(Qw,{className:"text-gray-500"})}},v=p=>{switch(p){case"pending":return l.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 flex items-center",children:[l.jsx(Ql,{className:"mr-1"})," Pending"]});case"accepted":return l.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 flex items-center",children:[l.jsx(is,{className:"mr-1"})," Accepted"]});case"rejected":return l.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 flex items-center",children:[l.jsx(Pv,{className:"mr-1"})," Rejected"]});default:return null}},y=c==="received"?r:i;return l.jsxs(fr,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-800"} mb-2`,children:"Invitations"}),l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Manage your invitations"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-2 mb-6`,children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>u("received"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition ${c==="received"?"bg-blue-500 text-white":t?"text-gray-400 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,"data-testid":"received-tab",children:"Received Invitations"}),l.jsx("button",{onClick:()=>u("sent"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition ${c==="sent"?"bg-blue-500 text-white":t?"text-gray-400 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,"data-testid":"sent-tab",children:"Sent Invitations"})]})}),o?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"Loading invitations..."})}):y.length===0?l.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-12 text-center`,children:[l.jsx(Qw,{className:`text-6xl mx-auto mb-4 ${t?"text-gray-600":"text-gray-300"}`}),l.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-white":"text-gray-800"}`,children:"No invitations found"}),l.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:c==="received"?"You don't have any pending invitations.":"You haven't sent any invitations yet."})]}):l.jsx("div",{className:"space-y-4",children:y.map(p=>{var x,w,_;return l.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 hover:shadow-xl transition`,"data-testid":`invitation-card-${p.id}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${t?"bg-gray-700":"bg-gray-100"}`,children:g(p.type)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsxs("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-800"}`,children:[p.type==="space"&&`Space Invitation: ${((x=p.reference)==null?void 0:x.name)||"Space"}`,p.type==="event"&&"Event Invitation",p.type==="organization"&&"Organization Invitation"]}),v(p.status)]}),l.jsxs("div",{className:`space-y-2 ${t?"text-gray-300":"text-gray-600"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ga,{className:"text-sm"}),l.jsxs("span",{className:"text-sm",children:[c==="received"?"From: ":"To: ",l.jsx("strong",{children:c==="received"?((w=p.inviter)==null?void 0:w.full_name)||"Unknown":((_=p.invitee)==null?void 0:_.full_name)||p.invitee_email||"Unknown"})]})]}),p.message&&l.jsxs("div",{className:"text-sm italic",children:[l.jsx("span",{className:"font-medium",children:"Message:"})," ",p.message]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Sent ",new Date(p.created_at).toLocaleString()]}),p.expires_at&&l.jsxs("div",{className:"text-xs text-gray-500",children:["Expires ",new Date(p.expires_at).toLocaleString()]})]})]})]}),p.status==="pending"&&l.jsx("div",{className:"flex items-center space-x-2 ml-4",children:c==="received"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>f(p.id),className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition","data-testid":`accept-button-${p.id}`,children:[l.jsx(Id,{}),l.jsx("span",{children:"Accept"})]}),l.jsxs("button",{onClick:()=>h(p.id),className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition","data-testid":`reject-button-${p.id}`,children:[l.jsx(Un,{}),l.jsx("span",{children:"Reject"})]})]}):l.jsxs("button",{onClick:()=>m(p.id),className:"flex items-center space-x-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition","data-testid":`cancel-button-${p.id}`,children:[l.jsx(Un,{}),l.jsx("span",{children:"Cancel"})]})})]})},p.id)})})]})]})}const b9="/api",w9=({onClose:e,onPollCreated:t})=>{const{user:r}=We(),{darkMode:n}=bt(),[i,a]=b.useState({title:"",description:"",anonymous_voting:!1,show_results_before_close:!0,expires_at:"",target_audience:"all",target_value:""}),[o,s]=b.useState([{question:"",type:"single_choice",options:[{id:crypto.randomUUID(),text:""},{id:crypto.randomUUID(),text:""}],rating_scale:5,required:!0}]),[c,u]=b.useState(!1),[d,f]=b.useState(""),h=_=>{const{name:j,value:k,type:P,checked:A}=_.target;a(M=>({...M,[j]:P==="checkbox"?A:k}))},m=(_,j,k)=>{const P=[...o];P[_][j]=k,s(P)},g=(_,j,k)=>{const P=[...o];P[_].options[j].text=k,s(P)},v=_=>{const j=[...o];j[_].options.push({id:crypto.randomUUID(),text:""}),s(j)},y=(_,j)=>{const k=[...o];k[_].options.length>2&&(k[_].options.splice(j,1),s(k))},p=()=>{s([...o,{question:"",type:"single_choice",options:[{id:crypto.randomUUID(),text:""},{id:crypto.randomUUID(),text:""}],rating_scale:5,required:!0}])},x=_=>{o.length>1&&s(o.filter((j,k)=>k!==_))},w=async _=>{var j,k;if(_.preventDefault(),f(""),!i.title.trim()){f("Poll title is required");return}for(let P=0;P<o.length;P++){const A=o[P];if(!A.question.trim()){f(`Question ${P+1} text is required`);return}if((A.type==="single_choice"||A.type==="multiple_choice")&&A.options.filter(R=>R.text.trim()).length<2){f(`Question ${P+1} must have at least 2 options`);return}}u(!0);try{const P=localStorage.getItem("token"),A=o.map(L=>{const U={question:L.question,type:L.type,required:L.required};return(L.type==="single_choice"||L.type==="multiple_choice")&&(U.options=L.options.filter(X=>X.text.trim()).map(X=>({id:X.id,text:X.text}))),L.type==="rating"&&(U.rating_scale=L.rating_scale),U}),M={...i,questions:A},R=await Ke.post(`${b9}/api/polls`,M,{headers:{Authorization:`Bearer ${P}`}});t(R.data)}catch(P){console.error("Error creating poll:",P),f(((k=(j=P.response)==null?void 0:j.data)==null?void 0:k.detail)||"Failed to create poll")}finally{u(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:l.jsxs("div",{className:`${n?"bg-gray-800":"bg-white"} rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto`,onClick:_=>_.stopPropagation(),"data-testid":"create-poll-modal",children:[l.jsx("div",{className:`sticky top-0 ${n?"bg-gray-800":"bg-white"} border-b ${n?"border-gray-700":"border-gray-200"} px-6 py-4 z-10`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:`text-2xl font-bold ${n?"text-white":"text-gray-900"}`,children:" Create New Poll"}),l.jsx("button",{onClick:e,className:`${n?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"} text-2xl`,children:""})]})}),l.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[d&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Poll Title *"}),l.jsx("input",{type:"text",name:"title",value:i.title,onChange:h,className:`w-full px-4 py-2 rounded-lg border ${n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,placeholder:"What's your poll about?","data-testid":"poll-title-input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Description (Optional)"}),l.jsx("textarea",{name:"description",value:i.description,onChange:h,rows:"3",className:`w-full px-4 py-2 rounded-lg border ${n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,placeholder:"Add more details about this poll..."})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:`text-lg font-semibold ${n?"text-white":"text-gray-900"}`,children:"Questions"}),o.map((_,j)=>l.jsxs("div",{className:`p-4 rounded-lg border ${n?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("h4",{className:`font-medium ${n?"text-white":"text-gray-900"}`,children:["Question ",j+1]}),o.length>1&&l.jsx("button",{type:"button",onClick:()=>x(j),className:"text-red-500 hover:text-red-700",children:"Remove"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",value:_.question,onChange:k=>m(j,"question",k.target.value),className:`w-full px-4 py-2 rounded-lg border ${n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,placeholder:"Enter your question"}),l.jsx("div",{className:"flex gap-4",children:l.jsxs("select",{value:_.type,onChange:k=>m(j,"type",k.target.value),className:`flex-1 px-4 py-2 rounded-lg border ${n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,children:[l.jsx("option",{value:"single_choice",children:"Single Choice"}),l.jsx("option",{value:"multiple_choice",children:"Multiple Choice"}),l.jsx("option",{value:"rating",children:"Rating Scale"}),l.jsx("option",{value:"open_ended",children:"Open-Ended"})]})}),(_.type==="single_choice"||_.type==="multiple_choice")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:`block text-sm font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"Options"}),_.options.map((k,P)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:k.text,onChange:A=>g(j,P,A.target.value),className:`flex-1 px-4 py-2 rounded-lg border ${n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,placeholder:`Option ${P+1}`}),_.options.length>2&&l.jsx("button",{type:"button",onClick:()=>y(j,P),className:"px-3 py-2 text-red-500 hover:text-red-700",children:""})]},k.id)),l.jsx("button",{type:"button",onClick:()=>v(j),className:"text-blue-500 hover:text-blue-700 text-sm font-medium",children:"+ Add Option"})]}),_.type==="rating"&&l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Rating Scale"}),l.jsxs("select",{value:_.rating_scale,onChange:k=>m(j,"rating_scale",parseInt(k.target.value)),className:`px-4 py-2 rounded-lg border ${n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,children:[l.jsx("option",{value:"5",children:"1-5"}),l.jsx("option",{value:"10",children:"1-10"})]})]})]})]},j)),l.jsx("button",{type:"button",onClick:p,className:"w-full py-3 border-2 border-dashed border-gray-400 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-500 transition-colors",children:"+ Add Another Question"})]}),l.jsxs("div",{className:`p-4 rounded-lg border ${n?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"} space-y-4`,children:[l.jsx("h3",{className:`text-lg font-semibold ${n?"text-white":"text-gray-900"}`,children:"Poll Settings"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",id:"anonymous_voting",name:"anonymous_voting",checked:i.anonymous_voting,onChange:h,className:"w-4 h-4 text-blue-600 rounded"}),l.jsx("label",{htmlFor:"anonymous_voting",className:n?"text-gray-300":"text-gray-700",children:"Allow anonymous voting"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",id:"show_results_before_close",name:"show_results_before_close",checked:i.show_results_before_close,onChange:h,className:"w-4 h-4 text-blue-600 rounded"}),l.jsx("label",{htmlFor:"show_results_before_close",className:n?"text-gray-300":"text-gray-700",children:"Show live results (uncheck to hide results until poll closes)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Expiration Date (Optional)"}),l.jsx("input",{type:"datetime-local",name:"expires_at",value:i.expires_at,onChange:h,className:`w-full px-4 py-2 rounded-lg border ${n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"Target Audience"}),l.jsxs("select",{name:"target_audience",value:i.target_audience,onChange:h,className:`w-full px-4 py-2 rounded-lg border ${n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,children:[l.jsx("option",{value:"all",children:"Everyone"}),l.jsx("option",{value:"department",children:"Specific Department"}),l.jsx("option",{value:"team",children:"Specific Team"}),l.jsx("option",{value:"role",children:"Specific Role"})]})]}),i.target_audience!=="all"&&l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:i.target_audience==="department"?"Department":i.target_audience==="team"?"Team":"Role"}),l.jsx("input",{type:"text",name:"target_value",value:i.target_value,onChange:h,className:`w-full px-4 py-2 rounded-lg border ${n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,placeholder:`Enter ${i.target_audience}`})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{type:"button",onClick:e,className:`flex-1 py-3 rounded-lg font-semibold ${n?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-colors`,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:c,className:"flex-1 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"submit-poll-btn",children:c?"Creating...":"Create Poll"})]})]})]})})},_9="/api",j9=({poll:e,onVoteSubmitted:t,onViewResults:r,onClosePoll:n,onDeletePoll:i})=>{var A,M;const{user:a}=We(),{darkMode:o}=bt(),[s,c]=b.useState(!1),[u,d]=b.useState([]),[f,h]=b.useState(!1),[m,g]=b.useState(!1),v=e.expires_at&&new Date(e.expires_at)<new Date,y=e.status==="closed"||v,p=(a==null?void 0:a.role)==="admin"||e.created_by===(a==null?void 0:a.id),x=()=>{const R=e.questions.map((L,U)=>({question_index:U,answer_type:L.type,selected_option_ids:[],rating_value:null,text_answer:""}));d(R),c(!0)},w=(R,L,U)=>{const X=[...u];if(U){const J=X[R].selected_option_ids||[];J.includes(L)?X[R].selected_option_ids=J.filter(le=>le!==L):X[R].selected_option_ids=[...J,L]}else X[R].selected_option_ids=[L];d(X)},_=(R,L)=>{const U=[...u];U[R].rating_value=L,d(U)},j=(R,L)=>{const U=[...u];U[R].text_answer=L,d(U)},k=async()=>{var R,L;for(let U=0;U<u.length;U++){const X=u[U],J=e.questions[U];if(J.required){if(J.type==="single_choice"||J.type==="multiple_choice"){if(!X.selected_option_ids||X.selected_option_ids.length===0){alert(`Please answer question ${U+1}`);return}}else if(J.type==="rating"){if(!X.rating_value){alert(`Please provide a rating for question ${U+1}`);return}}else if(J.type==="open_ended"&&(!X.text_answer||!X.text_answer.trim())){alert(`Please answer question ${U+1}`);return}}}g(!0);try{const U=localStorage.getItem("token");await Ke.post(`${_9}/api/polls/${e.id}/vote`,{poll_id:e.id,answers:u,is_anonymous:f},{headers:{Authorization:`Bearer ${U}`}}),alert("Vote submitted successfully!"),c(!1),t(e.id)}catch(U){console.error("Error submitting vote:",U),alert(((L=(R=U.response)==null?void 0:R.data)==null?void 0:L.detail)||"Failed to submit vote")}finally{g(!1)}},P=R=>{if(!R)return null;const L=new Date(R);return L.toLocaleDateString()+" "+L.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return l.jsxs("div",{className:`${o?"bg-gray-800":"bg-white"} rounded-lg shadow-md hover:shadow-lg transition-shadow p-6`,"data-testid":`poll-card-${e.id}`,children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:`text-xl font-bold ${o?"text-white":"text-gray-900"}`,children:e.title}),y&&l.jsx("span",{className:"px-3 py-1 bg-gray-500 text-white text-xs font-semibold rounded-full",children:"CLOSED"}),!y&&l.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-semibold rounded-full",children:"ACTIVE"})]}),e.description&&l.jsx("p",{className:`${o?"text-gray-400":"text-gray-600"} mb-3`,children:e.description}),l.jsxs("div",{className:`flex items-center gap-4 text-sm ${o?"text-gray-400":"text-gray-500"}`,children:[l.jsxs("span",{children:["By ",((A=e.created_by_user)==null?void 0:A.full_name)||"Admin"]}),l.jsx("span",{children:""}),l.jsx("span",{children:P(e.created_at)}),e.expires_at&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:["Expires: ",P(e.expires_at)]})]})]})]})}),l.jsxs("div",{className:`flex items-center gap-6 mb-4 text-sm ${o?"text-gray-400":"text-gray-600"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsxs("span",{children:[e.total_votes||0," votes"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsxs("span",{children:[((M=e.questions)==null?void 0:M.length)||0," questions"]})]}),e.anonymous_voting&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsx("span",{children:"Anonymous voting"})]})]}),e.has_voted&&l.jsxs("div",{className:"mb-4 px-4 py-3 bg-blue-100 border border-blue-300 text-blue-800 rounded-lg flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsx("span",{className:"font-medium",children:"You have voted on this poll"})]}),s&&!e.has_voted&&!y&&l.jsxs("div",{className:`mb-4 p-4 rounded-lg border ${o?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"}`,children:[l.jsxs("div",{className:"space-y-6",children:[e.questions.map((R,L)=>{var U,X;return l.jsxs("div",{children:[l.jsxs("h4",{className:`font-semibold mb-3 ${o?"text-white":"text-gray-900"}`,children:[L+1,". ",R.question,R.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(R.type==="single_choice"||R.type==="multiple_choice")&&l.jsx("div",{className:"space-y-2",children:(U=R.options)==null?void 0:U.map(J=>{var le,Y,Q,q;return l.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer hover:bg-opacity-80 ${(Y=(le=u[L])==null?void 0:le.selected_option_ids)!=null&&Y.includes(J.id)?o?"bg-blue-900 bg-opacity-30":"bg-blue-100":o?"bg-gray-800":"bg-white"}`,children:[l.jsx("input",{type:R.type==="single_choice"?"radio":"checkbox",name:`question-${L}`,checked:(q=(Q=u[L])==null?void 0:Q.selected_option_ids)==null?void 0:q.includes(J.id),onChange:()=>w(L,J.id,R.type==="multiple_choice"),className:"w-4 h-4"}),l.jsx("span",{className:o?"text-gray-300":"text-gray-700",children:J.text})]},J.id)})}),R.type==="rating"&&l.jsx("div",{className:"flex gap-2",children:Array.from({length:R.rating_scale||5},(J,le)=>le+1).map(J=>{var le;return l.jsx("button",{type:"button",onClick:()=>_(L,J),className:`w-12 h-12 rounded-lg font-bold transition-all ${((le=u[L])==null?void 0:le.rating_value)===J?"bg-blue-500 text-white scale-110":o?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:J},J)})}),R.type==="open_ended"&&l.jsx("textarea",{value:((X=u[L])==null?void 0:X.text_answer)||"",onChange:J=>j(L,J.target.value),rows:"3",className:`w-full px-4 py-2 rounded-lg border ${o?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500`,placeholder:"Type your answer here..."})]},L)}),e.anonymous_voting&&l.jsxs("label",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",checked:f,onChange:R=>h(R.target.checked),className:"w-4 h-4"}),l.jsx("span",{className:o?"text-gray-300":"text-gray-700",children:"Submit anonymously"})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>c(!1),className:`flex-1 py-2 rounded-lg font-semibold ${o?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cancel"}),l.jsx("button",{type:"button",onClick:k,disabled:m,className:"flex-1 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-purple-700 disabled:opacity-50","data-testid":"submit-vote-btn",children:m?"Submitting...":"Submit Vote"})]})]}),l.jsxs("div",{className:"flex gap-3 flex-wrap",children:[!e.has_voted&&!y&&!s&&l.jsx("button",{onClick:x,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-purple-700","data-testid":"vote-now-btn",children:"Vote Now"}),(e.has_voted||y||e.show_results_before_close&&e.total_votes>0)&&l.jsx("button",{onClick:()=>r(e),className:`px-6 py-2 rounded-lg font-semibold ${o?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,"data-testid":"view-results-btn",children:"View Results"}),p&&!y&&l.jsx("button",{onClick:()=>n(e.id),className:"px-6 py-2 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600",children:"Close Poll"}),p&&l.jsx("button",{onClick:()=>i(e.id),className:"px-6 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600",children:"Delete"})]})]})},S9="/api",N9=({poll:e,onClose:t})=>{var f,h;const{darkMode:r}=bt(),[n,i]=b.useState(null),[a,o]=b.useState(!0),[s,c]=b.useState("");b.useEffect(()=>{u()},[e.id]);const u=async()=>{var m,g;try{const v=localStorage.getItem("token"),y=await Ke.get(`${S9}/api/polls/${e.id}/results`,{headers:{Authorization:`Bearer ${v}`}});i(y.data)}catch(v){console.error("Error fetching results:",v),c(((g=(m=v.response)==null?void 0:m.data)==null?void 0:g.detail)||"Failed to load results")}finally{o(!1)}},d=m=>{const g=["bg-blue-500","bg-purple-500","bg-green-500","bg-yellow-500","bg-pink-500","bg-indigo-500","bg-red-500"];return g[m%g.length]};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:l.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto`,onClick:m=>m.stopPropagation(),"data-testid":"poll-results-modal",children:[l.jsx("div",{className:`sticky top-0 ${r?"bg-gray-800":"bg-white"} border-b ${r?"border-gray-700":"border-gray-200"} px-6 py-4 z-10`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:" Poll Results"}),l.jsx("p",{className:`mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:e.title})]}),l.jsx("button",{onClick:t,className:`${r?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"} text-2xl`,children:""})]})}),l.jsx("div",{className:"p-6",children:a?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),l.jsx("p",{className:`mt-4 ${r?"text-gray-400":"text-gray-600"}`,children:"Loading results..."})]}):s?l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`mb-6 p-4 rounded-lg ${r?"bg-gray-900":"bg-gray-50"}`,children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:`text-3xl font-bold ${r?"text-white":"text-gray-900"}`,children:n.total_votes}),l.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Total Votes"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`text-3xl font-bold ${r?"text-white":"text-gray-900"}`,children:((f=n.results)==null?void 0:f.length)||0}),l.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Questions"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`text-3xl font-bold ${r?"text-white":"text-gray-900"}`,children:e.status==="closed"?"Closed":"Active"}),l.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Status"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`text-3xl font-bold ${r?"text-white":"text-gray-900"}`,children:e.anonymous_voting?"Yes":"No"}),l.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Anonymous"})]})]})}),l.jsx("div",{className:"space-y-8",children:(h=n.results)==null?void 0:h.map((m,g)=>l.jsxs("div",{className:`p-6 rounded-lg border ${r?"border-gray-700 bg-gray-900":"border-gray-300 bg-gray-50"}`,children:[l.jsxs("h3",{className:`text-lg font-bold mb-4 ${r?"text-white":"text-gray-900"}`,children:["Question ",g+1,": ",m.question]}),l.jsxs("p",{className:`text-sm mb-4 ${r?"text-gray-400":"text-gray-600"}`,children:[m.total_responses," responses"]}),(m.type==="single_choice"||m.type==="multiple_choice")&&l.jsx("div",{className:"space-y-4",children:Object.entries(m.options||{}).map(([v,y],p)=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:`font-medium ${r?"text-gray-300":"text-gray-700"}`,children:y.text}),l.jsxs("span",{className:`font-bold ${r?"text-gray-300":"text-gray-700"}`,children:[y.count," (",y.percentage,"%)"]})]}),l.jsx("div",{className:`h-8 rounded-lg overflow-hidden ${r?"bg-gray-700":"bg-gray-200"}`,children:l.jsx("div",{className:`h-full ${d(p)} transition-all duration-500 flex items-center justify-center text-white text-sm font-semibold`,style:{width:`${y.percentage}%`},children:y.percentage>10&&`${y.percentage}%`})})]},v))}),m.type==="rating"&&l.jsxs("div",{children:[l.jsxs("div",{className:`text-center mb-6 p-4 rounded-lg ${r?"bg-gray-800":"bg-white"}`,children:[l.jsx("div",{className:`text-5xl font-bold mb-2 ${r?"text-white":"text-gray-900"}`,children:m.average_rating||0}),l.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Average Rating"})]}),l.jsx("div",{className:"space-y-3",children:Object.entries(m.rating_distribution||{}).sort((v,y)=>parseInt(y[0])-parseInt(v[0])).map(([v,y],p)=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`w-12 text-right font-semibold ${r?"text-gray-300":"text-gray-700"}`,children:[v," "]}),l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:`h-6 rounded-lg overflow-hidden ${r?"bg-gray-700":"bg-gray-200"}`,children:l.jsx("div",{className:`h-full ${d(p)} transition-all duration-500`,style:{width:`${y.percentage}%`}})})}),l.jsxs("div",{className:`w-20 text-right ${r?"text-gray-400":"text-gray-600"}`,children:[y.count," (",y.percentage,"%)"]})]},v))})]}),m.type==="open_ended"&&l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:m.text_responses&&m.text_responses.length>0?m.text_responses.map((v,y)=>l.jsxs("div",{className:`p-4 rounded-lg ${r?"bg-gray-800":"bg-white"} border ${r?"border-gray-700":"border-gray-200"}`,children:[l.jsxs("p",{className:`mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:['"',v.text,'"']}),l.jsxs("div",{className:"text-xs text-gray-500",children:[v.user?l.jsxs("span",{children:[" ",v.user.full_name]}):l.jsx("span",{children:" Anonymous"}),v.created_at&&l.jsx("span",{className:"ml-2",children:new Date(v.created_at).toLocaleDateString()})]})]},y)):l.jsx("p",{className:`text-center py-4 ${r?"text-gray-500":"text-gray-400"}`,children:"No responses yet"})})]},g))})]})}),l.jsx("div",{className:`sticky bottom-0 ${r?"bg-gray-800":"bg-white"} border-t ${r?"border-gray-700":"border-gray-200"} px-6 py-4`,children:l.jsx("button",{onClick:t,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-purple-700",children:"Close"})})]})})},p0="/api",k9=()=>{const{user:e}=We(),{socket:t}=Es(),{darkMode:r}=bt(),[n,i]=b.useState([]),[a,o]=b.useState(!0),[s,c]=b.useState(!1),[u,d]=b.useState(null),[f,h]=b.useState(!1),[m,g]=b.useState("all");b.useEffect(()=>{v()},[m]),b.useEffect(()=>{if(t)return t.on("new_poll",j=>{i(k=>[j,...k])}),t.on("poll_voted",({poll_id:j,total_votes:k})=>{i(P=>P.map(A=>A.id===j?{...A,total_votes:k}:A))}),t.on("poll_closed",({poll_id:j})=>{i(k=>k.map(P=>P.id===j?{...P,status:"closed"}:P))}),()=>{t.off("new_poll"),t.off("poll_voted"),t.off("poll_closed")}},[t]);const v=async()=>{try{const j=localStorage.getItem("token"),k=m!=="all"?{status:m}:{},P=await Ke.get(`${p0}/api/polls`,{headers:{Authorization:`Bearer ${j}`},params:k});i(P.data)}catch(j){console.error("Error fetching polls:",j)}finally{o(!1)}},y=j=>{i([j,...n]),c(!1)},p=j=>{v()},x=j=>{d(j),h(!0)},w=async j=>{var k,P;try{const A=localStorage.getItem("token");await Ke.post(`${p0}/api/polls/${j}/close`,{},{headers:{Authorization:`Bearer ${A}`}}),v()}catch(A){console.error("Error closing poll:",A),alert(((P=(k=A.response)==null?void 0:k.data)==null?void 0:P.detail)||"Failed to close poll")}},_=async j=>{var k,P;if(confirm("Are you sure you want to delete this poll?"))try{const A=localStorage.getItem("token");await Ke.delete(`${p0}/api/polls/${j}`,{headers:{Authorization:`Bearer ${A}`}}),i(n.filter(M=>M.id!==j))}catch(A){console.error("Error deleting poll:",A),alert(((P=(k=A.response)==null?void 0:k.data)==null?void 0:P.detail)||"Failed to delete poll")}};return l.jsxs(fr,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:`text-3xl font-bold ${r?"text-white":"text-gray-900"}`,children:" Polls & Surveys"}),l.jsx("p",{className:`mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Participate in team polls and see what others think"})]}),(e==null?void 0:e.role)==="admin"&&l.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg","data-testid":"create-poll-btn",children:"+ Create Poll"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${m==="all"?"bg-blue-500 text-white":r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,"data-testid":"filter-all",children:"All Polls"}),l.jsx("button",{onClick:()=>g("active"),className:`px-4 py-2 rounded-lg font-medium transition-all ${m==="active"?"bg-green-500 text-white":r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,"data-testid":"filter-active",children:"Active"}),l.jsx("button",{onClick:()=>g("closed"),className:`px-4 py-2 rounded-lg font-medium transition-all ${m==="closed"?"bg-gray-500 text-white":r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,"data-testid":"filter-closed",children:"Closed"})]})]}),l.jsx("div",{children:a?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),l.jsx("p",{className:`mt-4 ${r?"text-gray-400":"text-gray-600"}`,children:"Loading polls..."})]}):n.length===0?l.jsxs("div",{className:`text-center py-12 ${r?"bg-gray-800":"bg-white"} rounded-lg shadow`,children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:`text-xl font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"No polls available"}),l.jsx("p",{className:r?"text-gray-400":"text-gray-600",children:(e==null?void 0:e.role)==="admin"?"Create your first poll to get started!":"Check back later for new polls!"})]}):l.jsx("div",{className:"grid gap-6","data-testid":"polls-list",children:n.map(j=>l.jsx(j9,{poll:j,onVoteSubmitted:p,onViewResults:x,onClosePoll:w,onDeletePoll:_},j.id))})}),s&&l.jsx(w9,{onClose:()=>c(!1),onPollCreated:y}),f&&u&&l.jsx(N9,{poll:u,onClose:()=>{h(!1),d(null)}})]})};var uk={exports:{}},Nc={},pg={exports:{}};(function(e,t){(function(r,n){n(t)})(yO,function(r){function n(F){return function(Z,T,C,W,G,fe,ae){return F(Z,T,ae)}}function i(F){return function(Z,T,C,W){if(!Z||!T||typeof Z!="object"||typeof T!="object")return F(Z,T,C,W);var G=W.get(Z),fe=W.get(T);if(G&&fe)return G===T&&fe===Z;W.set(Z,T),W.set(T,Z);var ae=F(Z,T,C,W);return W.delete(Z),W.delete(T),ae}}function a(F,$){var Z={};for(var T in F)Z[T]=F[T];for(var T in $)Z[T]=$[T];return Z}function o(F){return F.constructor===Object||F.constructor==null}function s(F){return typeof F.then=="function"}function c(F,$){return F===$||F!==F&&$!==$}var u="[object Arguments]",d="[object Boolean]",f="[object Date]",h="[object RegExp]",m="[object Map]",g="[object Number]",v="[object Object]",y="[object Set]",p="[object String]",x=Object.prototype.toString;function w(F){var $=F.areArraysEqual,Z=F.areDatesEqual,T=F.areMapsEqual,C=F.areObjectsEqual,W=F.areRegExpsEqual,G=F.areSetsEqual,fe=F.createIsNestedEqual,ae=fe(pe);function pe(_e,De,ut){if(_e===De)return!0;if(!_e||!De||typeof _e!="object"||typeof De!="object")return _e!==_e&&De!==De;if(o(_e)&&o(De))return C(_e,De,ae,ut);var Er=Array.isArray(_e),pt=Array.isArray(De);if(Er||pt)return Er===pt&&$(_e,De,ae,ut);var st=x.call(_e);return st!==x.call(De)?!1:st===f?Z(_e,De,ae,ut):st===h?W(_e,De,ae,ut):st===m?T(_e,De,ae,ut):st===y?G(_e,De,ae,ut):st===v||st===u?s(_e)||s(De)?!1:C(_e,De,ae,ut):st===d||st===g||st===p?c(_e.valueOf(),De.valueOf()):!1}return pe}function _(F,$,Z,T){var C=F.length;if($.length!==C)return!1;for(;C-- >0;)if(!Z(F[C],$[C],C,C,F,$,T))return!1;return!0}var j=i(_);function k(F,$){return c(F.valueOf(),$.valueOf())}function P(F,$,Z,T){var C=F.size===$.size;if(!C)return!1;if(!F.size)return!0;var W={},G=0;return F.forEach(function(fe,ae){if(C){var pe=!1,_e=0;$.forEach(function(De,ut){!pe&&!W[_e]&&(pe=Z(ae,ut,G,_e,F,$,T)&&Z(fe,De,ae,ut,F,$,T))&&(W[_e]=!0),_e++}),G++,C=pe}}),C}var A=i(P),M="_owner",R=Object.prototype.hasOwnProperty;function L(F,$,Z,T){var C=Object.keys(F),W=C.length;if(Object.keys($).length!==W)return!1;for(var G;W-- >0;){if(G=C[W],G===M){var fe=!!F.$$typeof,ae=!!$.$$typeof;if((fe||ae)&&fe!==ae)return!1}if(!R.call($,G)||!Z(F[G],$[G],G,G,F,$,T))return!1}return!0}var U=i(L);function X(F,$){return F.source===$.source&&F.flags===$.flags}function J(F,$,Z,T){var C=F.size===$.size;if(!C)return!1;if(!F.size)return!0;var W={};return F.forEach(function(G,fe){if(C){var ae=!1,pe=0;$.forEach(function(_e,De){!ae&&!W[pe]&&(ae=Z(G,_e,fe,De,F,$,T))&&(W[pe]=!0),pe++}),C=ae}}),C}var le=i(J),Y=Object.freeze({areArraysEqual:_,areDatesEqual:k,areMapsEqual:P,areObjectsEqual:L,areRegExpsEqual:X,areSetsEqual:J,createIsNestedEqual:n}),Q=Object.freeze({areArraysEqual:j,areDatesEqual:k,areMapsEqual:A,areObjectsEqual:U,areRegExpsEqual:X,areSetsEqual:le,createIsNestedEqual:n}),q=w(Y);function te(F,$){return q(F,$,void 0)}var ie=w(a(Y,{createIsNestedEqual:function(){return c}}));function oe(F,$){return ie(F,$,void 0)}var se=w(Q);function we(F,$){return se(F,$,new WeakMap)}var Ce=w(a(Q,{createIsNestedEqual:function(){return c}}));function ge(F,$){return Ce(F,$,new WeakMap)}function z(F){return w(a(Y,F(Y)))}function B(F){var $=w(a(Q,F(Q)));return function(Z,T,C){return C===void 0&&(C=new WeakMap),$(Z,T,C)}}r.circularDeepEqual=we,r.circularShallowEqual=ge,r.createCustomCircularEqual=B,r.createCustomEqual=z,r.deepEqual=te,r.sameValueZeroEqual=c,r.shallowEqual=oe,Object.defineProperty(r,"__esModule",{value:!0})})})(pg,pg.exports);var Tv=pg.exports;const uh=my(T$);var ke={},E9=function(t,r,n){return t===r?!0:t.className===r.className&&n(t.style,r.style)&&t.width===r.width&&t.autoSize===r.autoSize&&t.cols===r.cols&&t.draggableCancel===r.draggableCancel&&t.draggableHandle===r.draggableHandle&&n(t.verticalCompact,r.verticalCompact)&&n(t.compactType,r.compactType)&&n(t.layout,r.layout)&&n(t.margin,r.margin)&&n(t.containerPadding,r.containerPadding)&&t.rowHeight===r.rowHeight&&t.maxRows===r.maxRows&&t.isBounded===r.isBounded&&t.isDraggable===r.isDraggable&&t.isResizable===r.isResizable&&t.allowOverlap===r.allowOverlap&&t.preventCollision===r.preventCollision&&t.useCSSTransforms===r.useCSSTransforms&&t.transformScale===r.transformScale&&t.isDroppable===r.isDroppable&&n(t.resizeHandles,r.resizeHandles)&&n(t.resizeHandle,r.resizeHandle)&&t.onLayoutChange===r.onLayoutChange&&t.onDragStart===r.onDragStart&&t.onDrag===r.onDrag&&t.onDragStop===r.onDragStop&&t.onResizeStart===r.onResizeStart&&t.onResize===r.onResize&&t.onResizeStop===r.onResizeStop&&t.onDrop===r.onDrop&&n(t.droppingItem,r.droppingItem)&&n(t.innerRef,r.innerRef)};Object.defineProperty(ke,"__esModule",{value:!0});ke.bottom=Av;ke.childrenEqual=P9;ke.cloneLayout=dk;ke.cloneLayoutItem=$a;ke.collides=dh;ke.compact=hk;ke.compactItem=pk;ke.compactType=H9;ke.correctBounds=mk;ke.fastPositionEqual=T9;ke.fastRGLPropsEqual=void 0;ke.getAllCollisions=gk;ke.getFirstCollision=ka;ke.getLayoutItem=Rv;ke.getStatics=Dv;ke.modifyLayout=fk;ke.moveElement=pl;ke.moveElementAwayFromCollision=gg;ke.noop=void 0;ke.perc=R9;ke.resizeItemInDirection=B9;ke.setTopLeft=z9;ke.setTransform=F9;ke.sortLayoutItems=Fv;ke.sortLayoutItemsByColRow=wk;ke.sortLayoutItemsByRowCol=bk;ke.synchronizeLayoutWithChildren=U9;ke.validateLayout=W9;ke.withLayoutItem=O9;var r2=Tv,hl=C9(b);function C9(e){return e&&e.__esModule?e:{default:e}}function Av(e){let t=0,r;for(let n=0,i=e.length;n<i;n++)r=e[n].y+e[n].h,r>t&&(t=r);return t}function dk(e){const t=Array(e.length);for(let r=0,n=e.length;r<n;r++)t[r]=$a(e[r]);return t}function fk(e,t){const r=Array(e.length);for(let n=0,i=e.length;n<i;n++)t.i===e[n].i?r[n]=t:r[n]=e[n];return r}function O9(e,t,r){let n=Rv(e,t);return n?(n=r($a(n)),e=fk(e,n),[e,n]):[e,null]}function $a(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function P9(e,t){return(0,r2.deepEqual)(hl.default.Children.map(e,r=>r==null?void 0:r.key),hl.default.Children.map(t,r=>r==null?void 0:r.key))&&(0,r2.deepEqual)(hl.default.Children.map(e,r=>r==null?void 0:r.props["data-grid"]),hl.default.Children.map(t,r=>r==null?void 0:r.props["data-grid"]))}ke.fastRGLPropsEqual=E9;function T9(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function dh(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function hk(e,t,r,n){const i=Dv(e),a=Fv(e,t),o=Array(e.length);for(let s=0,c=a.length;s<c;s++){let u=$a(a[s]);u.static||(u=pk(i,u,t,r,a,n),i.push(u)),o[e.indexOf(a[s])]=u,u.moved=!1}return o}const A9={x:"w",y:"h"};function mg(e,t,r,n){const i=A9[n];t[n]+=1;const a=e.map(o=>o.i).indexOf(t.i);for(let o=a+1;o<e.length;o++){const s=e[o];if(!s.static){if(s.y>t.y+t.h)break;dh(t,s)&&mg(e,s,r+t[i],n)}}t[n]=r}function pk(e,t,r,n,i,a){const o=r==="vertical",s=r==="horizontal";if(o)for(t.y=Math.min(Av(e),t.y);t.y>0&&!ka(e,t);)t.y--;else if(s)for(;t.x>0&&!ka(e,t);)t.x--;let c;for(;(c=ka(e,t))&&!(r===null&&a);)if(s?mg(i,t,c.x+c.w,"x"):mg(i,t,c.y+c.h,"y"),s&&t.x+t.w>n)for(t.x=n-t.w,t.y++;t.x>0&&!ka(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function mk(e,t){const r=Dv(e);for(let n=0,i=e.length;n<i;n++){const a=e[n];if(a.x+a.w>t.cols&&(a.x=t.cols-a.w),a.x<0&&(a.x=0,a.w=t.cols),!a.static)r.push(a);else for(;ka(r,a);)a.y++}return e}function Rv(e,t){for(let r=0,n=e.length;r<n;r++)if(e[r].i===t)return e[r]}function ka(e,t){for(let r=0,n=e.length;r<n;r++)if(dh(e[r],t))return e[r]}function gk(e,t){return e.filter(r=>dh(r,t))}function Dv(e){return e.filter(t=>t.static)}function pl(e,t,r,n,i,a,o,s,c){if(t.static&&t.isDraggable!==!0||t.y===n&&t.x===r)return e;`${t.i}${String(r)}${String(n)}${t.x}${t.y}`;const u=t.x,d=t.y;typeof r=="number"&&(t.x=r),typeof n=="number"&&(t.y=n),t.moved=!0;let f=Fv(e,o);(o==="vertical"&&typeof n=="number"?d>=n:o==="horizontal"&&typeof r=="number"?u>=r:!1)&&(f=f.reverse());const m=gk(f,t),g=m.length>0;if(g&&c)return dk(e);if(g&&a)return`${t.i}`,t.x=u,t.y=d,t.moved=!1,e;for(let v=0,y=m.length;v<y;v++){const p=m[v];`${t.i}${t.x}${t.y}${p.i}${p.x}${p.y}`,!p.moved&&(p.static?e=gg(e,p,t,i,o):e=gg(e,t,p,i,o))}return e}function gg(e,t,r,n,i,a){const o=i==="horizontal",s=i==="vertical",c=t.static;if(n){n=!1;const f={x:o?Math.max(t.x-r.w,0):r.x,y:s?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},h=ka(e,f),m=h&&h.y+h.h>t.y,g=h&&t.x+t.w>h.x;if(h){if(m&&s)return pl(e,r,void 0,t.y+1,n,c,i);if(m&&i==null)return t.y=r.y,r.y=r.y+r.h,e;if(g&&o)return pl(e,t,r.x,void 0,n,c,i)}else return`${r.i}${f.x}${f.y}`,pl(e,r,o?f.x:void 0,s?f.y:void 0,n,c,i)}const u=o?r.x+1:void 0,d=s?r.y+1:void 0;return u==null&&d==null?e:pl(e,r,o?r.x+1:void 0,s?r.y+1:void 0,n,c,i)}function R9(e){return e*100+"%"}const yk=(e,t,r,n)=>e+r>n?t:r,vk=(e,t,r)=>e<0?t:r,xk=e=>Math.max(0,e),Mv=e=>Math.max(0,e),$v=(e,t,r)=>{let{left:n,height:i,width:a}=t;const o=e.top-(i-e.height);return{left:n,width:a,height:vk(o,e.height,i),top:Mv(o)}},Lv=(e,t,r)=>{let{top:n,left:i,height:a,width:o}=t;return{top:n,height:a,width:yk(e.left,e.width,o,r),left:xk(i)}},Iv=(e,t,r)=>{let{top:n,height:i,width:a}=t;const o=e.left-(a-e.width);return{height:i,width:o<0?e.width:yk(e.left,e.width,a,r),top:Mv(n),left:xk(o)}},Bv=(e,t,r)=>{let{top:n,left:i,height:a,width:o}=t;return{width:o,left:i,height:vk(n,e.height,a),top:Mv(n)}},D9=function(){return $v(arguments.length<=0?void 0:arguments[0],Lv(...arguments))},M9=function(){return $v(arguments.length<=0?void 0:arguments[0],Iv(...arguments))},$9=function(){return Bv(arguments.length<=0?void 0:arguments[0],Lv(...arguments))},L9=function(){return Bv(arguments.length<=0?void 0:arguments[0],Iv(...arguments))},I9={n:$v,ne:D9,e:Lv,se:$9,s:Bv,sw:L9,w:Iv,nw:M9};function B9(e,t,r,n){const i=I9[e];return i?i(t,{...t,...r},n):r}function F9(e){let{top:t,left:r,width:n,height:i}=e;const a=`translate(${r}px,${t}px)`;return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:`${n}px`,height:`${i}px`,position:"absolute"}}function z9(e){let{top:t,left:r,width:n,height:i}=e;return{top:`${t}px`,left:`${r}px`,width:`${n}px`,height:`${i}px`,position:"absolute"}}function Fv(e,t){return t==="horizontal"?wk(e):t==="vertical"?bk(e):e}function bk(e){return e.slice(0).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function wk(e){return e.slice(0).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function U9(e,t,r,n,i){e=e||[];const a=[];hl.default.Children.forEach(t,s=>{if((s==null?void 0:s.key)==null)return;const c=Rv(e,String(s.key)),u=s.props["data-grid"];c&&u==null?a.push($a(c)):u?a.push($a({...u,i:s.key})):a.push($a({w:1,h:1,x:0,y:Av(a),i:String(s.key)}))});const o=mk(a,{cols:r});return i?o:hk(o,n,r)}function W9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let n=0,i=e.length;n<i;n++){const a=e[n];for(let o=0;o<r.length;o++){const s=r[o],c=a[s];if(typeof c!="number"||Number.isNaN(c))throw new Error(`ReactGridLayout: ${t}[${n}].${s} must be a number! Received: ${c} (${typeof c})`)}if(typeof a.i<"u"&&typeof a.i!="string")throw new Error(`ReactGridLayout: ${t}[${n}].i must be a string! Received: ${a.i} (${typeof a.i})`)}}function H9(e){const{verticalCompact:t,compactType:r}=e||{};return t===!1?null:r}const q9=()=>{};ke.noop=q9;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.calcGridColWidth=fh;Vn.calcGridItemPosition=V9;Vn.calcGridItemWHPx=yg;Vn.calcWH=Y9;Vn.calcXY=K9;Vn.clamp=Ea;function fh(e){const{margin:t,containerPadding:r,containerWidth:n,cols:i}=e;return(n-t[0]*(i-1)-r[0]*2)/i}function yg(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function V9(e,t,r,n,i,a){const{margin:o,containerPadding:s,rowHeight:c}=e,u=fh(e),d={};return a&&a.resizing?(d.width=Math.round(a.resizing.width),d.height=Math.round(a.resizing.height)):(d.width=yg(n,u,o[0]),d.height=yg(i,c,o[1])),a&&a.dragging?(d.top=Math.round(a.dragging.top),d.left=Math.round(a.dragging.left)):a&&a.resizing&&typeof a.resizing.top=="number"&&typeof a.resizing.left=="number"?(d.top=Math.round(a.resizing.top),d.left=Math.round(a.resizing.left)):(d.top=Math.round((c+o[1])*r+s[1]),d.left=Math.round((u+o[0])*t+s[0])),d}function K9(e,t,r,n,i){const{margin:a,containerPadding:o,cols:s,rowHeight:c,maxRows:u}=e,d=fh(e);let f=Math.round((r-o[0])/(d+a[0])),h=Math.round((t-o[1])/(c+a[1]));return f=Ea(f,0,s-n),h=Ea(h,0,u-i),{x:f,y:h}}function Y9(e,t,r,n,i,a){const{margin:o,maxRows:s,cols:c,rowHeight:u}=e,d=fh(e);let f=Math.round((t+o[0])/(d+o[0])),h=Math.round((r+o[1])/(u+o[1])),m=Ea(f,0,c-n),g=Ea(h,0,s-i);return["sw","w","nw"].indexOf(a)!==-1&&(m=Ea(f,0,c)),["nw","n","ne"].indexOf(a)!==-1&&(g=Ea(h,0,s)),{w:m,h:g}}function Ea(e,t,r){return Math.max(Math.min(e,r),t)}var hh={},_k={exports:{}},G9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",X9=G9,Q9=X9;function jk(){}function Sk(){}Sk.resetWarningCache=jk;var J9=function(){function e(n,i,a,o,s,c){if(c!==Q9){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Sk,resetWarningCache:jk};return r.PropTypes=r,r};_k.exports=J9();var la=_k.exports,ph={exports:{}},Nk={},ct={},Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.dontSetMe=nL;Kn.findInArray=Z9;Kn.int=rL;Kn.isFunction=eL;Kn.isNum=tL;function Z9(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function eL(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function tL(e){return typeof e=="number"&&!isNaN(e)}function rL(e){return parseInt(e,10)}function nL(e,t,r){if(e[t])return new Error(`Invalid prop ${t} passed to ${r} - do not set this, set it on the child.`)}var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.browserPrefixToKey=Ek;oo.browserPrefixToStyle=iL;oo.default=void 0;oo.getPrefix=kk;const m0=["Moz","Webkit","O","ms"];function kk(){var r,n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(n=(r=window.document)==null?void 0:r.documentElement)==null?void 0:n.style;if(!t||e in t)return"";for(let i=0;i<m0.length;i++)if(Ek(e,m0[i])in t)return m0[i];return""}function Ek(e,t){return t?`${t}${aL(e)}`:e}function iL(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function aL(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}oo.default=kk();Object.defineProperty(ct,"__esModule",{value:!0});ct.addClassName=Pk;ct.addEvent=sL;ct.addUserSelectStyles=vL;ct.createCSSTransform=pL;ct.createSVGTransform=mL;ct.getTouch=gL;ct.getTouchIdentifier=yL;ct.getTranslation=zv;ct.innerHeight=dL;ct.innerWidth=fL;ct.matchesSelector=Ok;ct.matchesSelectorAndParentsTo=oL;ct.offsetXYFromParent=hL;ct.outerHeight=cL;ct.outerWidth=uL;ct.removeClassName=Tk;ct.removeEvent=lL;ct.scheduleRemoveUserSelectStyles=xL;var $r=Kn,n2=Ck(oo);function Ck(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(Ck=function(i,a){if(!a&&i&&i.__esModule)return i;var o,s,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(o=a?n:r){if(o.has(i))return o.get(i);o.set(i,c)}for(const u in i)u!=="default"&&{}.hasOwnProperty.call(i,u)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,u))&&(s.get||s.set)?o(c,u,s):c[u]=i[u]);return c})(e,t)}let hu="";function Ok(e,t){return hu||(hu=(0,$r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,$r.isFunction)(e[r])})),(0,$r.isFunction)(e[hu])?e[hu](t):!1}function oL(e,t,r){let n=e;do{if(Ok(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function sL(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function lL(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function cL(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,$r.int)(r.borderTopWidth),t+=(0,$r.int)(r.borderBottomWidth),t}function uL(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,$r.int)(r.borderLeftWidth),t+=(0,$r.int)(r.borderRightWidth),t}function dL(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,$r.int)(r.paddingTop),t-=(0,$r.int)(r.paddingBottom),t}function fL(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,$r.int)(r.paddingLeft),t-=(0,$r.int)(r.paddingRight),t}function hL(e,t,r){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-i.left)/r,o=(e.clientY+t.scrollTop-i.top)/r;return{x:a,y:o}}function pL(e,t){const r=zv(e,t,"px");return{[(0,n2.browserPrefixToKey)("transform",n2.default)]:r}}function mL(e,t){return zv(e,t,"")}function zv(e,t,r){let{x:n,y:i}=e,a=`translate(${n}${r},${i}${r})`;if(t){const o=`${typeof t.x=="string"?t.x:t.x+r}`,s=`${typeof t.y=="string"?t.y:t.y+r}`;a=`translate(${o}, ${s})`+a}return a}function gL(e,t){return e.targetTouches&&(0,$r.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,$r.findInArray)(e.changedTouches,r=>t===r.identifier)}function yL(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function vL(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Pk(e.body,"react-draggable-transparent-selection")}function xL(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{i2(e)}):i2(e)}function i2(e){if(e)try{if(e.body&&Tk(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Pk(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Tk(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.canDragX=_L;Yn.canDragY=jL;Yn.createCoreData=NL;Yn.createDraggableData=kL;Yn.getBoundPosition=bL;Yn.getControlPosition=SL;Yn.snapToGrid=wL;var Cr=Kn,Do=ct;function bL(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:EL(n);const i=Uv(e);if(typeof n=="string"){const{ownerDocument:a}=i,o=a.defaultView;let s;if(n==="parent"?s=i.parentNode:s=i.getRootNode().querySelector(n),!(s instanceof o.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const c=s,u=o.getComputedStyle(i),d=o.getComputedStyle(c);n={left:-i.offsetLeft+(0,Cr.int)(d.paddingLeft)+(0,Cr.int)(u.marginLeft),top:-i.offsetTop+(0,Cr.int)(d.paddingTop)+(0,Cr.int)(u.marginTop),right:(0,Do.innerWidth)(c)-(0,Do.outerWidth)(i)-i.offsetLeft+(0,Cr.int)(d.paddingRight)-(0,Cr.int)(u.marginRight),bottom:(0,Do.innerHeight)(c)-(0,Do.outerHeight)(i)-i.offsetTop+(0,Cr.int)(d.paddingBottom)-(0,Cr.int)(u.marginBottom)}}return(0,Cr.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,Cr.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,Cr.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,Cr.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function wL(e,t,r){const n=Math.round(t/e[0])*e[0],i=Math.round(r/e[1])*e[1];return[n,i]}function _L(e){return e.props.axis==="both"||e.props.axis==="x"}function jL(e){return e.props.axis==="both"||e.props.axis==="y"}function SL(e,t,r){const n=typeof t=="number"?(0,Do.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const i=Uv(r),a=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Do.offsetXYFromParent)(n||e,a,r.props.scale)}function NL(e,t,r){const n=!(0,Cr.isNum)(e.lastX),i=Uv(e);return n?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:i,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function kL(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function EL(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Uv(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var mh={},gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.default=CL;function CL(){}Object.defineProperty(mh,"__esModule",{value:!0});mh.default=void 0;var g0=Ak(b),rr=Wv(la),OL=Wv(gc),Kt=ct,Ei=Yn,y0=Kn,Gs=Wv(gh);function Wv(e){return e&&e.__esModule?e:{default:e}}function Ak(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(Ak=function(i,a){if(!a&&i&&i.__esModule)return i;var o,s,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(o=a?n:r){if(o.has(i))return o.get(i);o.set(i,c)}for(const u in i)u!=="default"&&{}.hasOwnProperty.call(i,u)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,u))&&(s.get||s.set)?o(c,u,s):c[u]=i[u]);return c})(e,t)}function nr(e,t,r){return(t=PL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PL(e){var t=TL(e,"string");return typeof t=="symbol"?t:t+""}function TL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const mn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ci=mn.mouse,yh=class extends g0.Component{constructor(){super(...arguments),nr(this,"dragging",!1),nr(this,"lastX",NaN),nr(this,"lastY",NaN),nr(this,"touchIdentifier",null),nr(this,"mounted",!1),nr(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,Kt.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,Kt.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const i=(0,Kt.getTouchIdentifier)(t);this.touchIdentifier=i;const a=(0,Ei.getControlPosition)(t,i,this);if(a==null)return;const{x:o,y:s}=a,c=(0,Ei.createCoreData)(this,o,s);(0,Gs.default)("DraggableCore: handleDragStart: %j",c),(0,Gs.default)("calling",this.props.onStart),!(this.props.onStart(t,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Kt.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=s,(0,Kt.addEvent)(n,Ci.move,this.handleDrag),(0,Kt.addEvent)(n,Ci.stop,this.handleDragStop))}),nr(this,"handleDrag",t=>{const r=(0,Ei.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let s=n-this.lastX,c=i-this.lastY;if([s,c]=(0,Ei.snapToGrid)(this.props.grid,s,c),!s&&!c)return;n=this.lastX+s,i=this.lastY+c}const a=(0,Ei.createCoreData)(this,n,i);if((0,Gs.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(t,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=n,this.lastY=i}),nr(this,"handleDragStop",t=>{if(!this.dragging)return;const r=(0,Ei.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let c=n-this.lastX||0,u=i-this.lastY||0;[c,u]=(0,Ei.snapToGrid)(this.props.grid,c,u),n=this.lastX+c,i=this.lastY+u}const a=(0,Ei.createCoreData)(this,n,i);if(this.props.onStop(t,a)===!1||this.mounted===!1)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,Kt.scheduleRemoveUserSelectStyles)(s.ownerDocument),(0,Gs.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,Gs.default)("DraggableCore: Removing handlers"),(0,Kt.removeEvent)(s.ownerDocument,Ci.move,this.handleDrag),(0,Kt.removeEvent)(s.ownerDocument,Ci.stop,this.handleDragStop))}),nr(this,"onMouseDown",t=>(Ci=mn.mouse,this.handleDragStart(t))),nr(this,"onMouseUp",t=>(Ci=mn.mouse,this.handleDragStop(t))),nr(this,"onTouchStart",t=>(Ci=mn.touch,this.handleDragStart(t))),nr(this,"onTouchEnd",t=>(Ci=mn.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Kt.addEvent)(t,mn.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:r}=t;(0,Kt.removeEvent)(r,mn.mouse.move,this.handleDrag),(0,Kt.removeEvent)(r,mn.touch.move,this.handleDrag),(0,Kt.removeEvent)(r,mn.mouse.stop,this.handleDragStop),(0,Kt.removeEvent)(r,mn.touch.stop,this.handleDragStop),(0,Kt.removeEvent)(t,mn.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Kt.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){var t,r,n;return(t=this.props)!=null&&t.nodeRef?(n=(r=this.props)==null?void 0:r.nodeRef)==null?void 0:n.current:OL.default.findDOMNode(this)}render(){return g0.cloneElement(g0.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};mh.default=yh;nr(yh,"displayName","DraggableCore");nr(yh,"propTypes",{allowAnyClick:rr.default.bool,allowMobileScroll:rr.default.bool,children:rr.default.node.isRequired,disabled:rr.default.bool,enableUserSelectHack:rr.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:rr.default.arrayOf(rr.default.number),handle:rr.default.string,cancel:rr.default.string,nodeRef:rr.default.object,onStart:rr.default.func,onDrag:rr.default.func,onStop:rr.default.func,onMouseDown:rr.default.func,scale:rr.default.number,className:y0.dontSetMe,style:y0.dontSetMe,transform:y0.dontSetMe});nr(yh,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var t=f(b),r=d(la),n=d(gc),i=uh,a=ct,o=Yn,s=Kn,c=d(mh),u=d(gh);function d(p){return p&&p.__esModule?p:{default:p}}function f(p,x){if(typeof WeakMap=="function")var w=new WeakMap,_=new WeakMap;return(f=function(j,k){if(!k&&j&&j.__esModule)return j;var P,A,M={__proto__:null,default:j};if(j===null||typeof j!="object"&&typeof j!="function")return M;if(P=k?_:w){if(P.has(j))return P.get(j);P.set(j,M)}for(const R in j)R!=="default"&&{}.hasOwnProperty.call(j,R)&&((A=(P=Object.defineProperty)&&Object.getOwnPropertyDescriptor(j,R))&&(A.get||A.set)?P(M,R,A):M[R]=j[R]);return M})(p,x)}function h(){return h=Object.assign?Object.assign.bind():function(p){for(var x=1;x<arguments.length;x++){var w=arguments[x];for(var _ in w)({}).hasOwnProperty.call(w,_)&&(p[_]=w[_])}return p},h.apply(null,arguments)}function m(p,x,w){return(x=g(x))in p?Object.defineProperty(p,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[x]=w,p}function g(p){var x=v(p,"string");return typeof x=="symbol"?x:x+""}function v(p,x){if(typeof p!="object"||!p)return p;var w=p[Symbol.toPrimitive];if(w!==void 0){var _=w.call(p,x);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(p)}class y extends t.Component{static getDerivedStateFromProps(x,w){let{position:_}=x,{prevPropsPosition:j}=w;return _&&(!j||_.x!==j.x||_.y!==j.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:_,prevPropsPosition:j}),{x:_.x,y:_.y,prevPropsPosition:{..._}}):null}constructor(x){super(x),m(this,"onDragStart",(w,_)=>{if((0,u.default)("Draggable: onDragStart: %j",_),this.props.onStart(w,(0,o.createDraggableData)(this,_))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(w,_)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",_);const j=(0,o.createDraggableData)(this,_),k={x:j.x,y:j.y,slackX:0,slackY:0};if(this.props.bounds){const{x:A,y:M}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[R,L]=(0,o.getBoundPosition)(this,k.x,k.y);k.x=R,k.y=L,k.slackX=this.state.slackX+(A-k.x),k.slackY=this.state.slackY+(M-k.y),j.x=k.x,j.y=k.y,j.deltaX=k.x-this.state.x,j.deltaY=k.y-this.state.y}if(this.props.onDrag(w,j)===!1)return!1;this.setState(k)}),m(this,"onDragStop",(w,_)=>{if(!this.state.dragging||this.props.onStop(w,(0,o.createDraggableData)(this,_))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",_);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:A,y:M}=this.props.position;k.x=A,k.y=M}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:x.position?x.position.x:x.defaultPosition.x,y:x.position?x.position.y:x.defaultPosition.y,prevPropsPosition:{...x.position},slackX:0,slackY:0,isElementSVG:!1},x.position&&!(x.onDrag||x.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var x,w;return((w=(x=this.props)==null?void 0:x.nodeRef)==null?void 0:w.current)??n.default.findDOMNode(this)}render(){const{axis:x,bounds:w,children:_,defaultPosition:j,defaultClassName:k,defaultClassNameDragging:P,defaultClassNameDragged:A,position:M,positionOffset:R,scale:L,...U}=this.props;let X={},J=null;const Y=!!!M||this.state.dragging,Q=M||j,q={x:(0,o.canDragX)(this)&&Y?this.state.x:Q.x,y:(0,o.canDragY)(this)&&Y?this.state.y:Q.y};this.state.isElementSVG?J=(0,a.createSVGTransform)(q,R):X=(0,a.createCSSTransform)(q,R);const te=(0,i.clsx)(_.props.className||"",k,{[P]:this.state.dragging,[A]:this.state.dragged});return t.createElement(c.default,h({},U,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(_),{className:te,style:{..._.props.style,...X},transform:J}))}}e.default=y,m(y,"displayName","Draggable"),m(y,"propTypes",{...c.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),m(y,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Nk);const{default:Rk,DraggableCore:AL}=Nk;ph.exports=Rk;ph.exports.default=Rk;ph.exports.DraggableCore=AL;var Dk=ph.exports,vh={exports:{}},kc={},Hv={};Hv.__esModule=!0;Hv.cloneElement=IL;var RL=DL(b);function DL(e){return e&&e.__esModule?e:{default:e}}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function o2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){ML(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ML(e,t,r){return t=$L(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=LL(e,"string");return typeof t=="symbol"?t:String(t)}function LL(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IL(e,t){return t.style&&e.props.style&&(t.style=o2(o2({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),RL.default.cloneElement(e,t)}var Ec={};Ec.__esModule=!0;Ec.resizableProps=void 0;var Se=BL(la);function BL(e){return e&&e.__esModule?e:{default:e}}var FL={axis:Se.default.oneOf(["both","x","y","none"]),className:Se.default.string,children:Se.default.element.isRequired,draggableOpts:Se.default.shape({allowAnyClick:Se.default.bool,cancel:Se.default.string,children:Se.default.node,disabled:Se.default.bool,enableUserSelectHack:Se.default.bool,offsetParent:Se.default.node,grid:Se.default.arrayOf(Se.default.number),handle:Se.default.string,nodeRef:Se.default.object,onStart:Se.default.func,onDrag:Se.default.func,onStop:Se.default.func,onMouseDown:Se.default.func,scale:Se.default.number}),height:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(i.axis==="both"||i.axis==="y"){var a;return(a=Se.default.number).isRequired.apply(a,r)}return Se.default.number.apply(Se.default,r)},handle:Se.default.oneOfType([Se.default.node,Se.default.func]),handleSize:Se.default.arrayOf(Se.default.number),lockAspectRatio:Se.default.bool,maxConstraints:Se.default.arrayOf(Se.default.number),minConstraints:Se.default.arrayOf(Se.default.number),onResizeStop:Se.default.func,onResizeStart:Se.default.func,onResize:Se.default.func,resizeHandles:Se.default.arrayOf(Se.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Se.default.number,width:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(i.axis==="both"||i.axis==="x"){var a;return(a=Se.default.number).isRequired.apply(a,r)}return Se.default.number.apply(Se.default,r)}};Ec.resizableProps=FL;kc.__esModule=!0;kc.default=void 0;var Xs=qL(b),zL=Dk,UL=Hv,WL=Ec,HL=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Mk(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Mk=function(i){return i?r:t})(e)}function qL(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Mk(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(this,arguments)}function VL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){KL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KL(e,t,r){return t=YL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YL(e){var t=GL(e,"string");return typeof t=="symbol"?t:String(t)}function GL(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xg(e,t)}function xg(e,t){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xg(e,t)}var qv=function(e){XL(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.handleRefs={},n.lastHandleRect=null,n.slack=null,n}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(i,a){var o=this.props,s=o.minConstraints,c=o.maxConstraints,u=o.lockAspectRatio;if(!s&&!c&&!u)return[i,a];if(u){var d=this.props.width/this.props.height,f=i-this.props.width,h=a-this.props.height;Math.abs(f)>Math.abs(h*d)?a=i/d:i=a*d}var m=i,g=a,v=this.slack||[0,0],y=v[0],p=v[1];return i+=y,a+=p,s&&(i=Math.max(s[0],i),a=Math.max(s[1],a)),c&&(i=Math.min(c[0],i),a=Math.min(c[1],a)),this.slack=[y+(m-i),p+(g-a)],[i,a]},r.resizeHandler=function(i,a){var o=this;return function(s,c){var u=c.node,d=c.deltaX,f=c.deltaY;i==="onResizeStart"&&o.resetData();var h=(o.props.axis==="both"||o.props.axis==="x")&&a!=="n"&&a!=="s",m=(o.props.axis==="both"||o.props.axis==="y")&&a!=="e"&&a!=="w";if(!(!h&&!m)){var g=a[0],v=a[a.length-1],y=u.getBoundingClientRect();if(o.lastHandleRect!=null){if(v==="w"){var p=y.left-o.lastHandleRect.left;d+=p}if(g==="n"){var x=y.top-o.lastHandleRect.top;f+=x}}o.lastHandleRect=y,v==="w"&&(d=-d),g==="n"&&(f=-f);var w=o.props.width+(h?d/o.props.transformScale:0),_=o.props.height+(m?f/o.props.transformScale:0),j=o.runConstraints(w,_);w=j[0],_=j[1];var k=w!==o.props.width||_!==o.props.height,P=typeof o.props[i]=="function"?o.props[i]:null,A=i==="onResize"&&!k;P&&!A&&(s.persist==null||s.persist(),P(s,{node:u,size:{width:w,height:_},handle:a})),i==="onResizeStop"&&o.resetData()}}},r.renderResizeHandle=function(i,a){var o=this.props.handle;if(!o)return Xs.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:a});if(typeof o=="function")return o(i,a);var s=typeof o.type=="string",c=v0({ref:a},s?{}:{handleAxis:i});return Xs.cloneElement(o,c)},r.render=function(){var i=this,a=this.props,o=a.children,s=a.className,c=a.draggableOpts;a.width,a.height,a.handle,a.handleSize,a.lockAspectRatio,a.axis,a.minConstraints,a.maxConstraints,a.onResize,a.onResizeStop,a.onResizeStart;var u=a.resizeHandles;a.transformScale;var d=VL(a,HL);return(0,UL.cloneElement)(o,v0(v0({},d),{},{className:(s?s+" ":"")+"react-resizable",children:[].concat(o.props.children,u.map(function(f){var h,m=(h=i.handleRefs[f])!=null?h:i.handleRefs[f]=Xs.createRef();return Xs.createElement(zL.DraggableCore,vg({},c,{nodeRef:m,key:"resizableHandle-"+f,onStop:i.resizeHandler("onResizeStop",f),onStart:i.resizeHandler("onResizeStart",f),onDrag:i.resizeHandler("onResize",f)}),i.renderResizeHandle(f,m))}))}))},t}(Xs.Component);kc.default=qv;qv.propTypes=WL.resizableProps;qv.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var xh={};xh.__esModule=!0;xh.default=void 0;var x0=tI(b),QL=$k(la),JL=$k(kc),ZL=Ec,eI=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function $k(e){return e&&e.__esModule?e:{default:e}}function Lk(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Lk=function(i){return i?r:t})(e)}function tI(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Lk(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(this,arguments)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){rI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rI(e,t,r){return t=nI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nI(e){var t=iI(e,"string");return typeof t=="symbol"?t:String(t)}function iI(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aI(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function oI(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wg(e,t)}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wg(e,t)}var Ik=function(e){oI(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.state={width:n.props.width,height:n.props.height,propsWidth:n.props.width,propsHeight:n.props.height},n.onResize=function(s,c){var u=c.size;n.props.onResize?(s.persist==null||s.persist(),n.setState(u,function(){return n.props.onResize&&n.props.onResize(s,c)})):n.setState(u)},n}t.getDerivedStateFromProps=function(i,a){return a.propsWidth!==i.width||a.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var r=t.prototype;return r.render=function(){var i=this.props,a=i.handle,o=i.handleSize;i.onResize;var s=i.onResizeStart,c=i.onResizeStop,u=i.draggableOpts,d=i.minConstraints,f=i.maxConstraints,h=i.lockAspectRatio,m=i.axis;i.width,i.height;var g=i.resizeHandles,v=i.style,y=i.transformScale,p=aI(i,eI);return x0.createElement(JL.default,{axis:m,draggableOpts:u,handle:a,handleSize:o,height:this.state.height,lockAspectRatio:h,maxConstraints:f,minConstraints:d,onResizeStart:s,onResize:this.onResize,onResizeStop:c,resizeHandles:g,transformScale:y,width:this.state.width},x0.createElement("div",bg({},p,{style:Bd(Bd({},v),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(x0.Component);xh.default=Ik;Ik.propTypes=Bd(Bd({},ZL.resizableProps),{},{children:QL.default.element});vh.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};vh.exports.Resizable=kc.default;vh.exports.ResizableBox=xh.default;var sI=vh.exports,ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.resizeHandleType=ii.resizeHandleAxesType=ii.default=void 0;var Ne=Bk(la),lI=Bk(b);function Bk(e){return e&&e.__esModule?e:{default:e}}const cI=ii.resizeHandleAxesType=Ne.default.arrayOf(Ne.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),uI=ii.resizeHandleType=Ne.default.oneOfType([Ne.default.node,Ne.default.func]);ii.default={className:Ne.default.string,style:Ne.default.object,width:Ne.default.number,autoSize:Ne.default.bool,cols:Ne.default.number,draggableCancel:Ne.default.string,draggableHandle:Ne.default.string,verticalCompact:function(e){e.verticalCompact},compactType:Ne.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;t!==void 0&&ke.validateLayout(t,"layout")},margin:Ne.default.arrayOf(Ne.default.number),containerPadding:Ne.default.arrayOf(Ne.default.number),rowHeight:Ne.default.number,maxRows:Ne.default.number,isBounded:Ne.default.bool,isDraggable:Ne.default.bool,isResizable:Ne.default.bool,allowOverlap:Ne.default.bool,preventCollision:Ne.default.bool,useCSSTransforms:Ne.default.bool,transformScale:Ne.default.number,isDroppable:Ne.default.bool,resizeHandles:cI,resizeHandle:uI,onLayoutChange:Ne.default.func,onDragStart:Ne.default.func,onDrag:Ne.default.func,onDragStop:Ne.default.func,onResizeStart:Ne.default.func,onResize:Ne.default.func,onResizeStop:Ne.default.func,onDrop:Ne.default.func,droppingItem:Ne.default.shape({i:Ne.default.string.isRequired,w:Ne.default.number.isRequired,h:Ne.default.number.isRequired}),children:function(e,t){const r=e[t],n={};lI.default.Children.forEach(r,function(i){if((i==null?void 0:i.key)!=null){if(n[i.key])throw new Error('Duplicate child key "'+i.key+'" found! This will cause problems in ReactGridLayout.');n[i.key]=!0}})},innerRef:Ne.default.any};Object.defineProperty(hh,"__esModule",{value:!0});hh.default=void 0;var po=Vv(b),c2=gc,$e=Vv(la),dI=Dk,fI=sI,mo=ke,It=Vn,u2=ii,hI=Vv(uh);function Vv(e){return e&&e.__esModule?e:{default:e}}function Rn(e,t,r){return(t=pI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pI(e){var t=mI(e,"string");return typeof t=="symbol"?t:t+""}function mI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Kv extends po.default.Component{constructor(){super(...arguments),Rn(this,"state",{resizing:null,dragging:null,className:""}),Rn(this,"elementRef",po.default.createRef()),Rn(this,"onDragStart",(t,r)=>{let{node:n}=r;const{onDragStart:i,transformScale:a}=this.props;if(!i)return;const o={top:0,left:0},{offsetParent:s}=n;if(!s)return;const c=s.getBoundingClientRect(),u=n.getBoundingClientRect(),d=u.left/a,f=c.left/a,h=u.top/a,m=c.top/a;o.left=d-f+s.scrollLeft,o.top=h-m+s.scrollTop,this.setState({dragging:o});const{x:g,y:v}=(0,It.calcXY)(this.getPositionParams(),o.top,o.left,this.props.w,this.props.h);return i.call(this,this.props.i,g,v,{e:t,node:n,newPosition:o})}),Rn(this,"onDrag",(t,r,n)=>{let{node:i,deltaX:a,deltaY:o}=r;const{onDrag:s}=this.props;if(!s)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let c=this.state.dragging.top+o,u=this.state.dragging.left+a;const{isBounded:d,i:f,w:h,h:m,containerWidth:g}=this.props,v=this.getPositionParams();if(d){const{offsetParent:w}=i;if(w){const{margin:_,rowHeight:j}=this.props,k=w.clientHeight-(0,It.calcGridItemWHPx)(m,j,_[1]);c=(0,It.clamp)(c,0,k);const P=(0,It.calcGridColWidth)(v),A=g-(0,It.calcGridItemWHPx)(h,P,_[0]);u=(0,It.clamp)(u,0,A)}}const y={top:c,left:u};n?this.setState({dragging:y}):(0,c2.flushSync)(()=>{this.setState({dragging:y})});const{x:p,y:x}=(0,It.calcXY)(v,c,u,h,m);return s.call(this,f,p,x,{e:t,node:i,newPosition:y})}),Rn(this,"onDragStop",(t,r)=>{let{node:n}=r;const{onDragStop:i}=this.props;if(!i)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:a,h:o,i:s}=this.props,{left:c,top:u}=this.state.dragging,d={top:u,left:c};this.setState({dragging:null});const{x:f,y:h}=(0,It.calcXY)(this.getPositionParams(),u,c,a,o);return i.call(this,s,f,h,{e:t,node:n,newPosition:d})}),Rn(this,"onResizeStop",(t,r,n)=>this.onResizeHandler(t,r,n,"onResizeStop")),Rn(this,"onResizeStart",(t,r,n)=>this.onResizeHandler(t,r,n,"onResizeStart")),Rn(this,"onResize",(t,r,n)=>this.onResizeHandler(t,r,n,"onResize"))}shouldComponentUpdate(t,r){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;const n=(0,It.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),i=(0,It.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,r);return!(0,mo.fastPositionEqual)(n,i)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){const{droppingPosition:r}=this.props;if(!r)return;const n=this.elementRef.current;if(!n)return;const i=t.droppingPosition||{left:0,top:0},{dragging:a}=this.state,o=a&&r.left!==i.left||r.top!==i.top;if(!a)this.onDragStart(r.e,{node:n,deltaX:r.left,deltaY:r.top});else if(o){const s=r.left-a.left,c=r.top-a.top;this.onDrag(r.e,{node:n,deltaX:s,deltaY:c},!0)}}getPositionParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){const{usePercentages:r,containerWidth:n,useCSSTransforms:i}=this.props;let a;return i?a=(0,mo.setTransform)(t):(a=(0,mo.setTopLeft)(t),r&&(a.left=(0,mo.perc)(t.left/n),a.width=(0,mo.perc)(t.width/n))),a}mixinDraggable(t,r){return po.default.createElement(dI.DraggableCore,{disabled:!r,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,r){return(n,i)=>r(n,i,t)}mixinResizable(t,r,n){const{cols:i,minW:a,minH:o,maxW:s,maxH:c,transformScale:u,resizeHandles:d,resizeHandle:f}=this.props,h=this.getPositionParams(),m=(0,It.calcGridItemPosition)(h,0,0,i,0).width,g=(0,It.calcGridItemPosition)(h,0,0,a,o),v=(0,It.calcGridItemPosition)(h,0,0,s,c),y=[g.width,g.height],p=[Math.min(v.width,m),Math.min(v.height,1/0)];return po.default.createElement(fI.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:r.width,height:r.height,minConstraints:y,maxConstraints:p,onResizeStop:this.curryResizeHandler(r,this.onResizeStop),onResizeStart:this.curryResizeHandler(r,this.onResizeStart),onResize:this.curryResizeHandler(r,this.onResize),transformScale:u,resizeHandles:d,handle:f},t)}onResizeHandler(t,r,n,i){let{node:a,size:o,handle:s}=r;const c=this.props[i];if(!c)return;const{x:u,y:d,i:f,maxH:h,minH:m,containerWidth:g}=this.props,{minW:v,maxW:y}=this.props;let p=o;a&&(p=(0,mo.resizeItemInDirection)(s,n,o,g),(0,c2.flushSync)(()=>{this.setState({resizing:i==="onResizeStop"?null:p})}));let{w:x,h:w}=(0,It.calcWH)(this.getPositionParams(),p.width,p.height,u,d,s);x=(0,It.clamp)(x,Math.max(v,1),y),w=(0,It.clamp)(w,m,h),c.call(this,f,x,w,{e:t,node:a,size:p,handle:s})}render(){const{x:t,y:r,w:n,h:i,isDraggable:a,isResizable:o,droppingPosition:s,useCSSTransforms:c}=this.props,u=(0,It.calcGridItemPosition)(this.getPositionParams(),t,r,n,i,this.state),d=po.default.Children.only(this.props.children);let f=po.default.cloneElement(d,{ref:this.elementRef,className:(0,hI.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":a,"react-draggable-dragging":!!this.state.dragging,dropping:!!s,cssTransforms:c}),style:{...this.props.style,...d.props.style,...this.createStyle(u)}});return f=this.mixinResizable(f,u,o),f=this.mixinDraggable(f,a),f}}hh.default=Kv;Rn(Kv,"propTypes",{children:$e.default.element,cols:$e.default.number.isRequired,containerWidth:$e.default.number.isRequired,rowHeight:$e.default.number.isRequired,margin:$e.default.array.isRequired,maxRows:$e.default.number.isRequired,containerPadding:$e.default.array.isRequired,x:$e.default.number.isRequired,y:$e.default.number.isRequired,w:$e.default.number.isRequired,h:$e.default.number.isRequired,minW:function(e,t){const r=e[t];if(typeof r!="number")return new Error("minWidth not Number");if(r>e.w||r>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,t){const r=e[t];if(typeof r!="number")return new Error("maxWidth not Number");if(r<e.w||r<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,t){const r=e[t];if(typeof r!="number")return new Error("minHeight not Number");if(r>e.h||r>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,t){const r=e[t];if(typeof r!="number")return new Error("maxHeight not Number");if(r<e.h||r<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:$e.default.string.isRequired,resizeHandles:u2.resizeHandleAxesType,resizeHandle:u2.resizeHandleType,onDragStop:$e.default.func,onDragStart:$e.default.func,onDrag:$e.default.func,onResizeStop:$e.default.func,onResizeStart:$e.default.func,onResize:$e.default.func,isDraggable:$e.default.bool.isRequired,isResizable:$e.default.bool.isRequired,isBounded:$e.default.bool.isRequired,static:$e.default.bool,useCSSTransforms:$e.default.bool.isRequired,transformScale:$e.default.number,className:$e.default.string,handle:$e.default.string,cancel:$e.default.string,droppingPosition:$e.default.shape({e:$e.default.object.isRequired,left:$e.default.number.isRequired,top:$e.default.number.isRequired})});Rn(Kv,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default=void 0;var ha=Fk(b),b0=Tv,gI=Yv(uh),be=ke,yI=Vn,d2=Yv(hh),vI=Yv(ii);function Yv(e){return e&&e.__esModule?e:{default:e}}function Fk(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(Fk=function(i,a){if(!a&&i&&i.__esModule)return i;var o,s,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(o=a?n:r){if(o.has(i))return o.get(i);o.set(i,c)}for(const u in i)u!=="default"&&{}.hasOwnProperty.call(i,u)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,u))&&(s.get||s.set)?o(c,u,s):c[u]=i[u]);return c})(e,t)}function Gt(e,t,r){return(t=xI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xI(e){var t=bI(e,"string");return typeof t=="symbol"?t:t+""}function bI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const f2="react-grid-layout";let zk=!1;try{zk=/firefox/i.test(navigator.userAgent)}catch{}class bh extends ha.Component{constructor(){super(...arguments),Gt(this,"state",{activeDrag:null,layout:(0,be.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,be.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),Gt(this,"dragEnterCounter",0),Gt(this,"onDragStart",(t,r,n,i)=>{let{e:a,node:o}=i;const{layout:s}=this.state,c=(0,be.getLayoutItem)(s,t);if(!c)return;const u={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,be.cloneLayoutItem)(c),oldLayout:s,activeDrag:u}),this.props.onDragStart(s,c,c,null,a,o)}),Gt(this,"onDrag",(t,r,n,i)=>{let{e:a,node:o}=i;const{oldDragItem:s}=this.state;let{layout:c}=this.state;const{cols:u,allowOverlap:d,preventCollision:f}=this.props,h=(0,be.getLayoutItem)(c,t);if(!h)return;const m={w:h.w,h:h.h,x:h.x,y:h.y,placeholder:!0,i:t};c=(0,be.moveElement)(c,h,r,n,!0,f,(0,be.compactType)(this.props),u,d),this.props.onDrag(c,s,h,m,a,o),this.setState({layout:d?c:(0,be.compact)(c,(0,be.compactType)(this.props),u),activeDrag:m})}),Gt(this,"onDragStop",(t,r,n,i)=>{let{e:a,node:o}=i;if(!this.state.activeDrag)return;const{oldDragItem:s}=this.state;let{layout:c}=this.state;const{cols:u,preventCollision:d,allowOverlap:f}=this.props,h=(0,be.getLayoutItem)(c,t);if(!h)return;c=(0,be.moveElement)(c,h,r,n,!0,d,(0,be.compactType)(this.props),u,f);const g=f?c:(0,be.compact)(c,(0,be.compactType)(this.props),u);this.props.onDragStop(g,s,h,null,a,o);const{oldLayout:v}=this.state;this.setState({activeDrag:null,layout:g,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(g,v)}),Gt(this,"onResizeStart",(t,r,n,i)=>{let{e:a,node:o}=i;const{layout:s}=this.state,c=(0,be.getLayoutItem)(s,t);c&&(this.setState({oldResizeItem:(0,be.cloneLayoutItem)(c),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(s,c,c,null,a,o))}),Gt(this,"onResize",(t,r,n,i)=>{let{e:a,node:o,size:s,handle:c}=i;const{oldResizeItem:u}=this.state,{layout:d}=this.state,{cols:f,preventCollision:h,allowOverlap:m}=this.props;let g=!1,v,y,p;const[x,w]=(0,be.withLayoutItem)(d,t,j=>{let k;return y=j.x,p=j.y,["sw","w","nw","n","ne"].indexOf(c)!==-1&&(["sw","nw","w"].indexOf(c)!==-1&&(y=j.x+(j.w-r),r=j.x!==y&&y<0?j.w:r,y=y<0?0:y),["ne","n","nw"].indexOf(c)!==-1&&(p=j.y+(j.h-n),n=j.y!==p&&p<0?j.h:n,p=p<0?0:p),g=!0),h&&!m&&(k=(0,be.getAllCollisions)(d,{...j,w:r,h:n,x:y,y:p}).filter(A=>A.i!==j.i).length>0,k&&(p=j.y,n=j.h,y=j.x,r=j.w,g=!1)),j.w=r,j.h=n,j});if(!w)return;v=x,g&&(v=(0,be.moveElement)(x,w,y,p,!0,this.props.preventCollision,(0,be.compactType)(this.props),f,m));const _={w:w.w,h:w.h,x:w.x,y:w.y,static:!0,i:t};this.props.onResize(v,u,w,_,a,o),this.setState({layout:m?v:(0,be.compact)(v,(0,be.compactType)(this.props),f),activeDrag:_})}),Gt(this,"onResizeStop",(t,r,n,i)=>{let{e:a,node:o}=i;const{layout:s,oldResizeItem:c}=this.state,{cols:u,allowOverlap:d}=this.props,f=(0,be.getLayoutItem)(s,t),h=d?s:(0,be.compact)(s,(0,be.compactType)(this.props),u);this.props.onResizeStop(h,c,f,null,a,o);const{oldLayout:m}=this.state;this.setState({activeDrag:null,layout:h,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(h,m)}),Gt(this,"onDragOver",t=>{var x;if(t.preventDefault(),t.stopPropagation(),zk&&!((x=t.nativeEvent.target)!=null&&x.classList.contains(f2)))return!1;const{droppingItem:r,onDropDragOver:n,margin:i,cols:a,rowHeight:o,maxRows:s,width:c,containerPadding:u,transformScale:d}=this.props,f=n==null?void 0:n(t);if(f===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const h={...r,...f},{layout:m}=this.state,g=t.currentTarget.getBoundingClientRect(),v=t.clientX-g.left,y=t.clientY-g.top,p={left:v/d,top:y/d,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:w,top:_}=this.state.droppingPosition;(w!=v||_!=y)&&this.setState({droppingPosition:p})}}else{const w={cols:a,margin:i,maxRows:s,rowHeight:o,containerWidth:c,containerPadding:u||i},_=(0,yI.calcXY)(w,y,v,h.w,h.h);this.setState({droppingDOMNode:ha.createElement("div",{key:h.i}),droppingPosition:p,layout:[...m,{...h,x:_.x,y:_.y,static:!1,isDraggable:!0}]})}}),Gt(this,"removeDroppingPlaceholder",()=>{const{droppingItem:t,cols:r}=this.props,{layout:n}=this.state,i=(0,be.compact)(n.filter(a=>a.i!==t.i),(0,be.compactType)(this.props),r,this.props.allowOverlap);this.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),Gt(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),Gt(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),Gt(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();const{droppingItem:r}=this.props,{layout:n}=this.state,i=n.find(a=>a.i===r.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,i,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,r){let n;return r.activeDrag?null:(!(0,b0.deepEqual)(t.layout,r.propsLayout)||t.compactType!==r.compactType?n=t.layout:(0,be.childrenEqual)(t.children,r.children)||(n=r.layout),n?{layout:(0,be.synchronizeLayoutWithChildren)(n,t.children,t.cols,(0,be.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,r){return this.props.children!==t.children||!(0,be.fastRGLPropsEqual)(this.props,t,b0.deepEqual)||this.state.activeDrag!==r.activeDrag||this.state.mounted!==r.mounted||this.state.droppingPosition!==r.droppingPosition}componentDidUpdate(t,r){if(!this.state.activeDrag){const n=this.state.layout,i=r.layout;this.onLayoutMaybeChanged(n,i)}}containerHeight(){if(!this.props.autoSize)return;const t=(0,be.bottom)(this.state.layout),r=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+r*2+"px"}onLayoutMaybeChanged(t,r){r||(r=this.state.layout),(0,b0.deepEqual)(r,t)||this.props.onLayoutChange(t)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:r,cols:n,margin:i,containerPadding:a,rowHeight:o,maxRows:s,useCSSTransforms:c,transformScale:u}=this.props;return ha.createElement(d2.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:r,cols:n,margin:i,containerPadding:a||i,maxRows:s,rowHeight:o,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:u},ha.createElement("div",null))}processGridItem(t,r){if(!t||!t.key)return;const n=(0,be.getLayoutItem)(this.state.layout,String(t.key));if(!n)return null;const{width:i,cols:a,margin:o,containerPadding:s,rowHeight:c,maxRows:u,isDraggable:d,isResizable:f,isBounded:h,useCSSTransforms:m,transformScale:g,draggableCancel:v,draggableHandle:y,resizeHandles:p,resizeHandle:x}=this.props,{mounted:w,droppingPosition:_}=this.state,j=typeof n.isDraggable=="boolean"?n.isDraggable:!n.static&&d,k=typeof n.isResizable=="boolean"?n.isResizable:!n.static&&f,P=n.resizeHandles||p,A=j&&h&&n.isBounded!==!1;return ha.createElement(d2.default,{containerWidth:i,cols:a,margin:o,containerPadding:s||o,maxRows:u,rowHeight:c,cancel:v,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:j,isResizable:k,isBounded:A,useCSSTransforms:m&&w,usePercentages:!w,transformScale:g,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:r?_:void 0,resizeHandles:P,resizeHandle:x},t)}render(){const{className:t,style:r,isDroppable:n,innerRef:i}=this.props,a=(0,gI.default)(f2,t),o={height:this.containerHeight(),...r};return ha.createElement("div",{ref:i,className:a,style:o,onDrop:n?this.onDrop:be.noop,onDragLeave:n?this.onDragLeave:be.noop,onDragEnter:n?this.onDragEnter:be.noop,onDragOver:n?this.onDragOver:be.noop},ha.Children.map(this.props.children,s=>this.processGridItem(s)),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}Nc.default=bh;Gt(bh,"displayName","ReactGridLayout");Gt(bh,"propTypes",vI.default);Gt(bh,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:be.noop,onDragStart:be.noop,onDrag:be.noop,onDragStop:be.noop,onResizeStart:be.noop,onResize:be.noop,onResizeStop:be.noop,onDrop:be.noop,onDropDragOver:be.noop});var wh={},so={};Object.defineProperty(so,"__esModule",{value:!0});so.findOrGenerateResponsiveLayout=jI;so.getBreakpointFromWidth=wI;so.getColsFromBreakpoint=_I;so.sortBreakpoints=Gv;var pu=ke;function wI(e,t){const r=Gv(e);let n=r[0];for(let i=1,a=r.length;i<a;i++){const o=r[i];t>e[o]&&(n=o)}return n}function _I(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function jI(e,t,r,n,i,a){if(e[r])return(0,pu.cloneLayout)(e[r]);let o=e[n];const s=Gv(t),c=s.slice(s.indexOf(r));for(let u=0,d=c.length;u<d;u++){const f=c[u];if(e[f]){o=e[f];break}}return o=(0,pu.cloneLayout)(o||[]),(0,pu.compact)((0,pu.correctBounds)(o,{cols:i}),a,i)}function Gv(e){return Object.keys(e).sort(function(r,n){return e[r]-e[n]})}Object.defineProperty(wh,"__esModule",{value:!0});wh.default=void 0;var h2=Wk(b),gr=Uk(la),w0=Tv,Ho=ke,pa=so,SI=Uk(Nc);function Uk(e){return e&&e.__esModule?e:{default:e}}function Wk(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(Wk=function(i,a){if(!a&&i&&i.__esModule)return i;var o,s,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(o=a?n:r){if(o.has(i))return o.get(i);o.set(i,c)}for(const u in i)u!=="default"&&{}.hasOwnProperty.call(i,u)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,u))&&(s.get||s.set)?o(c,u,s):c[u]=i[u]);return c})(e,t)}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(null,arguments)}function Fd(e,t,r){return(t=NI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NI(e){var t=kI(e,"string");return typeof t=="symbol"?t:t+""}function kI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const p2=e=>Object.prototype.toString.call(e);function mu(e,t){return e==null?null:Array.isArray(e)?e:e[t]}class Xv extends h2.Component{constructor(){super(...arguments),Fd(this,"state",this.generateInitialState()),Fd(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){const{width:t,breakpoints:r,layouts:n,cols:i}=this.props,a=(0,pa.getBreakpointFromWidth)(r,t),o=(0,pa.getColsFromBreakpoint)(a,i),s=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,pa.findOrGenerateResponsiveLayout)(n,r,a,a,o,s),breakpoint:a,cols:o}}static getDerivedStateFromProps(t,r){if(!(0,w0.deepEqual)(t.layouts,r.layouts)){const{breakpoint:n,cols:i}=r;return{layout:(0,pa.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,i,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,w0.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,w0.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){const{breakpoints:r,cols:n,layouts:i,compactType:a}=this.props,o=this.props.breakpoint||(0,pa.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),s=this.state.breakpoint,c=(0,pa.getColsFromBreakpoint)(o,n),u={...i};if(s!==o||t.breakpoints!==r||t.cols!==n){s in u||(u[s]=(0,Ho.cloneLayout)(this.state.layout));let h=(0,pa.findOrGenerateResponsiveLayout)(u,r,o,s,c,a);h=(0,Ho.synchronizeLayoutWithChildren)(h,this.props.children,c,a,this.props.allowOverlap),u[o]=h,this.props.onBreakpointChange(o,c),this.props.onLayoutChange(h,u),this.setState({breakpoint:o,layout:h,cols:c})}const d=mu(this.props.margin,o),f=mu(this.props.containerPadding,o);this.props.onWidthChange(this.props.width,d,c,f)}render(){const{breakpoint:t,breakpoints:r,cols:n,layouts:i,margin:a,containerPadding:o,onBreakpointChange:s,onLayoutChange:c,onWidthChange:u,...d}=this.props;return h2.createElement(SI.default,_g({},d,{margin:mu(a,this.state.breakpoint),containerPadding:mu(o,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}wh.default=Xv;Fd(Xv,"propTypes",{breakpoint:gr.default.string,breakpoints:gr.default.object,allowOverlap:gr.default.bool,cols:gr.default.object,margin:gr.default.oneOfType([gr.default.array,gr.default.object]),containerPadding:gr.default.oneOfType([gr.default.array,gr.default.object]),layouts(e,t){if(p2(e[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+p2(e[t]));Object.keys(e[t]).forEach(r=>{if(!(r in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Ho.validateLayout)(e.layouts[r],"layouts."+r)})},width:gr.default.number.isRequired,onBreakpointChange:gr.default.func,onLayoutChange:gr.default.func,onWidthChange:gr.default.func});Fd(Xv,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:Ho.noop,onLayoutChange:Ho.noop,onWidthChange:Ho.noop});var Qv={},Hk=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];r.call(n,o[1],o[0])}},t}()}(),jg=typeof window<"u"&&typeof document<"u"&&window.document===document,zd=function(){return typeof globalThis<"u"&&globalThis.Math===Math?globalThis:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),EI=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(zd):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),CI=2;function OI(e,t){var r=!1,n=!1,i=0;function a(){r&&(r=!1,e()),n&&s()}function o(){EI(a)}function s(){var c=Date.now();if(r){if(c-i<CI)return;n=!0}else r=!0,n=!1,setTimeout(o,t);i=c}return s}var PI=20,TI=["top","right","bottom","left","width","height","size","weight"],AI=typeof MutationObserver<"u",RI=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=OI(this.refresh.bind(this),PI)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!jg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),AI?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!jg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=TI.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),qk=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},as=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||zd},Vk=_h(0,0,0,0);function Ud(e){return parseFloat(e)||0}function m2(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var a=e["border-"+i+"-width"];return n+Ud(a)},0)}function DI(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var a=i[n],o=e["padding-"+a];r[a]=Ud(o)}return r}function MI(e){var t=e.getBBox();return _h(0,0,t.width,t.height)}function $I(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Vk;var n=as(e).getComputedStyle(e),i=DI(n),a=i.left+i.right,o=i.top+i.bottom,s=Ud(n.width),c=Ud(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==t&&(s-=m2(n,"left","right")+a),Math.round(c+o)!==r&&(c-=m2(n,"top","bottom")+o)),!II(e)){var u=Math.round(s+a)-t,d=Math.round(c+o)-r;Math.abs(u)!==1&&(s-=u),Math.abs(d)!==1&&(c-=d)}return _h(i.left,i.top,s,c)}var LI=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof as(e).SVGGraphicsElement}:function(e){return e instanceof as(e).SVGElement&&typeof e.getBBox=="function"}}();function II(e){return e===as(e).document.documentElement}function BI(e){return jg?LI(e)?MI(e):$I(e):Vk}function FI(e){var t=e.x,r=e.y,n=e.width,i=e.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return qk(o,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),o}function _h(e,t,r,n){return{x:e,y:t,width:r,height:n}}var zI=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_h(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=BI(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),UI=function(){function e(t,r){var n=FI(r);qk(this,{target:t,contentRect:n})}return e}(),WI=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new Hk,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof as(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new zI(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof as(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new UI(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Kk=typeof WeakMap<"u"?new WeakMap:new Hk,Yk=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=RI.getInstance(),n=new WI(t,r,this);Kk.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Yk.prototype[e]=function(){var t;return(t=Kk.get(this))[e].apply(t,arguments)}});var HI=function(){return typeof zd.ResizeObserver<"u"?zd.ResizeObserver:Yk}();const qI=Object.freeze(Object.defineProperty({__proto__:null,default:HI},Symbol.toStringTag,{value:"Module"})),VI=my(qI);Object.defineProperty(Qv,"__esModule",{value:!0});Qv.default=ZI;var gu=Gk(b),KI=Jv(la),YI=Jv(VI),GI=Jv(uh);function Jv(e){return e&&e.__esModule?e:{default:e}}function Gk(e,t){if(typeof WeakMap=="function")var r=new WeakMap,n=new WeakMap;return(Gk=function(i,a){if(!a&&i&&i.__esModule)return i;var o,s,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(o=a?n:r){if(o.has(i))return o.get(i);o.set(i,c)}for(const u in i)u!=="default"&&{}.hasOwnProperty.call(i,u)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,u))&&(s.get||s.set)?o(c,u,s):c[u]=i[u]);return c})(e,t)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(null,arguments)}function go(e,t,r){return(t=XI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XI(e){var t=QI(e,"string");return typeof t=="symbol"?t:t+""}function QI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const JI="react-grid-layout";function ZI(e){var t;return t=class extends gu.Component{constructor(){super(...arguments),go(this,"state",{width:1280}),go(this,"elementRef",gu.createRef()),go(this,"mounted",!1),go(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new YI.default(i=>{if(this.elementRef.current instanceof HTMLElement){const o=i[0].contentRect.width;this.setState({width:o})}});const n=this.elementRef.current;n instanceof HTMLElement&&this.resizeObserver.observe(n)}componentWillUnmount(){this.mounted=!1;const n=this.elementRef.current;n instanceof HTMLElement&&this.resizeObserver.unobserve(n),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:n,...i}=this.props;return n&&!this.mounted?gu.createElement("div",{className:(0,GI.default)(this.props.className,JI),style:this.props.style,ref:this.elementRef}):gu.createElement(e,Sg({innerRef:this.elementRef},i,this.state))}},go(t,"defaultProps",{measureBeforeMount:!1}),go(t,"propTypes",{measureBeforeMount:KI.default.bool}),t}(function(e){e.exports=Nc.default,e.exports.utils=ke,e.exports.calculateUtils=Vn,e.exports.Responsive=wh.default,e.exports.Responsive.utils=so,e.exports.WidthProvider=Qv.default})(uk);var eB=uk.exports;const tB=En(eB);function rB(){const{user:e}=We(),{darkMode:t}=bt(),r=Rt(),[n,i]=b.useState([]),[a,o]=b.useState(!1),[s,c]=b.useState(null),[u,d]=b.useState({title:"",url:"",icon:"",description:"",category:"general",is_external:!1}),f=(e==null?void 0:e.role)&&["admin","manager"].includes(e.role);b.useEffect(()=>{h()},[]);const h=async()=>{try{const y=await ue.get("/api/quick-links");i(y.data)}catch(y){console.error("Error fetching quick links:",y)}},m=async y=>{y.preventDefault();try{s?await ue.put(`/api/quick-links/${s.id}`,u):await ue.post("/api/quick-links",u),h(),o(!1),c(null),d({title:"",url:"",icon:"",description:"",category:"general",is_external:!1})}catch(p){console.error("Error saving quick link:",p)}},g=async y=>{if(window.confirm("Delete this quick link?"))try{await ue.delete(`/api/quick-links/${y}`),h()}catch(p){console.error("Error deleting quick link:",p)}},v=y=>{y.is_external?window.open(y.url,"_blank"):r(y.url)};return l.jsxs("div",{className:`h-full ${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 overflow-hidden flex flex-col`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:`text-lg font-bold ${t?"text-white":"text-gray-800"}`,children:" Quick Links"}),f&&l.jsx("button",{onClick:()=>o(!0),className:"p-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition","data-testid":"add-quick-link-button",children:l.jsx(Fi,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:n.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"No quick links yet"})]}):n.map(y=>l.jsx("div",{className:`group p-3 rounded-lg transition cursor-pointer ${t?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>v(y),"data-testid":`quick-link-${y.id}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[l.jsx("span",{className:"text-2xl",children:y.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:`font-semibold ${t?"text-white":"text-gray-800"}`,children:y.title}),y.is_external&&l.jsx(e$,{className:"text-xs text-blue-500"})]}),y.description&&l.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:y.description})]})]}),f&&l.jsxs("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition",children:[l.jsx("button",{onClick:p=>{p.stopPropagation(),c(y),d(y),o(!0)},className:"p-2 rounded bg-blue-500 text-white hover:bg-blue-600",children:l.jsx(qN,{className:"text-sm"})}),l.jsx("button",{onClick:p=>{p.stopPropagation(),g(y.id)},className:"p-2 rounded bg-red-500 text-white hover:bg-red-600",children:l.jsx(ZN,{className:"text-sm"})})]})]})},y.id))}),a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-md w-full p-6`,children:[l.jsx("h3",{className:`text-xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:s?"Edit Quick Link":"Add Quick Link"}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Title"}),l.jsx("input",{type:"text",value:u.title,onChange:y=>d({...u,title:y.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"URL"}),l.jsx("input",{type:"text",value:u.url,onChange:y=>d({...u,url:y.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"/dashboard or https://example.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Icon (emoji)"}),l.jsx("input",{type:"text",value:u.icon,onChange:y=>d({...u,icon:y.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,maxLength:2})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Description"}),l.jsx("input",{type:"text",value:u.description,onChange:y=>d({...u,description:y.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:u.is_external,onChange:y=>d({...u,is_external:y.target.checked}),className:"rounded"}),l.jsx("label",{className:`text-sm ${t?"text-gray-300":"text-gray-700"}`,children:"External link (opens in new tab)"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>{o(!1),c(null),d({title:"",url:"",icon:"",description:"",category:"general",is_external:!1})},className:`flex-1 px-4 py-2 rounded-lg transition ${t?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:s?"Update":"Create"})]})]})]})})]})}const Xk=6048e5,nB=864e5,Qk=6e4,Jk=36e5,yu=43200,g2=1440,y2=Symbol.for("constructDateFrom");function Wn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&y2 in e?e[y2](t):e instanceof Date?new e.constructor(t):new Date(t)}function xt(e,t){return Wn(t||e,e)}let iB={};function Cc(){return iB}function ec(e,t){var s,c,u,d;const r=Cc(),n=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=xt(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Wd(e,t){return ec(e,{...t,weekStartsOn:1})}function Zk(e,t){const r=xt(e,t==null?void 0:t.in),n=r.getFullYear(),i=Wn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Wd(i),o=Wn(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Wd(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function Hd(e){const t=xt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function jh(e,...t){const r=Wn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function v2(e,t){const r=xt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function aB(e,t,r){const[n,i]=jh(r==null?void 0:r.in,e,t),a=v2(n),o=v2(i),s=+a-Hd(a),c=+o-Hd(o);return Math.round((s-c)/nB)}function oB(e,t){const r=Zk(e,t),n=Wn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Wd(n)}function nd(e,t){const r=+xt(e)-+xt(t);return r<0?-1:r>0?1:r}function sB(e){return Wn(e,Date.now())}function lB(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function cB(e){return!(!lB(e)&&typeof e!="number"||isNaN(+xt(e)))}function uB(e,t,r){const[n,i]=jh(r==null?void 0:r.in,e,t),a=n.getFullYear()-i.getFullYear(),o=n.getMonth()-i.getMonth();return a*12+o}function dB(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function fB(e,t){return+xt(e)-+xt(t)}function hB(e,t){const r=xt(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function pB(e,t){const r=xt(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function mB(e,t){const r=xt(e,t==null?void 0:t.in);return+hB(r,t)==+pB(r,t)}function gB(e,t,r){const[n,i,a]=jh(r==null?void 0:r.in,e,e,t),o=nd(i,a),s=Math.abs(uB(i,a));if(s<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*s);let c=nd(i,a)===-o;mB(n)&&s===1&&nd(n,a)===1&&(c=!1);const u=o*(s-+c);return u===0?0:u}function yB(e,t,r){const n=fB(e,t)/1e3;return dB(r==null?void 0:r.roundingMethod)(n)}function vB(e,t){const r=xt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const xB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bB=(e,t,r)=>{let n;const i=xB[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const wB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_B={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SB={date:_0({formats:wB,defaultWidth:"full"}),time:_0({formats:_B,defaultWidth:"full"}),dateTime:_0({formats:jB,defaultWidth:"full"})},NB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kB=(e,t,r,n)=>NB[e];function Qs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const EB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},CB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},PB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},AB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RB=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},DB={ordinalNumber:RB,era:Qs({values:EB,defaultWidth:"wide"}),quarter:Qs({values:CB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qs({values:OB,defaultWidth:"wide"}),day:Qs({values:PB,defaultWidth:"wide"}),dayPeriod:Qs({values:TB,defaultWidth:"wide",formattingValues:AB,defaultFormattingWidth:"wide"})};function Js(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?$B(s,f=>f.test(o)):MB(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function MB(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function $B(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function LB(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const IB=/^(\d+)(th|st|nd|rd)?/i,BB=/\d+/i,FB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zB={any:[/^b/i,/^(a|c)/i]},UB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WB={any:[/1/i,/2/i,/3/i,/4/i]},HB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XB={ordinalNumber:LB({matchPattern:IB,parsePattern:BB,valueCallback:e=>parseInt(e,10)}),era:Js({matchPatterns:FB,defaultMatchWidth:"wide",parsePatterns:zB,defaultParseWidth:"any"}),quarter:Js({matchPatterns:UB,defaultMatchWidth:"wide",parsePatterns:WB,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Js({matchPatterns:HB,defaultMatchWidth:"wide",parsePatterns:qB,defaultParseWidth:"any"}),day:Js({matchPatterns:VB,defaultMatchWidth:"wide",parsePatterns:KB,defaultParseWidth:"any"}),dayPeriod:Js({matchPatterns:YB,defaultMatchWidth:"any",parsePatterns:GB,defaultParseWidth:"any"})},e6={code:"en-US",formatDistance:bB,formatLong:SB,formatRelative:kB,localize:DB,match:XB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QB(e,t){const r=xt(e,t==null?void 0:t.in);return aB(r,vB(r))+1}function JB(e,t){const r=xt(e,t==null?void 0:t.in),n=+Wd(r)-+oB(r);return Math.round(n/Xk)+1}function t6(e,t){var d,f,h,m;const r=xt(e,t==null?void 0:t.in),n=r.getFullYear(),i=Cc(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(h=i.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Wn((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=ec(o,t),c=Wn((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=ec(c,t);return+r>=+s?n+1:+r>=+u?n:n-1}function ZB(e,t){var s,c,u,d;const r=Cc(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=t6(e,t),a=Wn((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),ec(a,t)}function eF(e,t){const r=xt(e,t==null?void 0:t.in),n=+ec(r,t)-+ZB(r,t);return Math.round(n/Xk)+1}function Le(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Oi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Le(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Le(r+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Le(i,t.length)}},yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},x2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Oi.y(e,t)},Y:function(e,t,r,n){const i=t6(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Le(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Le(a,t.length)},R:function(e,t){const r=Zk(e);return Le(r,t.length)},u:function(e,t){const r=e.getFullYear();return Le(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Le(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Le(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Oi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Le(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=eF(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Le(i,t.length)},I:function(e,t,r){const n=JB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Le(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Oi.d(e,t)},D:function(e,t,r){const n=QB(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Le(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Le(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Le(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Le(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=yo.noon:n===0?i=yo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=yo.evening:n>=12?i=yo.afternoon:n>=4?i=yo.morning:i=yo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Oi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Oi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Oi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Oi.s(e,t)},S:function(e,t){return Oi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return w2(n);case"XXXX":case"XX":return ya(n);case"XXXXX":case"XXX":default:return ya(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return w2(n);case"xxxx":case"xx":return ya(n);case"xxxxx":case"xxx":default:return ya(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+b2(n,":");case"OOOO":default:return"GMT"+ya(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+b2(n,":");case"zzzz":default:return"GMT"+ya(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Le(n,t.length)},T:function(e,t,r){return Le(+e,t.length)}};function b2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Le(a,2)}function w2(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):ya(e,t)}function ya(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Le(Math.trunc(n/60),2),a=Le(n%60,2);return r+i+t+a}const _2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},r6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tF=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return _2(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",_2(n,t)).replace("{{time}}",r6(i,t))},rF={p:r6,P:tF},nF=/^D+$/,iF=/^Y+$/,aF=["D","DD","YY","YYYY"];function oF(e){return nF.test(e)}function sF(e){return iF.test(e)}function lF(e,t,r){const n=cF(e,t,r);if(console.warn(n),aF.includes(e))throw new RangeError(n)}function cF(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fF=/^'([^]*?)'?$/,hF=/''/g,pF=/[a-zA-Z]/;function j2(e,t,r){var d,f,h,m;const n=Cc(),i=n.locale??e6,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,s=xt(e,r==null?void 0:r.in);if(!cB(s))throw new RangeError("Invalid time value");let c=t.match(dF).map(g=>{const v=g[0];if(v==="p"||v==="P"){const y=rF[v];return y(g,i.formatLong)}return g}).join("").match(uF).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:mF(g)};if(x2[v])return{isToken:!0,value:g};if(v.match(pF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(g=>{if(!g.isToken)return g.value;const v=g.value;(sF(v)||oF(v))&&lF(v,t,String(e));const y=x2[v[0]];return y(s,v,i.localize,u)}).join("")}function mF(e){const t=e.match(fF);return t?t[1].replace(hF,"'"):e}function gF(e,t,r){const n=Cc(),i=(r==null?void 0:r.locale)??n.locale??e6,a=2520,o=nd(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const s=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[c,u]=jh(r==null?void 0:r.in,...o>0?[t,e]:[e,t]),d=yB(u,c),f=(Hd(u)-Hd(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,s):d<10?i.formatDistance("lessThanXSeconds",10,s):d<20?i.formatDistance("lessThanXSeconds",20,s):d<40?i.formatDistance("halfAMinute",0,s):d<60?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",1,s):h===0?i.formatDistance("lessThanXMinutes",1,s):i.formatDistance("xMinutes",h,s);if(h<45)return i.formatDistance("xMinutes",h,s);if(h<90)return i.formatDistance("aboutXHours",1,s);if(h<g2){const g=Math.round(h/60);return i.formatDistance("aboutXHours",g,s)}else{if(h<a)return i.formatDistance("xDays",1,s);if(h<yu){const g=Math.round(h/g2);return i.formatDistance("xDays",g,s)}else if(h<yu*2)return m=Math.round(h/yu),i.formatDistance("aboutXMonths",m,s)}if(m=gB(u,c),m<12){const g=Math.round(h/yu);return i.formatDistance("xMonths",g,s)}else{const g=m%12,v=Math.trunc(m/12);return g<3?i.formatDistance("aboutXYears",v,s):g<9?i.formatDistance("overXYears",v,s):i.formatDistance("almostXYears",v+1,s)}}function yF(e,t){return gF(e,sB(e),t)}function n6(e,t){const r=()=>Wn(t==null?void 0:t.in,NaN),i=wF(e);let a;if(i.date){const u=_F(i.date,2);a=jF(u.restDateString,u.year)}if(!a||isNaN(+a))return r();const o=+a;let s=0,c;if(i.time&&(s=SF(i.time),isNaN(s)))return r();if(i.timezone){if(c=NF(i.timezone),isNaN(c))return r()}else{const u=new Date(o+s),d=xt(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return xt(o+s+c,t==null?void 0:t.in)}const vu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wF(e){const t={},r=e.split(vu.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],vu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(vu.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=vu.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function _F(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function jF(e,t){if(t===null)return new Date(NaN);const r=e.match(vF);if(!r)return new Date(NaN);const n=!!r[4],i=Zs(r[1]),a=Zs(r[2])-1,o=Zs(r[3]),s=Zs(r[4]),c=Zs(r[5])-1;if(n)return PF(t,s,c)?kF(t,s,c):new Date(NaN);{const u=new Date(0);return!CF(t,a,o)||!OF(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}}function Zs(e){return e?parseInt(e):1}function SF(e){const t=e.match(xF);if(!t)return NaN;const r=j0(t[1]),n=j0(t[2]),i=j0(t[3]);return TF(r,n,i)?r*Jk+n*Qk+i*1e3:NaN}function j0(e){return e&&parseFloat(e.replace(",","."))||0}function NF(e){if(e==="Z")return 0;const t=e.match(bF);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return AF(n,i)?r*(n*Jk+i*Qk):NaN}function kF(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const EF=[31,null,31,30,31,30,31,31,30,31,30,31];function i6(e){return e%400===0||e%4===0&&e%100!==0}function CF(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(EF[t]||(i6(e)?29:28))}function OF(e,t){return t>=1&&t<=(i6(e)?366:365)}function PF(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function TF(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function AF(e,t){return t>=0&&t<=59}function RF(){const{user:e}=We(),{darkMode:t}=bt(),[r,n]=b.useState([]),[i,a]=b.useState(!1),[o,s]=b.useState({title:"",description:"",event_type:"meeting",start_time:"",end_time:"",location:"",all_day:!1});b.useEffect(()=>{c()},[]);const c=async()=>{try{const h=await ue.get("/api/events/upcoming");n(h.data)}catch(h){console.error("Error fetching events:",h)}},u=async h=>{h.preventDefault();try{await ue.post("/api/events",o),c(),a(!1),s({title:"",description:"",event_type:"meeting",start_time:"",end_time:"",location:"",all_day:!1})}catch(m){console.error("Error creating event:",m)}},d=h=>{switch(h){case"meeting":return"";case"deadline":return"";case"company_event":return"";default:return""}},f=h=>{switch(h){case"meeting":return"blue";case"deadline":return"red";case"company_event":return"purple";default:return"gray"}};return l.jsxs("div",{className:`h-full ${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 overflow-hidden flex flex-col`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:`text-lg font-bold ${t?"text-white":"text-gray-800"}`,children:" Calendar"}),l.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition","data-testid":"add-event-button",children:l.jsx(Fi,{})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:r.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"No upcoming events"})]}):r.map(h=>{const m=n6(h.start_time),g=f(h.event_type);return l.jsx("div",{className:`p-3 rounded-lg border-l-4 border-${g}-500 ${t?"bg-gray-700":"bg-gray-50"}`,"data-testid":`event-${h.id}`,children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[l.jsx("span",{className:"text-2xl",children:d(h.event_type)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:`font-semibold ${t?"text-white":"text-gray-800"}`,children:h.title}),h.description&&l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"} mt-1`,children:h.description}),l.jsxs("div",{className:`flex flex-wrap gap-3 mt-2 text-xs ${t?"text-gray-400":"text-gray-500"}`,children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(UN,{}),l.jsx("span",{children:j2(m,"MMM dd, yyyy")})]}),!h.all_day&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ql,{}),l.jsx("span",{children:j2(m,"h:mm a")})]}),h.location&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(h$,{}),l.jsx("span",{children:h.location})]})]})]})]})})},h.id)})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto`,children:[l.jsx("h3",{className:`text-xl font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Create Event"}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Title"}),l.jsx("input",{type:"text",value:o.title,onChange:h=>s({...o,title:h.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Event Type"}),l.jsxs("select",{value:o.event_type,onChange:h=>s({...o,event_type:h.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[l.jsx("option",{value:"meeting",children:"Meeting"}),l.jsx("option",{value:"deadline",children:"Deadline"}),l.jsx("option",{value:"company_event",children:"Company Event"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Start Date & Time"}),l.jsx("input",{type:"datetime-local",value:o.start_time,onChange:h=>s({...o,start_time:h.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"End Date & Time"}),l.jsx("input",{type:"datetime-local",value:o.end_time,onChange:h=>s({...o,end_time:h.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Location"}),l.jsx("input",{type:"text",value:o.location,onChange:h=>s({...o,location:h.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Meeting room or online link"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Description"}),l.jsx("textarea",{value:o.description,onChange:h=>s({...o,description:h.target.value}),className:`w-full px-3 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,rows:3})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:o.all_day,onChange:h=>s({...o,all_day:h.target.checked}),className:"rounded"}),l.jsx("label",{className:`text-sm ${t?"text-gray-300":"text-gray-700"}`,children:"All day event"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>a(!1),className:`flex-1 px-4 py-2 rounded-lg transition ${t?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:"Create Event"})]})]})]})})]})}var DF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Zv(e){if(typeof e!="string")return!1;var t=DF;return t.includes(e)}var MF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function a6(e){if(typeof e!="string")return!1;var t=MF;return t.includes(e)}function o6(e){return typeof e=="string"&&e.startsWith("data-")}function hi(e){var t=Object.entries(e).filter(r=>{var[n]=r;return a6(n)||o6(n)});return Object.fromEntries(t)}function ex(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return hi(t)}return typeof e=="object"&&!Array.isArray(e)?hi(e):null}function on(e){var t=Object.entries(e).filter(r=>{var[n]=r;return a6(n)||o6(n)||Zv(n)});return Object.fromEntries(t)}var $F=["children","width","height","viewBox","className","style","title","desc"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(null,arguments)}function LF(e,t){if(e==null)return{};var r,n,i=IF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s6=b.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:c,desc:u}=e,d=LF(e,$F),f=a||{width:n,height:i,x:0,y:0},h=Ae("recharts-surface",o);return b.createElement("svg",Ng({},on(d),{className:h,width:n,height:i,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,c),b.createElement("desc",null,u),r)}),BF=["children","className"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(null,arguments)}function FF(e,t){if(e==null)return{};var r,n,i=zF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ta=b.forwardRef((e,t)=>{var{children:r,className:n}=e,i=FF(e,BF),a=Ae("recharts-layer",n);return b.createElement("g",kg({className:a},on(i),{ref:t}),r)}),UF=b.createContext(null);function Ye(e){return function(){return e}}const l6=Math.cos,qd=Math.sin,On=Math.sqrt,Vd=Math.PI,Sh=2*Vd,Eg=Math.PI,Cg=2*Eg,va=1e-6,WF=Cg-va;function c6(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function HF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return c6;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class qF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?c6:HF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-t,u=i-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>va)if(!(Math.abs(f*c-u*d)>va)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=i-s,v=c*c+u*u,y=m*m+g*g,p=Math.sqrt(v),x=Math.sqrt(h),w=a*Math.tan((Eg-Math.acos((v+h-y)/(2*p*x)))/2),_=w/x,j=w/p;Math.abs(_-1)>va&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),u=t+s,d=r+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>va||Math.abs(this._y1-d)>va)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Cg+Cg),h>WF?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>va&&this._append`A${n},${n},0,${+(h>=Eg)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function tx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qF(t)}function rx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function u6(e){this._context=e}u6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nh(e){return new u6(e)}function d6(e){return e[0]}function f6(e){return e[1]}function h6(e,t){var r=Ye(!0),n=null,i=Nh,a=null,o=tx(s);e=typeof e=="function"?e:e===void 0?d6:Ye(e),t=typeof t=="function"?t:t===void 0?f6:Ye(t);function s(c){var u,d=(c=rx(c)).length,f,h=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ye(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ye(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ye(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function xu(e,t,r){var n=null,i=Ye(!0),a=null,o=Nh,s=null,c=tx(u);e=typeof e=="function"?e:e===void 0?d6:Ye(+e),t=typeof t=="function"?t:Ye(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?f6:Ye(+r);function u(f){var h,m,g,v=(f=rx(f)).length,y,p=!1,x,w=new Array(v),_=new Array(v);for(a==null&&(s=o(x=c())),h=0;h<=v;++h){if(!(h<v&&i(y=f[h],h,f))===p)if(p=!p)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(w[g],_[g]);s.lineEnd(),s.areaEnd()}p&&(w[h]=+e(y,h,f),_[h]=+t(y,h,f),s.point(n?+n(y,h,f):w[h],r?+r(y,h,f):_[h]))}if(x)return s=null,x+""||null}function d(){return h6().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ye(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ye(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ye(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class p6{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function VF(e){return new p6(e,!0)}function KF(e){return new p6(e,!1)}const nx={draw(e,t){const r=On(t/Vd);e.moveTo(r,0),e.arc(0,0,r,0,Sh)}},YF={draw(e,t){const r=On(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},m6=On(1/3),GF=m6*2,XF={draw(e,t){const r=On(t/GF),n=r*m6;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},QF={draw(e,t){const r=On(t),n=-r/2;e.rect(n,n,r,r)}},JF=.8908130915292852,g6=qd(Vd/10)/qd(7*Vd/10),ZF=qd(Sh/10)*g6,ez=-l6(Sh/10)*g6,tz={draw(e,t){const r=On(t*JF),n=ZF*r,i=ez*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Sh*a/5,s=l6(o),c=qd(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*i,c*n+s*i)}e.closePath()}},S0=On(3),rz={draw(e,t){const r=-On(t/(S0*3));e.moveTo(0,r*2),e.lineTo(-S0*r,-r),e.lineTo(S0*r,-r),e.closePath()}},Vr=-.5,Kr=On(3)/2,Og=1/On(12),nz=(Og/2+1)*3,iz={draw(e,t){const r=On(t/nz),n=r/2,i=r*Og,a=n,o=r*Og+r,s=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(Vr*n-Kr*i,Kr*n+Vr*i),e.lineTo(Vr*a-Kr*o,Kr*a+Vr*o),e.lineTo(Vr*s-Kr*c,Kr*s+Vr*c),e.lineTo(Vr*n+Kr*i,Vr*i-Kr*n),e.lineTo(Vr*a+Kr*o,Vr*o-Kr*a),e.lineTo(Vr*s+Kr*c,Vr*c-Kr*s),e.closePath()}};function az(e,t){let r=null,n=tx(i);e=typeof e=="function"?e:Ye(e||nx),t=typeof t=="function"?t:Ye(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ye(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ye(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Kd(){}function Yd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function y6(e){this._context=e}y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oz(e){return new y6(e)}function v6(e){this._context=e}v6.prototype={areaStart:Kd,areaEnd:Kd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sz(e){return new v6(e)}function x6(e){this._context=e}x6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lz(e){return new x6(e)}function b6(e){this._context=e}b6.prototype={areaStart:Kd,areaEnd:Kd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cz(e){return new b6(e)}function S2(e){return e<0?-1:1}function N2(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(S2(a)+S2(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function k2(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function N0(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Gd(e){this._context=e}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:N0(this,this._t0,k2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,N0(this,k2(this,r=N2(this,e,t)),r);break;default:N0(this,this._t0,r=N2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function w6(e){this._context=new _6(e)}(w6.prototype=Object.create(Gd.prototype)).point=function(e,t){Gd.prototype.point.call(this,t,e)};function _6(e){this._context=e}_6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function uz(e){return new Gd(e)}function dz(e){return new w6(e)}function j6(e){this._context=e}j6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=E2(e),i=E2(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function E2(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function fz(e){return new j6(e)}function kh(e,t){this._context=e,this._t=t}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hz(e){return new kh(e,.5)}function pz(e){return new kh(e,0)}function mz(e){return new kh(e,1)}function os(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Pg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function gz(e,t){return e[t]}function yz(e){const t=[];return t.key=e,t}function vz(){var e=Ye([]),t=Pg,r=os,n=gz;function i(a){var o=Array.from(e.apply(this,arguments),yz),s,c=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,d=rx(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ye(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ye(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Pg:typeof a=="function"?a:Ye(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??os,i):r},i}function xz(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}os(e,t)}}function bz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}os(e,t)}}function wz(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<s;++g){var v=e[t[g]],y=v[n][1]||0,p=v[n-1][1]||0;m+=y-p}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,os(e,t)}}var Eh={},S6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(S6);var ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ix);var Ch={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Ch);var Oh={},N6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(N6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N6,r=Ch;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const f=i[s];u?f==="\\"&&s+1<o?(s++,c+=i[s]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(c),c=""):c+=f:f==="["?(d=!0,c&&(a.push(c),c="")):f==="."?c&&(a.push(c),c=""):c+=f,s++}return c&&a.push(c),a}e.toPath=n})(Oh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S6,r=ix,n=Ch,i=Oh;function a(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?r.isDeepKey(c)?a(s,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?u:d}}}function o(s,c,u){if(c.length===0)return u;let d=s;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(Eh);var _z=Eh.get;const ss=En(_z);var br=e=>e===0?0:e>0?1:-1,sn=e=>typeof e=="number"&&e!=+e,pi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,he=e=>(typeof e=="number"||e instanceof Number)&&!sn(e),Hn=e=>he(e)||typeof e=="string",jz=0,tc=e=>{var t=++jz;return"".concat(e||"").concat(t)},kn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&typeof t!="string")return n;var a;if(pi(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return sn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},k6=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ar(e,t,r){return he(e)&&he(t)?e+r*(t-e):t}function Sz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ss(n,t))===r)}var At=e=>e===null||typeof e>"u",Oc=e=>At(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Nz=["type","size","sizeType"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(null,arguments)}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kz(e,t,r){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=Cz(e,"string");return typeof t=="symbol"?t:t+""}function Cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oz(e,t){if(e==null)return{};var r,n,i=Pz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var E6={symbolCircle:nx,symbolCross:YF,symbolDiamond:XF,symbolSquare:QF,symbolStar:tz,symbolTriangle:rz,symbolWye:iz},Tz=Math.PI/180,Az=e=>{var t="symbol".concat(Oc(e));return E6[t]||nx},Rz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Tz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Dz=(e,t)=>{E6["symbol".concat(Oc(e))]=t},C6=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Oz(e,Nz),a=O2(O2({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=Az(o),m=az().type(h).size(Rz(r,n,o)),g=m();if(g!==null)return g},{className:c,cx:u,cy:d}=a,f=on(a);return u===+u&&d===+d&&r===+r?b.createElement("path",Tg({},f,{className:Ae("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};C6.registerSymbol=Dz;var Mz=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Zv(i)&&(n[i]=a=>r[i](r,a))}),n},$z=(e,t,r)=>n=>(e(t,r,n),null),ax=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Zv(i)&&typeof a=="function"&&(n||(n={}),n[i]=$z(a,t,r))}),n},O6={},P6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(P6);var ox={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ox);var T6={},Ph={},A6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(A6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A6;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ph);var R6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(R6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ph,r=R6;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(T6);var D6={},M6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eh;function r(n){return function(i){return t.get(i,n)}}e.property=r})(M6);var $6={},k0={},E0={},sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(sx);var lx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(lx);var cx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(cx);var P2;function Lz(){return P2||(P2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux(),r=sx,n=lx,i=cx;function a(f,h,m){return typeof m!="function"?t.isMatch(f,h):o(f,h,function g(v,y,p,x,w,_){const j=m(v,y,p,x,w,_);return j!==void 0?!!j:o(v,y,g,_)},new Map)}function o(f,h,m,g){if(h===f)return!0;switch(typeof h){case"object":return s(f,h,m,g);case"function":return Object.keys(h).length>0?o(f,{...h},m,g):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function s(f,h,m,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,g);if(h instanceof Map)return c(f,h,m,g);if(h instanceof Set)return d(f,h,m,g);const v=Object.keys(h);if(f==null)return v.length===0;if(v.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let y=0;y<v.length;y++){const p=v[y];if(!n.isPrimitive(f)&&!(p in f)||h[p]===void 0&&f[p]!==void 0||h[p]===null&&f[p]!==null||!m(f[p],h[p],p,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(f,h,m,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,y]of h.entries()){const p=f.get(v);if(m(p,y,v,f,h,g)===!1)return!1}return!0}function u(f,h,m,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let y=0;y<h.length;y++){const p=h[y];let x=!1;for(let w=0;w<f.length;w++){if(v.has(w))continue;const _=f[w];let j=!1;if(m(_,p,y,f,h,g)&&(j=!0),j){v.add(w),x=!0;break}}if(!x)return!1}return!0}function d(f,h,m,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,g):!1}e.isMatchWith=a,e.isSetMatch=d}(E0)),E0}var T2;function ux(){return T2||(T2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lz();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(k0)),k0}var L6={},dx={},I6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(I6);var fx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(fx);var hx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",v="[object DataView]",y="[object Uint8Array]",p="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",A="[object BigInt64Array]",M="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=v,e.dateTag=s,e.errorTag=g,e.float32ArrayTag=M,e.float64ArrayTag=R,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=P,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=p})(hx);var B6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(B6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I6,r=fx,n=hx,i=lx,a=B6;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,h,m=new Map,g=void 0){const v=g==null?void 0:g(d,f,h,m);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let p=0;p<d.length;p++)y[p]=s(d[p],p,h,m,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[p,x]of d)y.set(p,s(x,p,h,m,g));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const p of d)y.add(s(p,void 0,h,m,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let p=0;p<d.length;p++)y[p]=s(d[p],p,h,m,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),c(y,d,h,m,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),c(y,d,h,m,g),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),c(y,d,h,m,g),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,h,m,g),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),c(y,d,h,m,g),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),c(y,d,h,m,g),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),c(y,d,h,m,g),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),c(y,d,h,m,g),y}return d}function c(d,f,h=d,m,g){const v=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<v.length;y++){const p=v[y],x=Object.getOwnPropertyDescriptor(d,p);(x==null||x.writable)&&(d[p]=s(f[p],p,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(dx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(L6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux(),r=L6;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})($6);var F6={},z6={},U6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dx,r=hx;function n(i,a){return t.cloneDeepWith(i,(o,s,c,u)=>{const d=a==null?void 0:a(o,s,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(U6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U6;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(z6);var W6={},px={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(px);var H6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(H6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix,r=px,n=H6,i=Oh;function a(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?c=i.toPath(s):c=[s],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(W6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux(),r=Ch,n=z6,i=Eh,a=W6;function o(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,s);return d===void 0?a.has(u,s):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(F6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox,r=M6,n=$6,i=F6;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(D6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P6,r=ox,n=T6,i=D6;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(O6);var Iz=O6.uniqBy;const A2=En(Iz);function Bz(e,t,r){return t===!0?A2(e,r):typeof t=="function"?A2(e,t):e}var q6={exports:{}},V6={},K6={exports:{}},Y6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=b;function Fz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zz=typeof Object.is=="function"?Object.is:Fz,Uz=ls.useState,Wz=ls.useEffect,Hz=ls.useLayoutEffect,qz=ls.useDebugValue;function Vz(e,t){var r=t(),n=Uz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Hz(function(){i.value=r,i.getSnapshot=t,C0(i)&&a({inst:i})},[e,r,t]),Wz(function(){return C0(i)&&a({inst:i}),e(function(){C0(i)&&a({inst:i})})},[e]),qz(r),r}function C0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zz(e,r)}catch{return!0}}function Kz(e,t){return t()}var Yz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Kz:Vz;Y6.useSyncExternalStore=ls.useSyncExternalStore!==void 0?ls.useSyncExternalStore:Yz;K6.exports=Y6;var Gz=K6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th=b,Xz=Gz;function Qz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jz=typeof Object.is=="function"?Object.is:Qz,Zz=Xz.useSyncExternalStore,eU=Th.useRef,tU=Th.useEffect,rU=Th.useMemo,nU=Th.useDebugValue;V6.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=eU(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=rU(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return f=g}return f=m}if(g=f,Jz(d,m))return g;var v=n(m);return i!==void 0&&i(g,v)?(d=m,g):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var s=Zz(e,a[0],a[1]);return tU(function(){o.hasValue=!0,o.value=s},[s]),nU(s),s};q6.exports=V6;var iU=q6.exports,mx=b.createContext(null),aU=e=>e,St=()=>{var e=b.useContext(mx);return e?e.store.dispatch:aU},id=()=>{},oU=()=>id,sU=(e,t)=>e===t;function me(e){var t=b.useContext(mx);return iU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:oU,t?t.store.getState:id,t?t.store.getState:id,t?e:id,sU)}function lU(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function cU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function uU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var R2=e=>Array.isArray(e)?e:[e];function dU(e){const t=Array.isArray(e[0])?e[0]:e;return uU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fU(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var hU=class{constructor(e){this.value=e}deref(){return this.value}},pU=typeof WeakRef<"u"?WeakRef:hU,mU=0,D2=1;function bu(){return{s:mU,v:void 0,o:null,p:null}}function G6(e,t={}){let r=bu();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var f;let s=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=s.o;v===null&&(s.o=v=new WeakMap);const y=v.get(g);y===void 0?(s=bu(),v.set(g,s)):s=y}else{let v=s.p;v===null&&(s.p=v=new Map);const y=v.get(g);y===void 0?(s=bu(),v.set(g,s)):s=y}}const u=s;let d;if(s.s===D2)d=s.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new pU(d):d}return u.s=D2,u.v=d,d}return o.clearCache=()=>{r=bu(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function gU(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),lU(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=G6,argsMemoizeOptions:g=[]}=d,v=R2(h),y=R2(g),p=dU(i),x=f(function(){return a++,u.apply(null,arguments)},...v),w=m(function(){o++;const j=fU(p,arguments);return s=x.apply(null,j),s},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:p,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var V=gU(G6),yU=Object.assign((e,t=V)=>{cU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>yU}),X6={},Q6={},J6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(J6);var Z6={},gx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(gx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(Z6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J6,r=Z6,n=Oh;function i(a,o,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,g)=>{let v=m;for(let y=0;y<g.length&&v!=null;++y)v=v[g[y]];return v},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let v=0;v<f.length;v++){const y=t.compareValues(m.criteria[v],g.criteria[v],s[v]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(Q6);var eE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,c)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&c<a?o(d,c+1):i.push(d)}};return o(r,0),i}e.flatten=t})(eE);var yx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px,r=Ph,n=sx,i=cx;function a(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?i.eq(c[s],o):!1}e.isIterateeCall=a})(yx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q6,r=eE,n=yx;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(X6);var vU=X6.sortBy;const Ah=En(vU);var tE=e=>e.legend.settings,xU=e=>e.legend.size,bU=e=>e.legend.payload;V([bU,tE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Ah(n,r):n});var wu=1;function wU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>wu||Math.abs(o.left-t.left)>wu||Math.abs(o.top-t.top)>wu||Math.abs(o.width-t.width)>wu)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _U=typeof Symbol=="function"&&Symbol.observable||"@@observable",M2=_U,O0=()=>Math.random().toString(36).substring(7).split("").join("."),jU={INIT:`@@redux/INIT${O0()}`,REPLACE:`@@redux/REPLACE${O0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${O0()}`},Xd=jU;function vx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function rE(e,t,r){if(typeof e!="function")throw new Error(Bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bt(1));return r(rE)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,c=!1;function u(){o===a&&(o=new Map,a.forEach((y,p)=>{o.set(p,y)}))}function d(){if(c)throw new Error(Bt(3));return i}function f(y){if(typeof y!="function")throw new Error(Bt(4));if(c)throw new Error(Bt(5));let p=!0;u();const x=s++;return o.set(x,y),function(){if(p){if(c)throw new Error(Bt(6));p=!1,u(),o.delete(x),a=null}}}function h(y){if(!vx(y))throw new Error(Bt(7));if(typeof y.type>"u")throw new Error(Bt(8));if(typeof y.type!="string")throw new Error(Bt(17));if(c)throw new Error(Bt(9));try{c=!0,i=n(i,y)}finally{c=!1}return(a=o).forEach(x=>{x()}),y}function m(y){if(typeof y!="function")throw new Error(Bt(10));n=y,h({type:Xd.REPLACE})}function g(){const y=f;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(Bt(11));function x(){const _=p;_.next&&_.next(d())}return x(),{unsubscribe:y(x)}},[M2](){return this}}}return h({type:Xd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[M2]:g}}function SU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Xd.INIT})>"u")throw new Error(Bt(12));if(typeof r(void 0,{type:Xd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function nE(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{SU(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],g=h(m,s);if(typeof g>"u")throw s&&s.type,new Error(Bt(14));u[f]=g,c=c||g!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Qd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function NU(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Bt(15))};const o={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},s=e.map(c=>c(o));return a=Qd(...s)(i.dispatch),{...i,dispatch:a}}}function iE(e){return vx(e)&&"type"in e&&typeof e.type=="string"}var aE=Symbol.for("immer-nothing"),$2=Symbol.for("immer-draftable"),Br=Symbol.for("immer-state");function bn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cs=Object.getPrototypeOf;function Qa(e){return!!e&&!!e[Br]}function mi(e){var t;return e?oE(e)||Array.isArray(e)||!!e[$2]||!!((t=e.constructor)!=null&&t[$2])||Pc(e)||Dh(e):!1}var kU=Object.prototype.constructor.toString();function oE(e){if(!e||typeof e!="object")return!1;const t=cs(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===kU}function Jd(e,t){Rh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Rh(e){const t=e[Br];return t?t.type_:Array.isArray(e)?1:Pc(e)?2:Dh(e)?3:0}function Ag(e,t){return Rh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sE(e,t,r){const n=Rh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function EU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pc(e){return e instanceof Map}function Dh(e){return e instanceof Set}function xa(e){return e.copy_||e.base_}function Rg(e,t){if(Pc(e))return new Map(e);if(Dh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=oE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Br];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(cs(e),n)}else{const n=cs(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function xx(e,t=!1){return Mh(e)||Qa(e)||!mi(e)||(Rh(e)>1&&Object.defineProperties(e,{set:{value:_u},add:{value:_u},clear:{value:_u},delete:{value:_u}}),Object.freeze(e),t&&Object.values(e).forEach(r=>xx(r,!0))),e}function _u(){bn(2)}function Mh(e){return Object.isFrozen(e)}var CU={};function Ja(e){const t=CU[e];return t||bn(0,e),t}var rc;function lE(){return rc}function OU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function L2(e,t){t&&(Ja("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dg(e){Mg(e),e.drafts_.forEach(PU),e.drafts_=null}function Mg(e){e===rc&&(rc=e.parent_)}function I2(e){return rc=OU(rc,e)}function PU(e){const t=e[Br];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function B2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Br].modified_&&(Dg(t),bn(4)),mi(e)&&(e=Zd(t,e),t.parent_||ef(t,e)),t.patches_&&Ja("Patches").generateReplacementPatches_(r[Br].base_,e,t.patches_,t.inversePatches_)):e=Zd(t,r,[]),Dg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aE?e:void 0}function Zd(e,t,r){if(Mh(t))return t;const n=t[Br];if(!n)return Jd(t,(i,a)=>F2(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return ef(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Jd(a,(s,c)=>F2(e,n,i,s,c,r,o)),ef(e,i,!1),r&&e.patches_&&Ja("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function F2(e,t,r,n,i,a,o){if(Qa(i)){const s=a&&t&&t.type_!==3&&!Ag(t.assigned_,n)?a.concat(n):void 0,c=Zd(e,i,s);if(sE(r,n,c),Qa(c))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(mi(i)&&!Mh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Zd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Pc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ef(e,i)}}function ef(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xx(t,r)}function TU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:lE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=bx;r&&(i=[n],a=nc);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var bx={get(e,t){if(t===Br)return e;const r=xa(e);if(!Ag(r,t))return AU(e,r,t);const n=r[t];return e.finalized_||!mi(n)?n:n===P0(e.base_,t)?(T0(e),e.copy_[t]=Lg(n,e)):n},has(e,t){return t in xa(e)},ownKeys(e){return Reflect.ownKeys(xa(e))},set(e,t,r){const n=cE(xa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=P0(xa(e),t),a=i==null?void 0:i[Br];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(EU(r,i)&&(r!==void 0||Ag(e.base_,t)))return!0;T0(e),$g(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return P0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,T0(e),$g(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=xa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){bn(11)},getPrototypeOf(e){return cs(e.base_)},setPrototypeOf(){bn(12)}},nc={};Jd(bx,(e,t)=>{nc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});nc.deleteProperty=function(e,t){return nc.set.call(this,e,t,void 0)};nc.set=function(e,t,r){return bx.set.call(this,e[0],t,r,e[0])};function P0(e,t){const r=e[Br];return(r?xa(r):e)[t]}function AU(e,t,r){var i;const n=cE(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function cE(e,t){if(!(t in e))return;let r=cs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=cs(r)}}function $g(e){e.modified_||(e.modified_=!0,e.parent_&&$g(e.parent_))}function T0(e){e.copy_||(e.copy_=Rg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(c=a,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&bn(6),n!==void 0&&typeof n!="function"&&bn(7);let i;if(mi(t)){const a=I2(this),o=Lg(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?Dg(a):Mg(a)}return L2(a,n),B2(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===aE&&(i=void 0),this.autoFreeze_&&xx(i,!0),n){const a=[],o=[];Ja("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else bn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){mi(e)||bn(8),Qa(e)&&(e=ai(e));const t=I2(this),r=Lg(e,void 0);return r[Br].isManual_=!0,Mg(t),r}finishDraft(e,t){const r=e&&e[Br];(!r||!r.isManual_)&&bn(9);const{scope_:n}=r;return L2(n,t),B2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Ja("Patches").applyPatches_;return Qa(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Lg(e,t){const r=Pc(e)?Ja("MapSet").proxyMap_(e,t):Dh(e)?Ja("MapSet").proxySet_(e,t):TU(e,t);return(t?t.scope_:lE()).drafts_.push(r),r}function ai(e){return Qa(e)||bn(10,e),uE(e)}function uE(e){if(!mi(e)||Mh(e))return e;const t=e[Br];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Rg(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Rg(e,!0);return Jd(r,(n,i)=>{sE(r,n,uE(i))}),t&&(t.finalized_=!1),r}var DU=new RU,dE=DU.produce;function fE(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var MU=fE(),$U=fE,LU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qd:Qd.apply(null,arguments)};function ln(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Lr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>iE(n)&&n.type===e,r}var hE=class ml extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ml.prototype)}static get[Symbol.species](){return ml}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ml(...t[0].concat(this)):new ml(...t.concat(this))}};function z2(e){return mi(e)?dE(e,()=>{}):e}function ju(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function IU(e){return typeof e=="boolean"}var BU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new hE;return r&&(IU(r)?o.push(MU):o.push($U(r.extraArgument))),o},pE="RTK_autoBatch",or=()=>e=>({payload:e,meta:{[pE]:!0}}),U2=e=>t=>{setTimeout(t,e)},mE=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:U2(10):e.type==="callback"?e.queueNotification:U2(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return s.add(d),()=>{h(),s.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[pE]),a=!i,a&&(o||(o=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},FU=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new hE(e);return n&&i.push(mE(typeof n=="object"?n:void 0)),i};function zU(e){const t=BU(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(vx(r))s=nE(r);else throw new Error(Lr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Qd;i&&(u=LU({trace:!1,...typeof i=="object"&&i}));const d=NU(...c),f=FU(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return rE(s,a,m)}function gE(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Lr(28));if(s in t)throw new Error(Lr(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function UU(e){return typeof e=="function"}function WU(e,t){let[r,n,i]=gE(t),a;if(UU(e))a=()=>z2(e());else{const s=z2(e);a=()=>s}function o(s=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Qa(d)){const m=f(d,c);return m===void 0?d:m}else{if(mi(d))return dE(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},s)}return o.getInitialState=a,o}var HU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qU=(e=21)=>{let t="",r=e;for(;r--;)t+=HU[Math.random()*64|0];return t},VU=Symbol.for("rtk-slice-createasyncthunk");function KU(e,t){return`${e}/${t}`}function YU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[VU];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Lr(11));const s=(typeof i.reducers=="function"?i.reducers(XU()):i.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const k=typeof _=="string"?_:_.type;if(!k)throw new Error(Lr(12));if(k in u.sliceCaseReducersByType)throw new Error(Lr(13));return u.sliceCaseReducersByType[k]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=s[_],k={reducerName:_,type:KU(a,_),createNotation:typeof i.reducers=="function"};JU(j)?eW(k,j,d,t):QU(k,j,d)});function f(){const[_={},j=[],k=void 0]=typeof i.extraReducers=="function"?gE(i.extraReducers):[i.extraReducers],P={..._,...u.sliceCaseReducersByType};return WU(i.initialState,A=>{for(let M in P)A.addCase(M,P[M]);for(let M of u.sliceMatchers)A.addMatcher(M.matcher,M.reducer);for(let M of j)A.addMatcher(M.matcher,M.reducer);k&&A.addDefaultCase(k)})}const h=_=>_,m=new Map,g=new WeakMap;let v;function y(_,j){return v||(v=f()),v(_,j)}function p(){return v||(v=f()),v.getInitialState()}function x(_,j=!1){function k(A){let M=A[_];return typeof M>"u"&&j&&(M=ju(g,k,p)),M}function P(A=h){const M=ju(m,j,()=>new WeakMap);return ju(M,A,()=>{const R={};for(const[L,U]of Object.entries(i.selectors??{}))R[L]=GU(U,A,()=>ju(g,A,p),j);return R})}return{reducerPath:_,getSelectors:P,get selectors(){return P(k)},selectSlice:k}}const w={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:p,...x(o),injectInto(_,{reducerPath:j,...k}={}){const P=j??o;return _.inject({reducerPath:P,reducer:y},k),{...w,...x(P,!0)}}};return w}}function GU(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var Ur=YU();function XU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function QU({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!ZU(n))throw new Error(Lr(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ln(e,o):ln(e))}function JU(e){return e._reducerDefinitionType==="asyncThunk"}function ZU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function eW({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Lr(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),s&&n.addCase(f.pending,s),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Su,pending:s||Su,rejected:c||Su,settled:u||Su})}function Su(){}var tW="task",yE="listener",vE="completed",wx="cancelled",rW=`task-${wx}`,nW=`task-${vE}`,Ig=`${yE}-${wx}`,iW=`${yE}-${vE}`,$h=class{constructor(e){xp(this,"name","TaskAbortError");xp(this,"message");this.code=e,this.message=`${tW} ${wx} (reason: ${e})`}},_x=(e,t)=>{if(typeof e!="function")throw new TypeError(Lr(32))},tf=()=>{},xE=(e,t=tf)=>(e.catch(t),e),bE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),La=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ia=e=>{if(e.aborted){const{reason:t}=e;throw new $h(t)}};function wE(e,t){let r=tf;return new Promise((n,i)=>{const a=()=>i(new $h(e.reason));if(e.aborted){a();return}r=bE(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=tf})}var aW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof $h?"cancelled":"rejected",error:r}}finally{t==null||t()}},rf=e=>t=>xE(wE(e,t).then(r=>(Ia(e),r))),_E=e=>{const t=rf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:qo}=Object,W2={},Lh="listenerMiddleware",oW=(e,t)=>{const r=n=>bE(e,()=>La(n,e.reason));return(n,i)=>{_x(n);const a=new AbortController;r(a);const o=aW(async()=>{Ia(e),Ia(a.signal);const s=await n({pause:rf(a.signal),delay:_E(a.signal),signal:a.signal});return Ia(a.signal),s},()=>La(a,nW));return i!=null&&i.autoJoin&&t.push(o.catch(tf)),{result:rf(e)(o),cancel(){La(a,rW)}}}},sW=(e,t)=>{const r=async(n,i)=>{Ia(t);let a=()=>{};const s=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&s.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await wE(t,Promise.race(s));return Ia(t),c}finally{a()}};return(n,i)=>xE(r(n,i))},jE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=ln(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Lr(21));return _x(a),{predicate:i,type:t,effect:a}},SE=qo(e=>{const{type:t,predicate:r,effect:n}=jE(e);return{id:qU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Lr(22))}}},{withTypes:()=>SE}),H2=(e,t)=>{const{type:r,effect:n,predicate:i}=jE(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Bg=e=>{e.pending.forEach(t=>{La(t,Ig)})},lW=(e,t)=>()=>{for(const r of t.keys())Bg(r);e.clear()},q2=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},NE=qo(ln(`${Lh}/add`),{withTypes:()=>NE}),cW=ln(`${Lh}/removeAll`),kE=qo(ln(`${Lh}/remove`),{withTypes:()=>kE}),uW=(...e)=>{console.error(`${Lh}/error`,...e)},Tc=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:o=uW}=e;_x(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&Bg(m)}),c=m=>{const g=H2(t,m)??SE(m);return s(g)};qo(c,{withTypes:()=>c});const u=m=>{const g=H2(t,m);return g&&(g.unsubscribe(),m.cancelActive&&Bg(g)),!!g};qo(u,{withTypes:()=>u});const d=async(m,g,v,y)=>{const p=new AbortController,x=sW(c,p.signal),w=[];try{m.pending.add(p),n(m),await Promise.resolve(m.effect(g,qo({},v,{getOriginalState:y,condition:(_,j)=>x(_,j).then(Boolean),take:x,delay:_E(p.signal),pause:rf(p.signal),extra:a,signal:p.signal,fork:oW(p.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,j,k)=>{_!==p&&(La(_,Ig),k.delete(_))})},cancel:()=>{La(p,Ig),m.pending.delete(p)},throwIfCancelled:()=>{Ia(p.signal)}})))}catch(_){_ instanceof $h||q2(o,_,{raisedBy:"effect"})}finally{await Promise.all(w),La(p,iW),i(m),m.pending.delete(p)}},f=lW(t,r);return{middleware:m=>g=>v=>{if(!iE(v))return g(v);if(NE.match(v))return c(v.payload);if(cW.match(v)){f();return}if(kE.match(v))return u(v.payload);let y=m.getState();const p=()=>{if(y===W2)throw new Error(Lr(23));return y};let x;try{if(x=g(v),t.size>0){const w=m.getState(),_=Array.from(t.values());for(const j of _){let k=!1;try{k=j.predicate(v,w,y)}catch(P){k=!1,q2(o,P,{raisedBy:"predicate"})}k&&d(j,v,m,p)}}}finally{y=W2}return x},startListening:c,stopListening:u,clearListeners:f}};function Lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},EE=Ur({name:"chartLayout",initialState:dW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:fW,setLayout:hW,setChartSize:pW,setScale:mW}=EE.actions,gW=EE.reducer;function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(n){yW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yW(e,t,r){return(t=vW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nf=Math.PI/180,bW=e=>e*180/Math.PI,Ut=(e,t,r,n)=>({x:e+Math.cos(-nf*n)*r,y:t+Math.sin(-nf*n)*r}),wW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_W=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},jW=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=_W({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,c=Math.acos(s);return n>a&&(c=2*Math.PI-c),{radius:o,angle:bW(c),angleInRadian:c}},SW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},NW=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},kW=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=jW({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:c,endAngle:u}=SW(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?K2(K2({},t),{},{radius:i,angle:NW(d,t)}):null};function CE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=CW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CW(e){var t=OW(e,"string");return typeof t=="symbol"?t:t+""}function OW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t,r){return At(e)||At(t)?r:Hn(t)?ss(e,t,r):typeof t=="function"?t(e):r}var PW=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<s;c++){var u=c>0?r[c-1].coordinate:r[s-1].coordinate,d=r[c].coordinate,f=c>=s-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(br(d-u)!==br(f-d)){var m=[];if(br(f-d)===br(i[1]-i[0])){h=f;var g=d+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var v=f+i[1]-i[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){({index:o}=r[c]);break}}else{var p=Math.min(u,f),x=Math.max(u,f);if(e>(p+d)/2&&e<=(x+d)/2){({index:o}=r[c]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},TW=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&he(e[a]))return Zr(Zr({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&he(e[o]))return Zr(Zr({},e),{},{[o]:e[o]+(i||0)})}return e},lo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",OE=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},PE=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=i==="category"&&o.bandwidth?o.bandwidth()/g:0;if(v=m==="angleAxis"&&a&&a.length>=2?br(a[0]-a[1])*2*v:v,f||h){var y=(f||h||[]).map((p,x)=>{var w=n?n.indexOf(p):p;return{coordinate:o(w)+v,value:p,offset:v,index:x}});return y.filter(p=>!sn(p.coordinate))}return c&&u?u.map((p,x)=>({coordinate:o(p)+v,value:p,index:x,offset:v})):o.ticks&&d!=null?o.ticks(d).map((p,x)=>({coordinate:o(p)+v,value:p,offset:v,index:x})):o.domain().map((p,x)=>({coordinate:o(p)+v,value:n?n[p]:p,index:x,offset:v}))},G2=1e-4,AW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-G2,a=Math.max(n[0],n[1])+G2,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},RW=(e,t)=>{if(!t||t.length!==2||!he(t[0])||!he(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!he(e[0])||e[0]<r)&&(i[0]=r),(!he(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},DW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=sn(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},MW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=sn(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},$W={sign:DW,expand:xz,none:os,silhouette:bz,wiggle:wz,positive:MW},LW=(e,t,r)=>{var n=$W[r],i=vz().keys(t).value((a,o)=>+dr(a,o,0)).order(Pg).offset(n);return i(e)};function IW(e){return e==null?void 0:String(e)}var X2=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=dr(a,t.dataKey,t.scale.domain()[o]);return At(s)?null:t.scale(s)-i/2+n},BW=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},FW=e=>{var t=e.flat(2).filter(he);return[Math.min(...t),Math.max(...t)]},zW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],UW=(e,t,r)=>{if(e!=null)return zW(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((c,u)=>{var d=CE(u,t,r),f=FW(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},Q2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jx=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Ah(t,d=>d.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var c=i[o],u=i[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Z2(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Zr(Zr({},t),{},{dataKey:r,payload:n,value:i,name:a})}function TE(e,t){if(e)return String(e);if(typeof t=="string")return t}function WW(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?kW({x:e,y:t},n):null}var HW=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Zr(Zr(Zr({},n),Ut(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:c}=n;return Zr(Zr(Zr({},n),Ut(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{x:0,y:0}},qW=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,bi=e=>e.layout.width,wi=e=>e.layout.height,VW=e=>e.layout.scale,AE=e=>e.layout.margin,Ih=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bh=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),KW="data-recharts-item-index",YW="data-recharts-item-data-key",Ac=60;function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){GW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GW(e,t,r){return(t=XW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=QW(e,"string");return typeof t=="symbol"?t:t+""}function QW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JW=e=>e.brush.height;function ZW(e){var t=Bh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ac;return r+i}return r},0)}function eH(e){var t=Bh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ac;return r+i}return r},0)}function tH(e){var t=Ih(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function rH(e){var t=Ih(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Dt=V([bi,wi,AE,JW,ZW,eH,tH,rH,tE,xU],(e,t,r,n,i,a,o,s,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+o,bottom:(r.bottom||0)+s},h=Nu(Nu({},f),d),m=h.bottom;h.bottom+=n,h=TW(h,c,u);var g=e-h.left-h.right,v=t-h.top-h.bottom;return Nu(Nu({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(v,0)})}),nH=V(Dt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Sx=V(bi,wi,(e,t)=>({x:0,y:0,width:e,height:t})),iH=b.createContext(null),Wr=()=>b.useContext(iH)!=null,Fh=e=>e.brush,zh=V([Fh,Dt,AE],(e,t,r)=>({height:e.height,x:he(e.x)?e.x:t.left,y:he(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:he(e.width)?e.width:t.width})),RE={},DE={},ME={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{g(),o=void 0,s=null},y=()=>{d()},p=function(...x){if(i!=null&&i.aborted)return;o=this,s=x;const w=h==null;m(),c&&w&&d()};return p.schedule=m,p.cancel=v,p.flush=y,i==null||i.addEventListener("abort",v,{once:!0}),p}e.debounce=t})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:c}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=n.apply(this,v),f=null},i,{edges:u}),m=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(DE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DE;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(RE);var aH=RE.throttle;const oH=En(aH);var af=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},$E=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=pi(n)?e:Number(n),c=pi(i)?t:Number(i);return a&&a>0&&(s?c=s/a:c&&(s=c*a),o&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},sH={width:0,height:0,overflow:"visible"},lH={width:0,overflowX:"visible"},cH={height:0,overflowY:"visible"},uH={},dH=e=>{var{width:t,height:r}=e,n=pi(t),i=pi(r);return n&&i?sH:n?lH:i?cH:uH};function fH(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function tr(e){return Number.isFinite(e)}function us(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(null,arguments)}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hH(e,t,r){return(t=pH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LE=b.createContext({width:-1,height:-1});function IE(e){var{children:t,width:r,height:n}=e,i=b.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:b.createElement(LE.Provider,{value:i},t)}var Nx=()=>b.useContext(LE),gH=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,v=b.useRef(null),y=b.useRef();y.current=m,b.useImperativeHandle(t,()=>v.current);var[p,x]=b.useState({containerWidth:n.width,containerHeight:n.height}),w=b.useCallback((A,M)=>{x(R=>{var L=Math.round(A),U=Math.round(M);return R.containerWidth===L&&R.containerHeight===U?R:{containerWidth:L,containerHeight:U}})},[]);b.useEffect(()=>{var A=U=>{var X,{width:J,height:le}=U[0].contentRect;w(J,le),(X=y.current)===null||X===void 0||X.call(y,J,le)};d>0&&(A=oH(A,d,{trailing:!0,leading:!1}));var M=new ResizeObserver(A),{width:R,height:L}=v.current.getBoundingClientRect();return w(R,L),M.observe(v.current),()=>{M.disconnect()}},[w,d]);var{containerWidth:_,containerHeight:j}=p;af(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:k,calculatedHeight:P}=$E(_,j,{width:i,height:a,aspect:r,maxHeight:c});return af(k>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,P,i,a,o,s,r),b.createElement("div",{id:f?"".concat(f):void 0,className:Ae("recharts-responsive-container",h),style:r4(r4({},g),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:c}),ref:v},b.createElement("div",{style:dH({width:i,height:a})},b.createElement(IE,{width:k,height:P},u)))}),yH=b.forwardRef((e,t)=>{var r=Nx();if(us(r.width)&&us(r.height))return e.children;var{width:n,height:i}=fH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=$E(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return he(a)&&he(o)?b.createElement(IE,{width:a,height:o},e.children):b.createElement(gH,Fg({},e,{width:n,height:i,ref:t}))}),Uh=()=>{var e,t=Wr(),r=me(nH),n=me(zh),i=(e=me(Fh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},vH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BE=()=>{var e;return(e=me(Dt))!==null&&e!==void 0?e:vH},FE=()=>me(bi),zE=()=>me(wi),Fe=e=>e.layout.layoutType,kx=()=>me(Fe),Wh=e=>{var t=St(),r=Wr(),{width:n,height:i}=e,a=Nx(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),b.useEffect(()=>{!r&&us(o)&&us(s)&&t(pW({width:o,height:s}))},[t,r,o,s]),null},xH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},UE=Ur({name:"legend",initialState:xH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:or()},removeLegendPayload:{reducer(e,t){var r=ai(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:or()}}}),{setLegendSize:yne,setLegendSettings:vne,addLegendPayload:bH,removeLegendPayload:wH}=UE.actions,_H=UE.reducer;function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(null,arguments)}function n4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return(t=SH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kH(e){return Array.isArray(e)&&Hn(e[0])&&Hn(e[1])?e.join(" ~ "):e}var EH=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var j={padding:0,margin:0},k=(s?Ah(a,s):a).map((P,A)=>{if(P.type==="none")return null;var M=P.formatter||o||kH,{value:R,name:L}=P,U=R,X=L;if(M){var J=M(R,L,P,A,a);if(Array.isArray(J))[U,X]=J;else if(J!=null)U=J;else return null}var le=A0({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:le},Hn(X)?b.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Hn(X)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},U),b.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},g=A0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=A0({margin:0},i),y=!At(d),p=y?d:"",x=Ae("recharts-default-tooltip",c),w=Ae("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(p=f(d,a));var _=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",zg({className:x,style:g},_),b.createElement("p",{className:w,style:v},b.isValidElement(p)?p:"".concat(p)),m())},el="recharts-tooltip-wrapper",CH={visibility:"hidden"};function OH(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ae(el,{["".concat(el,"-right")]:he(r)&&t&&he(t.x)&&r>=t.x,["".concat(el,"-left")]:he(r)&&t&&he(t.x)&&r<t.x,["".concat(el,"-bottom")]:he(n)&&t&&he(t.y)&&n>=t.y,["".concat(el,"-top")]:he(n)&&t&&he(t.y)&&n<t.y})}function i4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(a&&he(a[n]))return a[n];var d=r[n]-s-(i>0?i:0),f=r[n]+i;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+s,y=h+u;return v>y?Math.max(d,h):Math.max(f,h)}function PH(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function TH(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=i4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=i4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=PH({translateX:d,translateY:f,useTranslate3d:s})):u=CH,{cssProperties:u,cssClasses:OH({translateX:d,translateY:f,coordinate:r})}}function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(n){Ug(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ug(e,t,r){return(t=AH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DH extends b.PureComponent{constructor(){super(...arguments),Ug(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ug(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:v,innerRef:y,hasPortalFromProps:p}=this.props,{cssClasses:x,cssProperties:w}=TH({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),_=p?{}:ku(ku({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=ku(ku({},_),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},g);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:y},a)}}var MH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Os={devToolsEnabled:!1,isSsr:MH()},WE=()=>me(e=>e.rootProps.accessibilityLayer);function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(null,arguments)}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function s4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l4={curveBasisClosed:sz,curveBasisOpen:lz,curveBasis:oz,curveBumpX:VF,curveBumpY:KF,curveLinearClosed:cz,curveLinear:Nh,curveMonotoneX:uz,curveMonotoneY:dz,curveNatural:fz,curveStep:hz,curveStepAfter:mz,curveStepBefore:pz},Eu=e=>tr(e.x)&&tr(e.y),tl=e=>e.x,rl=e=>e.y,BH=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Oc(e));return(r==="curveMonotone"||r==="curveBump")&&t?l4["".concat(r).concat(t==="vertical"?"Y":"X")]:l4[r]||Nh},FH=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=BH(t,i),s=a?r.filter(Eu):r,c;if(Array.isArray(n)){var u=a?n.filter(f=>Eu(f)):n,d=s.map((f,h)=>s4(s4({},f),{},{base:u[h]}));return i==="vertical"?c=xu().y(rl).x1(tl).x0(f=>f.base.x):c=xu().x(tl).y1(rl).y0(f=>f.base.y),c.defined(Eu).curve(o),c(d)}return i==="vertical"&&he(n)?c=xu().y(rl).x1(tl).x0(n):he(n)?c=xu().x(tl).y1(rl).y0(n):c=h6().x(tl).y(rl),c.defined(Eu).curve(o),c(s)},zH=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?FH(e):n;return b.createElement("path",Wg({},hi(e),Mz(e),{className:Ae("recharts-curve",t),d:a===null?void 0:a,ref:i}))},UH=["x","y","top","left","width","height","className"];function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(null,arguments)}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){HH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KH(e,t){if(e==null)return{};var r,n,i=YH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GH=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),XH=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,c=KH(e,UH),u=WH({x:t,y:r,top:n,left:i,width:a,height:o},c);return!he(t)||!he(r)||!he(a)||!he(o)||!he(n)||!he(i)?null:b.createElement("path",Hg({},on(u),{className:Ae("recharts-cross",s),d:GH(t,r,a,o,n,i)}))};function QH(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){ZH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZH(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dn(e,t){var r=JH({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function rq(){}function nq(e){return e!=null}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iq(e,t,r){return(t=aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=oq(e,"string");return typeof t=="symbol"?t:t+""}function oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),HE=(e,t,r)=>e.map(n=>"".concat(sq(n)," ").concat(t,"ms ").concat(r)).join(","),lq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),ic=(e,t)=>Object.keys(t).reduce((r,n)=>f4(f4({},r),{},{[n]:e(n,t[n])}),{});function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cq(e,t,r){return(t=uq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=dq(e,"string");return typeof t=="symbol"?t:t+""}function dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var of=(e,t,r)=>e+(t-e)*r,qg=e=>{var{from:t,to:r}=e;return t!==r},qE=(e,t,r)=>{var n=ic((i,a)=>{if(qg(a)){var[o,s]=e(a.from,a.to,a.velocity);return zt(zt({},a),{},{from:o,velocity:s})}return a},t);return r<1?ic((i,a)=>qg(a)?zt(zt({},a),{},{velocity:of(a.velocity,n[i].velocity,r),from:of(a.from,n[i].from,r)}):a,t):qE(e,n,r-1)};function fq(e,t,r,n,i,a){var o,s=n.reduce((h,m)=>zt(zt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>ic((h,m)=>m.from,s),u=()=>!Object.values(s).filter(qg).length,d=null,f=h=>{o||(o=h);var m=h-o,g=m/r.dt;s=qE(r,s,g),i(zt(zt(zt({},e),t),c())),o=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{d()})}function hq(e,t,r,n,i,a,o){var s=null,c=i.reduce((f,h)=>zt(zt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=ic((v,y)=>of(...y,r(h)),c);if(a(zt(zt(zt({},e),t),m)),h<1)s=o.setTimeout(d);else{var g=ic((v,y)=>of(...y,r(1)),c);a(zt(zt(zt({},e),t),g))}};return()=>(s=o.setTimeout(d),()=>{s()})}const pq=(e,t,r,n,i,a)=>{var o=lq(e,t);return r.isStepper===!0?fq(e,t,r,o,i,a):hq(e,t,r,n,o,i,a)};var sf=1e-4,VE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],KE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),p4=(e,t)=>r=>{var n=VE(e,t);return KE(n,r)},mq=(e,t)=>r=>{var n=VE(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return KE(i,r)},m4=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,n,r,i]=o);var u=p4(t,r),d=p4(n,i),f=mq(t,r),h=g=>g>1?1:g<0?0:g,m=g=>{for(var v=g>1?1:g,y=v,p=0;p<8;++p){var x=u(y)-v,w=f(y);if(Math.abs(x-v)<sf||w<sf)return d(y);y=h(y-x/w)}return d(y)};return m.isStepper=!1,m},gq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,c)=>{var u=-(o-s)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+o;return Math.abs(h-s)<sf&&Math.abs(f)<sf?[s,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},yq=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return m4(e);case"spring":return gq();default:if(e.split("(")[0]==="cubic-bezier")return m4(e)}return typeof e=="function"?e:null};function vq(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...u]=s;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class xq{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function bq(){return vq(new xq)}var wq=b.createContext(bq);function _q(e,t){var r=b.useContext(wq);return b.useMemo(()=>t??r(e),[e,t,r])}var jq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},g4={t:0},R0={t:1};function Ex(e){var t=dn(e,jq),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c,children:u}=t,d=_q(t.animationId,t.animationManager),[f,h]=b.useState(r?g4:R0),m=b.useRef(null);return b.useEffect(()=>{r||h(R0)},[r]),b.useEffect(()=>{if(!r||!n)return rq;var g=pq(g4,R0,yq(a),i,h,d.getTimeoutController()),v=()=>{m.current=g()};return d.start([c,o,v,i,s]),()=>{d.stop(),m.current&&m.current(),s()}},[r,n,i,a,o,c,s,d]),u(f.t)}function Cx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(tc(t)),n=b.useRef(e);return n.current!==e&&(r.current=tc(t),n.current=e),r.current}var Sq=["radius"],Nq=["radius"];function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kq(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(null,arguments)}function x4(e,t){if(e==null)return{};var r,n,i=Oq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b4=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+s*d[0],",").concat(t)),u+="L ".concat(e+r-s*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-s*d[2],",").concat(t+n)),u+="L ".concat(e+s*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},Pq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YE=e=>{var t=dn(e,Pq),r=b.useRef(null),[n,i]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:o,width:s,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:v}=t,y=b.useRef(s),p=b.useRef(c),x=b.useRef(a),w=b.useRef(o),_=b.useMemo(()=>({x:a,y:o,width:s,height:c,radius:u}),[a,o,s,c,u]),j=Cx(_,"rectangle-");if(a!==+a||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var k=Ae("recharts-rectangle",d);if(!v){var P=on(t),{radius:A}=P,M=x4(P,Sq);return b.createElement("path",lf({},M,{radius:typeof u=="number"?u:void 0,className:k,d:b4(a,o,s,c,u)}))}var R=y.current,L=p.current,U=x.current,X=w.current,J="0px ".concat(n===-1?1:n,"px"),le="".concat(n,"px 0px"),Y=HE(["strokeDasharray"],h,typeof f=="string"?f:void 0);return b.createElement(Ex,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:v,begin:m},Q=>{var q=ar(R,s,Q),te=ar(L,c,Q),ie=ar(U,a,Q),oe=ar(X,o,Q);r.current&&(y.current=q,p.current=te,x.current=ie,w.current=oe);var se;g?Q>0?se={transition:Y,strokeDasharray:le}:se={strokeDasharray:J}:se={strokeDasharray:le};var we=on(t),{radius:Ce}=we,ge=x4(we,Nq);return b.createElement("path",lf({},ge,{radius:typeof u=="number"?u:void 0,className:k,d:b4(ie,oe,q,te,u),ref:r,style:v4(v4({},se),t.style)}))})};function GE(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Ut(t,r,n,i),s=Ut(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(null,arguments)}var Tq=(e,t)=>{var r=br(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Cu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,u=s*(o?1:-1)+n,d=Math.asin(s/u)/nf,f=c?i:i+a*d,h=Ut(t,r,u,f),m=Ut(t,r,n,f),g=c?i-a*d:i,v=Ut(t,r,u*Math.cos(d*nf),g);return{center:h,circleTangency:m,lineTangency:v,theta:d}},XE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=Tq(a,o),c=a+s,u=Ut(t,r,i,a),d=Ut(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Ut(t,r,n,a),m=Ut(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Aq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:u}=e,d=br(u-c),{circleTangency:f,lineTangency:h,theta:m}=Cu({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:s}),{circleTangency:g,lineTangency:v,theta:y}=Cu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:s}),p=s?Math.abs(c-u):Math.abs(c-u)-m-y;if(p<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):XE({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(p>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:_,theta:j}=Cu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:P,theta:A}=Cu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),M=s?Math.abs(c-u):Math.abs(c-u)-j-A;if(M<0&&a===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},Rq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QE=e=>{var t=dn(e,Rq),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=Ae("recharts-sector",f),m=a-i,g=kn(o,m,0,!0),v;return g>0&&Math.abs(u-d)<360?v=Aq({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):v=XE({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),b.createElement("path",Vg({},on(t),{className:h,d:v}))};function Dq(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Ut(s,c,u,f),m=Ut(s,c,d,f);n=h.x,i=h.y,a=m.x,o=m.y}else return GE(t);return[{x:n,y:i},{x:a,y:o}]}var JE={},ZE={},eC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(eC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ZE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yx,r=ZE;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=i,i+=o;return c}e.range=n})(JE);var Mq=JE.range;const tC=En(Mq);function Ji(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $q(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ox(e){let t,r,n;e.length!==2?(t=Ji,r=(s,c)=>Ji(e(s),c),n=(s,c)=>e(s)-c):(t=e===Ji||e===$q?e:Lq,r=e,n=e);function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=i(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:i,center:o,right:a}}function Lq(){return 0}function rC(e){return e===null?NaN:+e}function*Iq(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Bq=Ox(Ji),Rc=Bq.right;Ox(rC).center;class w4 extends Map{constructor(t,r=Uq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(_4(this,t))}has(t){return super.has(_4(this,t))}set(t,r){return super.set(Fq(this,t),r)}delete(t){return super.delete(zq(this,t))}}function _4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Fq({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zq({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Uq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Wq(e=Ji){if(e===Ji)return nC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function nC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Hq=Math.sqrt(50),qq=Math.sqrt(10),Vq=Math.sqrt(2);function cf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Hq?10:a>=qq?5:a>=Vq?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?cf(e,t,r*2):[s,c,u]}function Kg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?cf(t,e,r):cf(e,t,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function Yg(e,t,r){return t=+t,e=+e,r=+r,cf(e,t,r)[2]}function Gg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Yg(t,e,r):Yg(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function j4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function S4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function iC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?nC:Wq(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));iC(e,t,m,g,i)}const a=e[t];let o=r,s=n;for(nl(e,r,t),i(e[n],a)>0&&nl(e,r,n);o<s;){for(nl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?nl(e,r,s):(++s,nl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function nl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Kq(e,t,r){if(e=Float64Array.from(Iq(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return S4(e);if(t>=1)return j4(e);var n,i=(n-1)*t,a=Math.floor(i),o=j4(iC(e,a).subarray(0,a+1)),s=S4(e.subarray(a+1));return o+(s-o)*(i-a)}}function Yq(e,t,r=rC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Gq(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _i(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xg=Symbol("implicit");function Px(){var e=new w4,t=[],r=[],n=Xg;function i(a){let o=e.get(a);if(o===void 0){if(n!==Xg)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new w4;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Px(t,r).unknown(n)},fn.apply(i,arguments),i}function Tx(){var e=Px().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,g=m?i:n,v=m?n:i;a=(v-g)/Math.max(1,h-c+u*2),s&&(a=Math.floor(a)),g+=(v-g-a*(h-c))*d,o=a*(1-c),s&&(g=Math.round(g),o=Math.round(o));var y=Gq(h).map(function(p){return g+a*p});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Tx(t(),[n,i]).round(s).paddingInner(c).paddingOuter(u).align(d)},fn.apply(f(),arguments)}function aC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aC(t())},e}function Xq(){return aC(Tx.apply(null,arguments).paddingInner(1))}function Ax(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dc(){}var ac=.7,uf=1/ac,Vo="\\s*([+-]?\\d+)\\s*",oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qq=/^#([0-9a-f]{3,8})$/,Jq=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),Zq=new RegExp(`^rgb\\(${Fn},${Fn},${Fn}\\)$`),eV=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${oc}\\)$`),tV=new RegExp(`^rgba\\(${Fn},${Fn},${Fn},${oc}\\)$`),rV=new RegExp(`^hsl\\(${oc},${Fn},${Fn}\\)$`),nV=new RegExp(`^hsla\\(${oc},${Fn},${Fn},${oc}\\)$`),N4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ax(Dc,sc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k4,formatHex:k4,formatHex8:iV,formatHsl:aV,formatRgb:E4,toString:E4});function k4(){return this.rgb().formatHex()}function iV(){return this.rgb().formatHex8()}function aV(){return sC(this).formatHsl()}function E4(){return this.rgb().formatRgb()}function sc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Qq.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?C4(t):r===3?new wr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ou(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ou(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Jq.exec(e))?new wr(t[1],t[2],t[3],1):(t=Zq.exec(e))?new wr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eV.exec(e))?Ou(t[1],t[2],t[3],t[4]):(t=tV.exec(e))?Ou(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rV.exec(e))?T4(t[1],t[2]/100,t[3]/100,1):(t=nV.exec(e))?T4(t[1],t[2]/100,t[3]/100,t[4]):N4.hasOwnProperty(e)?C4(N4[e]):e==="transparent"?new wr(NaN,NaN,NaN,0):null}function C4(e){return new wr(e>>16&255,e>>8&255,e&255,1)}function Ou(e,t,r,n){return n<=0&&(e=t=r=NaN),new wr(e,t,r,n)}function oV(e){return e instanceof Dc||(e=sc(e)),e?(e=e.rgb(),new wr(e.r,e.g,e.b,e.opacity)):new wr}function Qg(e,t,r,n){return arguments.length===1?oV(e):new wr(e,t,r,n??1)}function wr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ax(wr,Qg,oC(Dc,{brighter(e){return e=e==null?uf:Math.pow(uf,e),new wr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ac:Math.pow(ac,e),new wr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wr(Ba(this.r),Ba(this.g),Ba(this.b),df(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O4,formatHex:O4,formatHex8:sV,formatRgb:P4,toString:P4}));function O4(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}`}function sV(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}${Ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function P4(){const e=df(this.opacity);return`${e===1?"rgb(":"rgba("}${Ba(this.r)}, ${Ba(this.g)}, ${Ba(this.b)}${e===1?")":`, ${e})`}`}function df(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ba(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ca(e){return e=Ba(e),(e<16?"0":"")+e.toString(16)}function T4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new wn(e,t,r,n)}function sC(e){if(e instanceof wn)return new wn(e.h,e.s,e.l,e.opacity);if(e instanceof Dc||(e=sc(e)),!e)return new wn;if(e instanceof wn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new wn(o,s,c,e.opacity)}function lV(e,t,r,n){return arguments.length===1?sC(e):new wn(e,t,r,n??1)}function wn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ax(wn,lV,oC(Dc,{brighter(e){return e=e==null?uf:Math.pow(uf,e),new wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ac:Math.pow(ac,e),new wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new wr(D0(e>=240?e-240:e+120,i,n),D0(e,i,n),D0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new wn(A4(this.h),Pu(this.s),Pu(this.l),df(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=df(this.opacity);return`${e===1?"hsl(":"hsla("}${A4(this.h)}, ${Pu(this.s)*100}%, ${Pu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function A4(e){return e=(e||0)%360,e<0?e+360:e}function Pu(e){return Math.max(0,Math.min(1,e||0))}function D0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Rx=e=>()=>e;function cV(e,t){return function(r){return e+r*t}}function uV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function dV(e){return(e=+e)==1?lC:function(t,r){return r-t?uV(t,r,e):Rx(isNaN(t)?r:t)}}function lC(e,t){var r=t-e;return r?cV(e,r):Rx(isNaN(e)?t:e)}const R4=function e(t){var r=dV(t);function n(i,a){var o=r((i=Qg(i)).r,(a=Qg(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),u=lC(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function fV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function hV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Ps(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function mV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ff(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function gV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ps(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Jg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,M0=new RegExp(Jg.source,"g");function yV(e){return function(){return e}}function vV(e){return function(t){return e(t)+""}}function xV(e,t){var r=Jg.lastIndex=M0.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=Jg.exec(e))&&(i=M0.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:ff(n,i)})),r=M0.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?vV(c[0].x):yV(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function Ps(e,t){var r=typeof t,n;return t==null||r==="boolean"?Rx(t):(r==="number"?ff:r==="string"?(n=sc(t))?(t=n,R4):xV:t instanceof sc?R4:t instanceof Date?mV:hV(t)?fV:Array.isArray(t)?pV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gV:ff)(e,t)}function Dx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function bV(e,t){t===void 0&&(t=e,e=Ps);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function wV(e){return function(){return e}}function hf(e){return+e}var D4=[0,1];function cr(e){return e}function Zg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:wV(isNaN(t)?NaN:.5)}function _V(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function jV(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Zg(i,n),a=r(o,a)):(n=Zg(n,i),a=r(a,o)),function(s){return a(n(s))}}function SV(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Zg(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var c=Rc(e,s,1,n)-1;return a[c](i[c](s))}}function Mc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hh(){var e=D4,t=D4,r=Ps,n,i,a,o=cr,s,c,u;function d(){var h=Math.min(e.length,t.length);return o!==cr&&(o=_V(e[0],e[h-1])),s=h>2?SV:jV,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(t,e.map(n),ff)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,hf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Dx,d()},f.clamp=function(h){return arguments.length?(o=h?!0:cr,d()):o!==cr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function Mx(){return Hh()(cr,cr)}function NV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ds(e){return e=pf(Math.abs(e)),e?e[1]:NaN}function kV(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function EV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var CV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lc(e){if(!(t=CV.exec(e)))throw new Error("invalid format: "+e);var t;return new $x({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lc.prototype=$x.prototype;function $x(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$x.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OV(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var cC;function PV(e,t){var r=pf(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(cC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+pf(e,Math.max(0,t+a-1))[0]}function M4(e,t){var r=pf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>M4(e*100,t),r:M4,s:PV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L4(e){return e}var I4=Array.prototype.map,B4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TV(e){var t=e.grouping===void 0||e.thousands===void 0?L4:kV(I4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?L4:EV(I4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=lc(f);var h=f.fill,m=f.align,g=f.sign,v=f.symbol,y=f.zero,p=f.width,x=f.comma,w=f.precision,_=f.trim,j=f.type;j==="n"?(x=!0,j="g"):$4[j]||(w===void 0&&(w=12),_=!0,j="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=v==="$"?n:/[%p]/.test(j)?o:"",A=$4[j],M=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(L){var U=k,X=P,J,le,Y;if(j==="c")X=A(L)+X,L="";else{L=+L;var Q=L<0||1/L<0;if(L=isNaN(L)?c:A(Math.abs(L),w),_&&(L=OV(L)),Q&&+L==0&&g!=="+"&&(Q=!1),U=(Q?g==="("?g:s:g==="-"||g==="("?"":g)+U,X=(j==="s"?B4[8+cC/3]:"")+X+(Q&&g==="("?")":""),M){for(J=-1,le=L.length;++J<le;)if(Y=L.charCodeAt(J),48>Y||Y>57){X=(Y===46?i+L.slice(J+1):L.slice(J))+X,L=L.slice(0,J);break}}}x&&!y&&(L=t(L,1/0));var q=U.length+L.length+X.length,te=q<p?new Array(p-q+1).join(h):"";switch(x&&y&&(L=t(te+L,te.length?p-X.length:1/0),te=""),m){case"<":L=U+L+X+te;break;case"=":L=U+te+L+X;break;case"^":L=te.slice(0,q=te.length>>1)+U+L+X+te.slice(q);break;default:L=te+U+L+X;break}return a(L)}return R.toString=function(){return f+""},R}function d(f,h){var m=u((f=lc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(ds(h)/3)))*3,v=Math.pow(10,-g),y=B4[8+g/3];return function(p){return m(v*p)+y}}return{format:u,formatPrefix:d}}var Tu,Lx,uC;AV({thousands:",",grouping:[3],currency:["$",""]});function AV(e){return Tu=TV(e),Lx=Tu.format,uC=Tu.formatPrefix,Tu}function RV(e){return Math.max(0,-ds(Math.abs(e)))}function DV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ds(t)/3)))*3-ds(Math.abs(e)))}function MV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ds(t)-ds(e))+1}function dC(e,t,r,n){var i=Gg(e,t,r),a;switch(n=lc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=DV(i,o))&&(n.precision=a),uC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=MV(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=RV(i))&&(n.precision=a-(n.type==="%")*2);break}}return Lx(n)}function ca(e){var t=e.domain;return e.ticks=function(r){var n=t();return Kg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return dC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=Yg(o,s,r),u===c)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function fC(){var e=Mx();return e.copy=function(){return Mc(e,fC())},fn.apply(e,arguments),ca(e)}function hC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,hf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return hC(e).unknown(t)},e=arguments.length?Array.from(e,hf):[0,1],ca(r)}function pC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function F4(e){return Math.log(e)}function z4(e){return Math.exp(e)}function $V(e){return-Math.log(-e)}function LV(e){return-Math.exp(-e)}function IV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function BV(e){return e===10?IV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function U4(e){return(t,r)=>-e(-t,r)}function Ix(e){const t=e(F4,z4),r=t.domain;let n=10,i,a;function o(){return i=FV(n),a=BV(n),r()[0]<0?(i=U4(i),a=U4(a),e($V,LV)):e(F4,z4),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,v;const y=s==null?10:+s;let p=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(v=h<0?g/a(-h):g*a(h),!(v<u)){if(v>d)break;p.push(v)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(v=h>0?g/a(-h):g*a(h),!(v<u)){if(v>d)break;p.push(v)}p.length*2<y&&(p=Kg(u,d,y))}else p=Kg(h,m,Math.min(m-h,y)).map(a);return f?p.reverse():p},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=lc(c)).precision==null&&(c.trim=!0),c=Lx(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(pC(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function mC(){const e=Ix(Hh()).domain([1,10]);return e.copy=()=>Mc(e,mC()).base(e.base()),fn.apply(e,arguments),e}function W4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Bx(e){var t=1,r=e(W4(t),H4(t));return r.constant=function(n){return arguments.length?e(W4(t=+n),H4(t)):t},ca(r)}function gC(){var e=Bx(Hh());return e.copy=function(){return Mc(e,gC()).constant(e.constant())},fn.apply(e,arguments)}function q4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function UV(e){return e<0?-e*e:e*e}function Fx(e){var t=e(cr,cr),r=1;function n(){return r===1?e(cr,cr):r===.5?e(zV,UV):e(q4(r),q4(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ca(t)}function zx(){var e=Fx(Hh());return e.copy=function(){return Mc(e,zx()).exponent(e.exponent())},fn.apply(e,arguments),e}function WV(){return zx.apply(null,arguments).exponent(.5)}function V4(e){return Math.sign(e)*e*e}function HV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yC(){var e=Mx(),t=[0,1],r=!1,n;function i(a){var o=HV(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(V4(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,hf)).map(V4)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return yC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fn.apply(i,arguments),ca(i)}function vC(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Yq(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Rc(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ji),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return vC().domain(e).range(t).unknown(n)},fn.apply(a,arguments)}function xC(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Rc(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return xC().domain([e,t]).range(i).unknown(a)},fn.apply(ca(o),arguments)}function bC(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Rc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bC().domain(e).range(t).unknown(r)},fn.apply(i,arguments)}const $0=new Date,L0=new Date;function Nt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return c},i.filter=a=>Nt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>($0.setTime(+a),L0.setTime(+o),e($0),e(L0),Math.floor(r($0,L0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const mf=Nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mf);mf.range;const ti=1e3,tn=ti*60,ri=tn*60,gi=ri*24,Ux=gi*7,K4=gi*30,I0=gi*365,Oa=Nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getUTCSeconds());Oa.range;const Wx=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti)},(e,t)=>{e.setTime(+e+t*tn)},(e,t)=>(t-e)/tn,e=>e.getMinutes());Wx.range;const Hx=Nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*tn)},(e,t)=>(t-e)/tn,e=>e.getUTCMinutes());Hx.range;const qx=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti-e.getMinutes()*tn)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getHours());qx.range;const Vx=Nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCHours());Vx.range;const $c=Nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*tn)/gi,e=>e.getDate()-1);$c.range;const qh=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gi,e=>e.getUTCDate()-1);qh.range;const wC=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gi,e=>Math.floor(e/gi));wC.range;function co(e){return Nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*tn)/Ux)}const Vh=co(0),gf=co(1),qV=co(2),VV=co(3),fs=co(4),KV=co(5),YV=co(6);Vh.range;gf.range;qV.range;VV.range;fs.range;KV.range;YV.range;function uo(e){return Nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ux)}const Kh=uo(0),yf=uo(1),GV=uo(2),XV=uo(3),hs=uo(4),QV=uo(5),JV=uo(6);Kh.range;yf.range;GV.range;XV.range;hs.range;QV.range;JV.range;const Kx=Nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Kx.range;const Yx=Nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Yx.range;const yi=Nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yi.range;const vi=Nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});vi.range;function _C(e,t,r,n,i,a){const o=[[Oa,1,ti],[Oa,5,5*ti],[Oa,15,15*ti],[Oa,30,30*ti],[a,1,tn],[a,5,5*tn],[a,15,15*tn],[a,30,30*tn],[i,1,ri],[i,3,3*ri],[i,6,6*ri],[i,12,12*ri],[n,1,gi],[n,2,2*gi],[r,1,Ux],[t,1,K4],[t,3,3*K4],[e,1,I0]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=Ox(([,,y])=>y).right(o,h);if(m===o.length)return e.every(Gg(u/I0,d/I0,f));if(m===0)return mf.every(Math.max(Gg(u,d,f),1));const[g,v]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(v)}return[s,c]}const[ZV,eK]=_C(vi,Yx,Kh,wC,Vx,Hx),[tK,rK]=_C(yi,Kx,Vh,$c,qx,Wx);function B0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function F0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function il(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function nK(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=al(i),d=ol(i),f=al(a),h=ol(a),m=al(o),g=ol(o),v=al(s),y=ol(s),p=al(c),x=ol(c),w={a:Q,A:q,b:te,B:ie,c:null,d:Z4,e:Z4,f:kK,g:$K,G:IK,H:jK,I:SK,j:NK,L:jC,m:EK,M:CK,p:oe,q:se,Q:r_,s:n_,S:OK,u:PK,U:TK,V:AK,w:RK,W:DK,x:null,X:null,y:MK,Y:LK,Z:BK,"%":t_},_={a:we,A:Ce,b:ge,B:z,c:null,d:e_,e:e_,f:WK,g:ZK,G:tY,H:FK,I:zK,j:UK,L:NC,m:HK,M:qK,p:B,q:F,Q:r_,s:n_,S:VK,u:KK,U:YK,V:GK,w:XK,W:QK,x:null,X:null,y:JK,Y:eY,Z:rY,"%":t_},j={a:R,A:L,b:U,B:X,c:J,d:Q4,e:Q4,f:xK,g:X4,G:G4,H:J4,I:J4,j:mK,L:vK,m:pK,M:gK,p:M,q:hK,Q:wK,s:_K,S:yK,u:lK,U:cK,V:uK,w:sK,W:dK,x:le,X:Y,y:X4,Y:G4,Z:fK,"%":bK};w.x=k(r,w),w.X=k(n,w),w.c=k(t,w),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k($,Z){return function(T){var C=[],W=-1,G=0,fe=$.length,ae,pe,_e;for(T instanceof Date||(T=new Date(+T));++W<fe;)$.charCodeAt(W)===37&&(C.push($.slice(G,W)),(pe=Y4[ae=$.charAt(++W)])!=null?ae=$.charAt(++W):pe=ae==="e"?" ":"0",(_e=Z[ae])&&(ae=_e(T,pe)),C.push(ae),G=W+1);return C.push($.slice(G,W)),C.join("")}}function P($,Z){return function(T){var C=il(1900,void 0,1),W=A(C,$,T+="",0),G,fe;if(W!=T.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(Z&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(G=F0(il(C.y,0,1)),fe=G.getUTCDay(),G=fe>4||fe===0?yf.ceil(G):yf(G),G=qh.offset(G,(C.V-1)*7),C.y=G.getUTCFullYear(),C.m=G.getUTCMonth(),C.d=G.getUTCDate()+(C.w+6)%7):(G=B0(il(C.y,0,1)),fe=G.getDay(),G=fe>4||fe===0?gf.ceil(G):gf(G),G=$c.offset(G,(C.V-1)*7),C.y=G.getFullYear(),C.m=G.getMonth(),C.d=G.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),fe="Z"in C?F0(il(C.y,0,1)).getUTCDay():B0(il(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(fe+5)%7:C.w+C.U*7-(fe+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,F0(C)):B0(C)}}function A($,Z,T,C){for(var W=0,G=Z.length,fe=T.length,ae,pe;W<G;){if(C>=fe)return-1;if(ae=Z.charCodeAt(W++),ae===37){if(ae=Z.charAt(W++),pe=j[ae in Y4?Z.charAt(W++):ae],!pe||(C=pe($,T,C))<0)return-1}else if(ae!=T.charCodeAt(C++))return-1}return C}function M($,Z,T){var C=u.exec(Z.slice(T));return C?($.p=d.get(C[0].toLowerCase()),T+C[0].length):-1}function R($,Z,T){var C=m.exec(Z.slice(T));return C?($.w=g.get(C[0].toLowerCase()),T+C[0].length):-1}function L($,Z,T){var C=f.exec(Z.slice(T));return C?($.w=h.get(C[0].toLowerCase()),T+C[0].length):-1}function U($,Z,T){var C=p.exec(Z.slice(T));return C?($.m=x.get(C[0].toLowerCase()),T+C[0].length):-1}function X($,Z,T){var C=v.exec(Z.slice(T));return C?($.m=y.get(C[0].toLowerCase()),T+C[0].length):-1}function J($,Z,T){return A($,t,Z,T)}function le($,Z,T){return A($,r,Z,T)}function Y($,Z,T){return A($,n,Z,T)}function Q($){return o[$.getDay()]}function q($){return a[$.getDay()]}function te($){return c[$.getMonth()]}function ie($){return s[$.getMonth()]}function oe($){return i[+($.getHours()>=12)]}function se($){return 1+~~($.getMonth()/3)}function we($){return o[$.getUTCDay()]}function Ce($){return a[$.getUTCDay()]}function ge($){return c[$.getUTCMonth()]}function z($){return s[$.getUTCMonth()]}function B($){return i[+($.getUTCHours()>=12)]}function F($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var Z=k($+="",w);return Z.toString=function(){return $},Z},parse:function($){var Z=P($+="",!1);return Z.toString=function(){return $},Z},utcFormat:function($){var Z=k($+="",_);return Z.toString=function(){return $},Z},utcParse:function($){var Z=P($+="",!0);return Z.toString=function(){return $},Z}}}var Y4={"-":"",_:" ",0:"0"},Mt=/^\s*\d+/,iK=/^%/,aK=/[\\^$*+?|[\]().{}]/g;function Me(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function oK(e){return e.replace(aK,"\\$&")}function al(e){return new RegExp("^(?:"+e.map(oK).join("|")+")","i")}function ol(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function sK(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function lK(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function cK(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function uK(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function dK(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function G4(e,t,r){var n=Mt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function X4(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function fK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function hK(e,t,r){var n=Mt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function pK(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Q4(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function mK(e,t,r){var n=Mt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function J4(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function gK(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yK(e,t,r){var n=Mt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function vK(e,t,r){var n=Mt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function xK(e,t,r){var n=Mt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bK(e,t,r){var n=iK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function wK(e,t,r){var n=Mt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _K(e,t,r){var n=Mt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Z4(e,t){return Me(e.getDate(),t,2)}function jK(e,t){return Me(e.getHours(),t,2)}function SK(e,t){return Me(e.getHours()%12||12,t,2)}function NK(e,t){return Me(1+$c.count(yi(e),e),t,3)}function jC(e,t){return Me(e.getMilliseconds(),t,3)}function kK(e,t){return jC(e,t)+"000"}function EK(e,t){return Me(e.getMonth()+1,t,2)}function CK(e,t){return Me(e.getMinutes(),t,2)}function OK(e,t){return Me(e.getSeconds(),t,2)}function PK(e){var t=e.getDay();return t===0?7:t}function TK(e,t){return Me(Vh.count(yi(e)-1,e),t,2)}function SC(e){var t=e.getDay();return t>=4||t===0?fs(e):fs.ceil(e)}function AK(e,t){return e=SC(e),Me(fs.count(yi(e),e)+(yi(e).getDay()===4),t,2)}function RK(e){return e.getDay()}function DK(e,t){return Me(gf.count(yi(e)-1,e),t,2)}function MK(e,t){return Me(e.getFullYear()%100,t,2)}function $K(e,t){return e=SC(e),Me(e.getFullYear()%100,t,2)}function LK(e,t){return Me(e.getFullYear()%1e4,t,4)}function IK(e,t){var r=e.getDay();return e=r>=4||r===0?fs(e):fs.ceil(e),Me(e.getFullYear()%1e4,t,4)}function BK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Me(t/60|0,"0",2)+Me(t%60,"0",2)}function e_(e,t){return Me(e.getUTCDate(),t,2)}function FK(e,t){return Me(e.getUTCHours(),t,2)}function zK(e,t){return Me(e.getUTCHours()%12||12,t,2)}function UK(e,t){return Me(1+qh.count(vi(e),e),t,3)}function NC(e,t){return Me(e.getUTCMilliseconds(),t,3)}function WK(e,t){return NC(e,t)+"000"}function HK(e,t){return Me(e.getUTCMonth()+1,t,2)}function qK(e,t){return Me(e.getUTCMinutes(),t,2)}function VK(e,t){return Me(e.getUTCSeconds(),t,2)}function KK(e){var t=e.getUTCDay();return t===0?7:t}function YK(e,t){return Me(Kh.count(vi(e)-1,e),t,2)}function kC(e){var t=e.getUTCDay();return t>=4||t===0?hs(e):hs.ceil(e)}function GK(e,t){return e=kC(e),Me(hs.count(vi(e),e)+(vi(e).getUTCDay()===4),t,2)}function XK(e){return e.getUTCDay()}function QK(e,t){return Me(yf.count(vi(e)-1,e),t,2)}function JK(e,t){return Me(e.getUTCFullYear()%100,t,2)}function ZK(e,t){return e=kC(e),Me(e.getUTCFullYear()%100,t,2)}function eY(e,t){return Me(e.getUTCFullYear()%1e4,t,4)}function tY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?hs(e):hs.ceil(e),Me(e.getUTCFullYear()%1e4,t,4)}function rY(){return"+0000"}function t_(){return"%"}function r_(e){return+e}function n_(e){return Math.floor(+e/1e3)}var vo,EC,CC;nY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nY(e){return vo=nK(e),EC=vo.format,vo.parse,CC=vo.utcFormat,vo.utcParse,vo}function iY(e){return new Date(e)}function aY(e){return e instanceof Date?+e:+new Date(+e)}function Gx(e,t,r,n,i,a,o,s,c,u){var d=Mx(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),v=u("%I:%M"),y=u("%I %p"),p=u("%a %d"),x=u("%b %d"),w=u("%B"),_=u("%Y");function j(k){return(c(k)<k?m:s(k)<k?g:o(k)<k?v:a(k)<k?y:n(k)<k?i(k)<k?p:x:r(k)<k?w:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,aY)):h().map(iY)},d.ticks=function(k){var P=h();return e(P[0],P[P.length-1],k??10)},d.tickFormat=function(k,P){return P==null?j:u(P)},d.nice=function(k){var P=h();return(!k||typeof k.range!="function")&&(k=t(P[0],P[P.length-1],k??10)),k?h(pC(P,k)):d},d.copy=function(){return Mc(d,Gx(e,t,r,n,i,a,o,s,c,u))},d}function oY(){return fn.apply(Gx(tK,rK,yi,Kx,Vh,$c,qx,Wx,Oa,EC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sY(){return fn.apply(Gx(ZV,eK,vi,Yx,Kh,qh,Vx,Hx,Oa,CC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yh(){var e=0,t=1,r,n,i,a,o=cr,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Ps),u.rangeRound=d(Dx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function ua(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OC(){var e=ca(Yh()(cr));return e.copy=function(){return ua(e,OC())},_i.apply(e,arguments)}function PC(){var e=Ix(Yh()).domain([1,10]);return e.copy=function(){return ua(e,PC()).base(e.base())},_i.apply(e,arguments)}function TC(){var e=Bx(Yh());return e.copy=function(){return ua(e,TC()).constant(e.constant())},_i.apply(e,arguments)}function Xx(){var e=Fx(Yh());return e.copy=function(){return ua(e,Xx()).exponent(e.exponent())},_i.apply(e,arguments)}function lY(){return Xx.apply(null,arguments).exponent(.5)}function AC(){var e=[],t=cr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ji),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Kq(e,a/n))},r.copy=function(){return AC(t).domain(e)},_i.apply(r,arguments)}function Gh(){var e=0,t=.5,r=1,n=1,i,a,o,s,c,u=cr,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-a)*(n*v<n*a?s:c),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,r]=v,i=d(e=+e),a=d(t=+t),o=d(r=+r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function g(v){return function(y){var p,x,w;return arguments.length?([p,x,w]=y,u=bV(v,[p,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Ps),m.rangeRound=g(Dx),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,i=v(e),a=v(t),o=v(r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function RC(){var e=ca(Gh()(cr));return e.copy=function(){return ua(e,RC())},_i.apply(e,arguments)}function DC(){var e=Ix(Gh()).domain([.1,1,10]);return e.copy=function(){return ua(e,DC()).base(e.base())},_i.apply(e,arguments)}function MC(){var e=Bx(Gh());return e.copy=function(){return ua(e,MC()).constant(e.constant())},_i.apply(e,arguments)}function Qx(){var e=Fx(Gh());return e.copy=function(){return ua(e,Qx()).exponent(e.exponent())},_i.apply(e,arguments)}function cY(){return Qx.apply(null,arguments).exponent(.5)}const gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tx,scaleDiverging:RC,scaleDivergingLog:DC,scaleDivergingPow:Qx,scaleDivergingSqrt:cY,scaleDivergingSymlog:MC,scaleIdentity:hC,scaleImplicit:Xg,scaleLinear:fC,scaleLog:mC,scaleOrdinal:Px,scalePoint:Xq,scalePow:zx,scaleQuantile:vC,scaleQuantize:xC,scaleRadial:yC,scaleSequential:OC,scaleSequentialLog:PC,scaleSequentialPow:Xx,scaleSequentialQuantile:AC,scaleSequentialSqrt:lY,scaleSequentialSymlog:TC,scaleSqrt:WV,scaleSymlog:gC,scaleThreshold:bC,scaleTime:oY,scaleUtc:sY,tickFormat:dC},Symbol.toStringTag,{value:"Module"}));var da=e=>e.chartData,uY=V([da],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Jx=(e,t,r,n)=>n?uY(e):da(e);function Za(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(tr(t)&&tr(r))return!0}return!1}function i_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $C(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(tr(r))i=r;else if(typeof r=="function")return;if(tr(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Za(o))return o}}function dY(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Za(n))return i_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(he(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Q2.test(i)){var c=Q2.exec(i);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(he(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&J2.test(a)){var d=J2.exec(a);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[o,s];if(Za(h))return t==null?h:i_(h,t,r)}}}var Ts=1e9,fY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},e1,rt=!0,cn="[DecimalError] ",Fa=cn+"Invalid argument: ",Zx=cn+"Exponent out of range: ",As=Math.floor,ba=Math.pow,hY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,Ot=1e7,Ze=7,LC=9007199254740991,vf=As(LC/Ze),de={};de.absoluteValue=de.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};de.comparedTo=de.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};de.decimalPlaces=de.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};de.dividedBy=de.div=function(e){return oi(this,new this.constructor(e))};de.dividedToIntegerBy=de.idiv=function(e){var t=this,r=t.constructor;return Ve(oi(t,new r(e),0,1),r.precision)};de.equals=de.eq=function(e){return!this.cmp(e)};de.exponent=function(){return vt(this)};de.greaterThan=de.gt=function(e){return this.cmp(e)>0};de.greaterThanOrEqualTo=de.gte=function(e){return this.cmp(e)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(e){return this.cmp(e)<0};de.lessThanOrEqualTo=de.lte=function(e){return this.cmp(e)<1};de.logarithm=de.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Rr))throw Error(cn+"NaN");if(r.s<1)throw Error(cn+(r.s?"NaN":"-Infinity"));return r.eq(Rr)?new n(0):(rt=!1,t=oi(cc(r,a),cc(e,a),a),rt=!0,Ve(t,i))};de.minus=de.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FC(t,e):IC(t,(e.s=-e.s,e))};de.modulo=de.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(cn+"NaN");return r.s?(rt=!1,t=oi(r,e,0,1).times(e),rt=!0,r.minus(t)):Ve(new n(r),i)};de.naturalExponential=de.exp=function(){return BC(this)};de.naturalLogarithm=de.ln=function(){return cc(this)};de.negated=de.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};de.plus=de.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IC(t,e):FC(t,(e.s=-e.s,e))};de.precision=de.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fa+e);if(t=vt(i)+1,n=i.d.length-1,r=n*Ze+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};de.squareRoot=de.sqrt=function(){var e,t,r,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(cn+"NaN")}for(e=vt(s),rt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=$n(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=As((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(oi(s,a,o+2)).times(.5),$n(a.d).slice(0,o)===(t=$n(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ve(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return rt=!0,Ve(n,r)};de.times=de.mul=function(e){var t,r,n,i,a,o,s,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)s=a[i]+m[n]*h[i-n-1]+t,a[i--]=s%Ot|0,t=s/Ot|0;a[i]=(a[i]+t)%Ot|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,rt?Ve(e,f.precision):e};de.toDecimalPlaces=de.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qn(e,0,Ts),t===void 0?t=n.rounding:qn(t,0,8),Ve(r,e+vt(r)+1,t))};de.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=eo(n,!0):(qn(e,0,Ts),t===void 0?t=i.rounding:qn(t,0,8),n=Ve(new i(n),e+1,t),r=eo(n,!0,e+1)),r};de.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?eo(i):(qn(e,0,Ts),t===void 0?t=a.rounding:qn(t,0,8),n=Ve(new a(i),e+vt(i)+1,t),r=eo(n.abs(),!1,e+vt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};de.toInteger=de.toint=function(){var e=this,t=e.constructor;return Ve(new t(e),vt(e)+1,t.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(e){var t,r,n,i,a,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Rr);if(s=new c(s),!s.s){if(e.s<1)throw Error(cn+"Infinity");return s}if(s.eq(Rr))return s;if(n=c.precision,e.eq(Rr))return Ve(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=d<0?-d:d)<=LC){for(i=new c(Rr),t=Math.ceil(n/Ze+4),rt=!1;r%2&&(i=i.times(s),o_(i.d,t)),r=As(r/2),r!==0;)s=s.times(s),o_(s.d,t);return rt=!0,e.s<0?new c(Rr).div(i):Ve(i,n)}}else if(a<0)throw Error(cn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,rt=!1,i=e.times(cc(s,n+u)),rt=!0,i=BC(i),i.s=a,i};de.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=vt(i),n=eo(i,r<=a.toExpNeg||r>=a.toExpPos)):(qn(e,1,Ts),t===void 0?t=a.rounding:qn(t,0,8),i=Ve(new a(i),e,t),r=vt(i),n=eo(i,e<=r||r<=a.toExpNeg,e)),n};de.toSignificantDigits=de.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qn(e,1,Ts),t===void 0?t=n.rounding:qn(t,0,8)),Ve(new n(r),e,t)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vt(e),r=e.constructor;return eo(e,t<=r.toExpNeg||t>=r.toExpPos)};function IC(e,t){var r,n,i,a,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rt?Ve(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=u.length):(n=u,i=o,s=c.length),o=Math.ceil(f/Ze),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Ot|0,c[a]%=Ot;for(r&&(c.unshift(r),++i),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=i,rt?Ve(t,f):t}function qn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fa+e)}function $n(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Ze-n.length,r&&(a+=Ai(r)),a+=n;o=e[t],n=o+"",r=Ze-n.length,r&&(a+=Ai(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var oi=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Ot|0,o=a/Ot|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ot+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,u,d,f,h,m,g,v,y,p,x,w,_,j,k,P,A,M=n.constructor,R=n.s==i.s?1:-1,L=n.d,U=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(cn+"Division by zero");for(c=n.e-i.e,P=U.length,j=L.length,m=new M(R),g=m.d=[],u=0;U[u]==(L[u]||0);)++u;if(U[u]>(L[u]||0)&&--c,a==null?x=a=M.precision:o?x=a+(vt(n)-vt(i))+1:x=a,x<0)return new M(0);if(x=x/Ze+2|0,u=0,P==1)for(d=0,U=U[0],x++;(u<j||d)&&x--;u++)w=d*Ot+(L[u]||0),g[u]=w/U|0,d=w%U|0;else{for(d=Ot/(U[0]+1)|0,d>1&&(U=e(U,d),L=e(L,d),P=U.length,j=L.length),_=P,v=L.slice(0,P),y=v.length;y<P;)v[y++]=0;A=U.slice(),A.unshift(0),k=U[0],U[1]>=Ot/2&&++k;do d=0,s=t(U,v,P,y),s<0?(p=v[0],P!=y&&(p=p*Ot+(v[1]||0)),d=p/k|0,d>1?(d>=Ot&&(d=Ot-1),f=e(U,d),h=f.length,y=v.length,s=t(f,v,h,y),s==1&&(d--,r(f,P<h?A:U,h))):(d==0&&(s=d=1),f=U.slice()),h=f.length,h<y&&f.unshift(0),r(v,f,y),s==-1&&(y=v.length,s=t(U,v,P,y),s<1&&(d++,r(v,P<y?A:U,y))),y=v.length):s===0&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[y++]=L[_]||0:(v=[L[_]],y=1);while((_++<j||v[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,Ve(m,o?a+vt(m)+1:a)}}();function BC(e,t){var r,n,i,a,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(vt(e)>16)throw Error(Zx+vt(e));if(!e.s)return new d(Rr);for(rt=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ba(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new d(Rr),d.precision=s;;){if(i=Ve(i.times(e),s),r=r.times(++c),o=a.plus(oi(i,r,s)),$n(o.d).slice(0,s)===$n(a.d).slice(0,s)){for(;u--;)a=Ve(a.times(a),s);return d.precision=f,t==null?(rt=!0,Ve(a,f)):a}a=o}}function vt(e){for(var t=e.e*Ze,r=e.d[0];r>=10;r/=10)t++;return t}function z0(e,t,r){if(t>e.LN10.sd())throw rt=!0,r&&(e.precision=r),Error(cn+"LN10 precision limit exceeded");return Ve(new e(e.LN10),t)}function Ai(e){for(var t="";e--;)t+="0";return t}function cc(e,t){var r,n,i,a,o,s,c,u,d,f=1,h=10,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(cn+(m.s?"NaN":"-Infinity"));if(m.eq(Rr))return new v(0);if(t==null?(rt=!1,u=y):u=t,m.eq(10))return t==null&&(rt=!0),z0(v,u);if(u+=h,v.precision=u,r=$n(g),n=r.charAt(0),a=vt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=$n(m.d),n=r.charAt(0),f++;a=vt(m),n>1?(m=new v("0."+r),a++):m=new v(n+"."+r.slice(1))}else return c=z0(v,u+2,y).times(a+""),m=cc(new v(n+"."+r.slice(1)),u-h).plus(c),v.precision=y,t==null?(rt=!0,Ve(m,y)):m;for(s=o=m=oi(m.minus(Rr),m.plus(Rr),u),d=Ve(m.times(m),u),i=3;;){if(o=Ve(o.times(d),u),c=s.plus(oi(o,new v(i),u)),$n(c.d).slice(0,u)===$n(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(z0(v,u+2,y).times(a+""))),s=oi(s,new v(f),u),v.precision=y,t==null?(rt=!0,Ve(s,y)):s;s=c,i+=2}}function a_(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=As(r/Ze),e.d=[],n=(r+1)%Ze,r<0&&(n+=Ze),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ze;n<i;)e.d.push(+t.slice(n,n+=Ze));t=t.slice(n),n=Ze-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),rt&&(e.e>vf||e.e<-vf))throw Error(Zx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ve(e,t,r){var n,i,a,o,s,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Ze,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ze),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=Ze,i=n-Ze+o}if(r!==void 0&&(a=ba(10,o-i-1),s=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?i>0?u/ba(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=vt(e),f.length=1,t=t-a-1,f[0]=ba(10,(Ze-t%Ze)%Ze),e.e=As(-t/Ze)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=ba(10,Ze-n),f[d]=i>0?(u/ba(10,o-i)%ba(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Ot&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Ot)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(rt&&(e.e>vf||e.e<-vf))throw Error(Zx+vt(e));return e}function FC(e,t){var r,n,i,a,o,s,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rt?Ve(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),i=Math.max(Math.ceil(m/Ze),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Ot-1;--c[a],c[i]+=Ot}c[i]-=f[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rt?Ve(t,m):t):new h(0)}function eo(e,t,r){var n,i=vt(e),a=$n(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ai(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ai(-i-1)+a,r&&(n=r-o)>0&&(a+=Ai(n))):i>=o?(a+=Ai(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ai(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ai(n))),e.s<0?"-"+a:a}function o_(e,t){if(e.length>t)return e.length=t,!0}function zC(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Fa+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return a_(o,a.toString())}else if(typeof a!="string")throw Error(Fa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,hY.test(a))a_(o,a);else throw Error(Fa+a)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=zC,i.config=i.set=pY,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function pY(e){if(!e||typeof e!="object")throw Error(cn+"Object expected");var t,r,n,i=["precision",1,Ts,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(As(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Fa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fa+r+": "+n);return this}var e1=zC(fY);Rr=new e1(1);const Ie=e1;var mY=e=>e,UC={},WC=e=>e===UC,s_=e=>function t(){return arguments.length===0||arguments.length===1&&WC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},HC=(e,t)=>e===1?t:s_(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==UC).length;return a>=e?t(...n):HC(e-a,s_(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=n.map(d=>WC(d)?s.shift():d);return t(...u,...s)}))}),Xh=e=>HC(e.length,e),ey=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},gY=Xh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),yY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return mY;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,c)=>c(s),a(...arguments))}},ty=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),qC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[s])})||(t=i,r=e(...i)),r}};function VC(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function KC(e,t,r){for(var n=new Ie(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Xh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Xh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Xh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var YC=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},GC=(e,t,r)=>{if(e.lte(0))return new Ie(0);var n=VC(e.toNumber()),i=new Ie(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new Ie(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=s.mul(i);return t?new Ie(c.toNumber()):new Ie(Math.ceil(c.toNumber()))},vY=(e,t,r)=>{var n=new Ie(1),i=new Ie(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ie(10).pow(VC(e)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ie(Math.floor(e)))}else e===0?i=new Ie(Math.floor((t-1)/2)):r||(i=new Ie(Math.floor(e)));var o=Math.floor((t-1)/2),s=yY(gY(c=>i.add(new Ie(c-o).mul(n)).toNumber()),ey);return s(0,t)},XC=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var o=GC(new Ie(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new Ie(0):(s=new Ie(t).add(r).div(2),s=s.sub(new Ie(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new Ie(r).sub(s).div(o).toNumber()),d=c+u+1;return d>n?XC(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:s.sub(new Ie(c).mul(o)),tickMax:s.add(new Ie(u).mul(o))})};function xY(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=YC([t,r]);if(o===-1/0||s===1/0){var c=s===1/0?[o,...ey(0,n-1).map(()=>1/0)]:[...ey(0,n-1).map(()=>-1/0),s];return t>r?ty(c):c}if(o===s)return vY(o,n,i);var{step:u,tickMin:d,tickMax:f}=XC(o,s,a,i,0),h=KC(d,f.add(new Ie(.1).mul(u)),u);return t>r?ty(h):h}function bY(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=YC([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),c=GC(new Ie(o).sub(a).div(s-1),i,0),u=[...KC(new Ie(a),new Ie(o),c),o];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?ty(u):u}var wY=qC(xY),_Y=qC(bY),QC=e=>e.rootProps.maxBarSize,jY=e=>e.rootProps.barGap,JC=e=>e.rootProps.barCategoryGap,SY=e=>e.rootProps.barSize,Qh=e=>e.rootProps.stackOffset,t1=e=>e.options.chartName,r1=e=>e.rootProps.syncId,ZC=e=>e.rootProps.syncMethod,n1=e=>e.options.eventEmitter,Qn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ar={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Jh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},NY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qn.angleAxisId,includeHidden:!1,name:void 0,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:void 0,ticks:void 0,type:Qn.type,unit:void 0},kY={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ar.scale,tick:Ar.tick,tickCount:Ar.tickCount,ticks:void 0,type:Ar.type,unit:void 0},EY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qn.scale,tick:Qn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},CY={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ar.scale,tick:Ar.tick,tickCount:Ar.tickCount,ticks:void 0,type:"category",unit:void 0},i1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?EY:NY,a1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?CY:kY,Zh=e=>e.polarOptions,o1=V([bi,wi,Dt],wW),e5=V([Zh,o1],(e,t)=>{if(e!=null)return kn(e.innerRadius,t,0)}),t5=V([Zh,o1],(e,t)=>{if(e!=null)return kn(e.outerRadius,t,t*.8)}),OY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},r5=V([Zh],OY);V([i1,r5],Jh);var n5=V([o1,e5,t5],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});V([a1,n5],Jh);var i5=V([Fe,Zh,e5,t5,bi,wi],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:u}=t;return{cx:kn(o,i,i/2),cy:kn(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),kt=(e,t)=>t,ep=(e,t,r)=>r;function s1(e){return e==null?void 0:e.id}var Et=e=>{var t=Fe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Rs=e=>e.tooltip.settings.axisId,Ct=e=>{var t=Et(e),r=Rs(e);return Lc(e,t,r)},a5=V([Ct],e=>e==null?void 0:e.dataKey);function o5(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var c,u=(c=s.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=s1(s);u.forEach((f,h)=>{var m=a==null||i?h:String(dr(f,a,null)),g=dr(f,s.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:g}),o.set(m,v)})}}),Array.from(o.values())}function tp(e){return e.stackId!=null&&e.dataKey!=null}var rp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function np(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return(t=TY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ry=[0,"auto"],Or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},s5=(e,t)=>e.cartesianAxis.xAxis[t],ji=(e,t)=>{var r=s5(e,t);return r??Or},Pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ry,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ac},l5=(e,t)=>e.cartesianAxis.yAxis[t],Si=(e,t)=>{var r=l5(e,t);return r??Pr},RY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},l1=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??RY},mr=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Si(e,r);case"zAxis":return l1(e,r);case"angleAxis":return i1(e,r);case"radiusAxis":return a1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DY=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Si(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lc=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Si(e,r);case"angleAxis":return i1(e,r);case"radiusAxis":return a1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},c5=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function u5(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var c1=e=>e.graphicalItems.cartesianItems,MY=V([kt,ep],u5),d5=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Ic=V([c1,mr,MY],d5,{memoizeOptions:{resultEqualityCheck:np}}),f5=V([Ic],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(tp)),h5=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),$Y=V([Ic],h5),p5=e=>e.map(t=>t.data).filter(Boolean).flat(1),LY=V([Ic],p5,{memoizeOptions:{resultEqualityCheck:np}}),m5=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},u1=V([LY,Jx],m5),g5=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:dr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:dr(i,n)}))):e.map(n=>({value:n})),ip=V([u1,mr,Ic],g5);function y5(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ad(e){if(Hn(e)||e instanceof Date){var t=Number(e);if(tr(t))return t}}function c_(e){if(Array.isArray(e)){var t=[ad(e[0]),ad(e[1])];return Za(t)?t:void 0}var r=ad(e);if(r!=null)return[r,r]}function Ds(e){return e.map(ad).filter(nq)}function IY(e,t,r){return!r||typeof t!="number"||sn(t)?[]:r.length?Ds(r.flatMap(n=>{var i=dr(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!tr(a)||!tr(o)))return[t-a,t+o]})):[]}var BY=V([f5,Jx,Ct],o5),v5=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,c=s.map(s1);return[o,{stackedData:LW(e,c,r),graphicalItems:s}]}))},ny=V([BY,f5,Qh],v5),x5=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=UW(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},FY=V([mr],e=>e.allowDataOverflow),d1=e=>{var t;if(e==null||!("domain"in e))return ry;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ds(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ry},b5=V([mr],d1),w5=V([b5,FY],$C),zY=V([ny,da,kt,w5],x5,{memoizeOptions:{resultEqualityCheck:rp}}),f1=e=>e.errorBars,UY=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>y5(r,n)),bf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},_5=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(s=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(p=>y5(i,p)),h=dr(s,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=IY(s,h,f);if(m.length>=2){var g=Math.min(...m),v=Math.max(...m);(a==null||g<a)&&(a=g),(o==null||v>o)&&(o=v)}var y=c_(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var c=c_(dr(s,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),tr(a)&&tr(o))return[a,o]},WY=V([u1,mr,$Y,f1,kt],_5,{memoizeOptions:{resultEqualityCheck:rp}});function HY(e){var{value:t}=e;if(Hn(t)||t instanceof Date)return t}var qY=(e,t,r)=>{var n=e.map(HY).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&k6(n))?tC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},j5=e=>e.referenceElements.dots,Ms=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),VY=V([j5,kt,ep],Ms),S5=e=>e.referenceElements.areas,KY=V([S5,kt,ep],Ms),N5=e=>e.referenceElements.lines,YY=V([N5,kt,ep],Ms),k5=(e,t)=>{var r=Ds(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},GY=V(VY,kt,k5),E5=(e,t)=>{var r=Ds(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},XY=V([KY,kt],E5),C5=(e,t)=>{var r=Ds(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},QY=V(YY,kt,C5),JY=V(GY,QY,XY,(e,t,r)=>bf(e,r,t)),O5=(e,t,r,n,i,a,o,s)=>{if(r!=null)return r;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=c?bf(n,a,i):bf(a,i);return dY(t,u,e.allowDataOverflow)},ZY=V([mr,b5,w5,zY,WY,JY,Fe,kt],O5,{memoizeOptions:{resultEqualityCheck:rp}}),eG=[0,1],P5=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,u=lo(t,a);return u&&s==null?tC(0,r.length):c==="category"?qY(n,e,u):i==="expand"?eG:o}},h1=V([mr,Fe,u1,ip,Qh,kt,ZY],P5),T5=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Oc(a));return s in gl?s:"point"}}},Bc=V([mr,Fe,c5,t1,kt],T5);function tG(e){if(e!=null){if(e in gl)return gl[e]();var t="scale".concat(Oc(e));if(t in gl)return gl[t]()}}function p1(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=tG(t);if(i!=null){var a=i.domain(r).range(n);return AW(a),a}}}var A5=(e,t,r)=>{var n=d1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Za(e))return wY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Za(e))return _Y(e,t.tickCount,t.allowDecimals)}},m1=V([h1,Lc,Bc],A5),R5=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Za(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},rG=V([mr,h1,m1,kt],R5),nG=V(ip,mr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ds(e.map(s=>s.value))).sort((s,c)=>s-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),D5=V(nG,Fe,JC,Dt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!tr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=kn(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),iG=(e,t)=>{var r=ji(e,t);return r==null||typeof r.padding!="string"?0:D5(e,"xAxis",t,r.padding)},aG=(e,t)=>{var r=Si(e,t);return r==null||typeof r.padding!="string"?0:D5(e,"yAxis",t,r.padding)},oG=V(ji,iG,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),sG=V(Si,aG,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),lG=V([Dt,oG,zh,Fh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),cG=V([Dt,Fe,sG,zh,Fh,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Fc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return lG(e,r,n);case"yAxis":return cG(e,r,n);case"zAxis":return(i=l1(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return r5(e);case"radiusAxis":return n5(e,r);default:return}},M5=V([mr,Fc],Jh),$s=V([mr,Bc,rG,M5],p1);V([Ic,f1,kt],UY);function $5(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ap=(e,t)=>t,op=(e,t,r)=>r,uG=V(Ih,ap,op,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($5)),dG=V(Bh,ap,op,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($5)),L5=(e,t)=>({width:e.width,height:t.height}),fG=(e,t)=>{var r=typeof t.width=="number"?t.width:Ac;return{width:r,height:e.height}},I5=V(Dt,ji,L5),hG=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},pG=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},mG=V(wi,Dt,uG,ap,op,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var c=L5(t,s);o==null&&(o=hG(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),a}),gG=V(bi,Dt,dG,ap,op,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var c=fG(t,s);o==null&&(o=pG(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),a}),yG=(e,t)=>{var r=ji(e,t);if(r!=null)return mG(e,r.orientation,r.mirror)},vG=V([Dt,ji,yG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),xG=(e,t)=>{var r=Si(e,t);if(r!=null)return gG(e,r.orientation,r.mirror)},bG=V([Dt,Si,xG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),B5=V(Dt,Si,(e,t)=>{var r=typeof t.width=="number"?t.width:Ac;return{width:r,height:e.height}}),u_=(e,t,r)=>{switch(t){case"xAxis":return I5(e,r).width;case"yAxis":return B5(e,r).height;default:return}},F5=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=lo(e,n),c=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&k6(c))return c}},g1=V([Fe,ip,mr,kt],F5),z5=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=lo(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},y1=V([Fe,ip,Lc,kt],z5),d_=V([Fe,DY,Bc,$s,g1,y1,Fc,m1,kt],(e,t,r,n,i,a,o,s,c)=>{if(t==null)return null;var u=lo(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}),wG=(e,t,r,n,i,a,o,s,c)=>{if(!(t==null||n==null)){var u=lo(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=c==="angleAxis"&&a!=null&&a.length>=2?br(a[0]-a[1])*2*g:g;var v=f||i;if(v){var y=v.map((p,x)=>{var w=o?o.indexOf(p):p;return{index:x,coordinate:n(w)+g,value:p,offset:g}});return y.filter(p=>!sn(p.coordinate))}return u&&s?s.map((p,x)=>({coordinate:n(p)+g,value:p,index:x,offset:g})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+g,value:p,offset:g})):n.domain().map((p,x)=>({coordinate:n(p)+g,value:o?o[p]:p,index:x,offset:g}))}},U5=V([Fe,Lc,Bc,$s,m1,Fc,g1,y1,kt],wG),_G=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=lo(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?br(n[0]-n[1])*2*u:u,s&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},ps=V([Fe,Lc,$s,Fc,g1,y1,kt],_G),ms=V(mr,$s,(e,t)=>{if(!(e==null||t==null))return xf(xf({},e),{},{scale:t})}),jG=V([mr,Bc,h1,M5],p1);V((e,t,r)=>l1(e,r),jG,(e,t)=>{if(!(e==null||t==null))return xf(xf({},e),{},{scale:t})});var SG=V([Fe,Ih,Bh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),W5=e=>e.options.defaultTooltipEventType,H5=e=>e.options.validateTooltipEventTypes;function q5(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function v1(e,t){var r=W5(e),n=H5(e);return q5(t,r,n)}function NG(e){return me(t=>v1(t,e))}var V5=(e,t)=>{var r,n=Number(t);if(!(sn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},kG=e=>e.tooltip.settings,$i={active:!1,index:null,dataKey:void 0,coordinate:void 0},EG={itemInteraction:{click:$i,hover:$i},axisInteraction:{click:$i,hover:$i},keyboardInteraction:$i,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},K5=Ur({name:"tooltip",initialState:EG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:or()},removeTooltipEntrySettings:{reducer(e,t){var r=ai(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:or()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:CG,removeTooltipEntrySettings:OG,setTooltipSettingsState:PG,setActiveMouseOverItemIndex:Y5,mouseLeaveItem:TG,mouseLeaveChart:G5,setActiveClickItemIndex:AG,setMouseOverAxisIndex:X5,setMouseClickAxisIndex:RG,setSyncInteraction:iy,setKeyboardInteraction:ay}=K5.actions,DG=K5.reducer;function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return(t=$G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=LG(e,"string");return typeof t=="symbol"?t:t+""}function LG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IG(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function BG(e){return e.index!=null}var Q5=(e,t,r,n)=>{if(t==null)return $i;var i=IG(e,t,r);if(i==null)return $i;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(BG(i)){if(a)return Au(Au({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Au(Au({},$i),{},{coordinate:i.coordinate})},x1=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!tr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},J5=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var c=o[0],u=c==null?void 0:s(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},Z5=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},zc=e=>e.options.tooltipPayloadSearcher,Ls=e=>e.tooltip;function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WG(e,t){return e??t}var e8=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:v,settings:y}=m,p=WG(v,s),x=Array.isArray(p)?CE(p,u,d):p,w=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n,_=y==null?void 0:y.nameKey,j;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?j=Sz(x,n,i):j=a(x,t,c,_),Array.isArray(j))j.forEach(P=>{var A=p_(p_({},y),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(Z2({tooltipEntrySettings:A,dataKey:P.dataKey,payload:P.payload,value:dr(P.payload,P.dataKey),name:P.name}))});else{var k;h.push(Z2({tooltipEntrySettings:y,dataKey:w,payload:j,value:dr(j,w),name:(k=dr(j,_))!==null&&k!==void 0?k:y==null?void 0:y.name}))}return h},f)}},b1=V([Ct,Fe,c5,t1,Et],T5),HG=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qG=V([Et,Rs],u5),Uc=V([HG,Ct,qG],d5,{memoizeOptions:{resultEqualityCheck:np}}),VG=V([Uc],e=>e.filter(tp)),KG=V([Uc],p5,{memoizeOptions:{resultEqualityCheck:np}}),Is=V([KG,da],m5),YG=V([VG,da,Ct],o5),w1=V([Is,Ct,Uc],g5),t8=V([Ct],d1),GG=V([Ct],e=>e.allowDataOverflow),r8=V([t8,GG],$C),XG=V([Uc],e=>e.filter(tp)),QG=V([YG,XG,Qh],v5),JG=V([QG,da,Et,r8],x5),ZG=V([Uc],h5),eX=V([Is,Ct,ZG,f1,Et],_5,{memoizeOptions:{resultEqualityCheck:rp}}),tX=V([j5,Et,Rs],Ms),rX=V([tX,Et],k5),nX=V([S5,Et,Rs],Ms),iX=V([nX,Et],E5),aX=V([N5,Et,Rs],Ms),oX=V([aX,Et],C5),sX=V([rX,oX,iX],bf),lX=V([Ct,t8,r8,JG,eX,sX,Fe,Et],O5),n8=V([Ct,Fe,Is,w1,Qh,Et,lX],P5),cX=V([n8,Ct,b1],A5),uX=V([Ct,n8,cX,Et],R5),i8=e=>{var t=Et(e),r=Rs(e),n=!1;return Fc(e,t,r,n)},a8=V([Ct,i8],Jh),o8=V([Ct,b1,uX,a8],p1),dX=V([Fe,w1,Ct,Et],F5),fX=V([Fe,w1,Ct,Et],z5),hX=(e,t,r,n,i,a,o,s)=>{if(t){var{type:c}=t,u=lo(e,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?br(i[0]-i[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Ni=V([Fe,Ct,b1,o8,i8,dX,fX,Et],hX),_1=V([W5,H5,kG],(e,t,r)=>q5(r.shared,e,t)),s8=e=>e.tooltip.settings.trigger,j1=e=>e.tooltip.settings.defaultIndex,sp=V([Ls,_1,s8,j1],Q5),gs=V([sp,Is],x1),l8=V([Ni,gs],V5),c8=V([sp],e=>{if(e)return e.dataKey}),u8=V([Ls,_1,s8,j1],Z5),pX=V([bi,wi,Fe,Dt,Ni,j1,u8,zc],J5),mX=V([sp,pX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),gX=V([sp],e=>e.active),yX=V([u8,gs,da,a5,l8,zc,_1],e8);V([yX],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){vX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vX(e,t,r){return(t=xX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wX=()=>me(Ct),_X=()=>{var e=wX(),t=me(Ni),r=me(o8);return jx(g_(g_({},e),{},{scale:r}),t)},jX=()=>me(t1),S1=(e,t)=>t,d8=(e,t,r)=>r,N1=(e,t,r,n)=>n,SX=V(Ni,e=>Ah(e,t=>t.coordinate)),k1=V([Ls,S1,d8,N1],Q5),f8=V([k1,Is],x1),NX=(e,t,r)=>{if(t!=null){var n=Ls(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},h8=V([Ls,S1,d8,N1],Z5),wf=V([bi,wi,Fe,Dt,Ni,N1,h8,zc],J5),kX=V([k1,wf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),p8=V(Ni,f8,V5),EX=V([h8,f8,da,a5,p8,zc,S1],e8),CX=V([k1],e=>({isActive:e.active,activeIndex:e.index})),OX=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a)){var c=WW(e.chartX,e.chartY,t,r,s);if(c){var u=qW(c,t),d=PW(u,o,a,n,i),f=HW(t,a,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(null,arguments)}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){PX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PX(e,t,r){return(t=TX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RX(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!s||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,g;if(u==="ScatterChart")m=d,g=XH;else if(u==="BarChart")m=QH(o,d,i,a),g=YE;else if(o==="radial"){var{cx:v,cy:y,radius:p,startAngle:x,endAngle:w}=GE(d);m={cx:v,cy:y,startAngle:x,endAngle:w,innerRadius:p,outerRadius:p},g=QE}else m={points:Dq(o,d,i)},g=zH;var _=typeof s=="object"&&"className"in s?s.className:void 0,j=Ru(Ru(Ru(Ru({stroke:"#ccc",pointerEvents:"none"},i),m),ex(s)),{},{payload:f,payloadIndex:h,className:Ae("recharts-tooltip-cursor",_)});return b.isValidElement(s)?b.cloneElement(s,j):b.createElement(g,j)}function DX(e){var t=_X(),r=BE(),n=kx(),i=jX();return b.createElement(RX,oy({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var m8=b.createContext(null),MX=()=>b.useContext(m8),g8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,g){var v=r?r+u:u;if(!this._events[v])return!1;var y=this._events[v],p=arguments.length,x,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),p){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(w=1,x=new Array(p-1);w<p;w++)x[w-1]=arguments[w];y.fn.apply(y.context,x)}else{var _=y.length,j;for(w=0;w<_;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),p){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(p-1);j<p;j++)x[j-1]=arguments[j];y[w].fn.apply(y[w].context,x)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var v=0,y=[],p=g.length;v<p;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&y.push(g[v]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(g8);var $X=g8.exports;const LX=En($X);var uc=new LX,sy="recharts.syncEvent.tooltip",v_="recharts.syncEvent.brush";function IX(e,t){if(t){var r=Number.parseInt(t,10);if(!sn(r))return e==null?void 0:e[r]}}var BX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},y8=Ur({name:"options",initialState:BX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),FX=y8.reducer,{createEventEmitter:zX}=y8.actions;function UX(e){return e.tooltip.syncInteraction}var WX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},v8=Ur({name:"chartData",initialState:WX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:x_,setDataStartEndIndexes:HX,setComputedData:xne}=v8.actions,qX=v8.reducer,VX=["x","y"];function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){KX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KX(e,t,r){return(t=YX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XX(e,t){if(e==null)return{};var r,n,i=QX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var x8=()=>{};function JX(){var e=me(r1),t=me(n1),r=St(),n=me(ZC),i=me(Ni),a=kx(),o=Uh(),s=me(c=>c.rootProps.className);b.useEffect(()=>{if(e==null)return x8;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y:v}=m,y=XX(m,VX),{x:p,y:x,width:w,height:_}=d.payload.sourceViewBox,j=xo(xo({},y),{},{x:o.x+(w?(g-p)/w:0)*o.width,y:o.y+(_?(v-x)/_:0)*o.height});r(xo(xo({},d),{},{payload:xo(xo({},d.payload),{},{coordinate:j})}))}else r(d);return}if(i!=null){var k;if(typeof n=="function"){var P={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},A=n(i,P);k=i[A]}else n==="value"&&(k=i.find(Y=>String(Y.value)===d.payload.label));var{coordinate:M}=d.payload;if(k==null||d.payload.active===!1||M==null||o==null){r(iy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:R,y:L}=M,U=Math.min(R,o.x+o.width),X=Math.min(L,o.y+o.height),J={x:a==="horizontal"?k.coordinate:U,y:a==="horizontal"?X:k.coordinate},le=iy({active:d.payload.active,coordinate:J,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(le)}}};return uc.on(sy,c),()=>{uc.off(sy,c)}},[s,r,t,e,n,i,a,o])}function ZX(){var e=me(r1),t=me(n1),r=St();b.useEffect(()=>{if(e==null)return x8;var n=(i,a,o)=>{t!==o&&e===i&&r(HX(a))};return uc.on(v_,n),()=>{uc.off(v_,n)}},[r,t,e])}function eQ(){var e=St();b.useEffect(()=>{e(zX())},[e]),JX(),ZX()}function tQ(e,t,r,n,i,a){var o=me(m=>NX(m,e,t)),s=me(n1),c=me(r1),u=me(ZC),d=me(UX),f=d==null?void 0:d.active,h=Uh();b.useEffect(()=>{if(!f&&c!=null&&s!=null){var m=iy({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h});uc.emit(sy,c,m,s)}},[f,r,o,i,n,s,c,u,a,h])}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function __(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=iQ(e,"string");return typeof t=="symbol"?t:t+""}function iQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aQ(e){return e.dataKey}function oQ(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(EH,t)}var j_=[],sQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Os.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lQ(e){var t=dn(e,sQ),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:g,cursor:v,shared:y,trigger:p,defaultIndex:x,portal:w,axisId:_}=t,j=St(),k=typeof x=="number"?String(x):x;b.useEffect(()=>{j(PG({shared:y,trigger:p,axisId:_,active:r,defaultIndex:k}))},[j,y,p,_,r,k]);var P=Uh(),A=WE(),M=NG(y),{activeIndex:R,isActive:L}=me(ge=>CX(ge,M,p,k)),U=me(ge=>EX(ge,M,p,k)),X=me(ge=>p8(ge,M,p,k)),J=me(ge=>kX(ge,M,p,k)),le=U,Y=MX(),Q=r??L,[q,te]=wU([le,Q]),ie=M==="axis"?X:void 0;tQ(M,p,J,ie,R,Q);var oe=w??Y;if(oe==null)return null;var se=le??j_;Q||(se=j_),s&&se.length&&(se=Bz(le.filter(ge=>ge.value!=null&&(ge.hide!==!0||t.includeHidden)),d,aQ));var we=se.length>0,Ce=b.createElement(DH,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:Q,coordinate:J,hasPayload:we,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:P,wrapperStyle:g,lastBoundingBox:q,innerRef:te,hasPortalFromProps:!!w},oQ(o,__(__({},t),{},{payload:se,label:ie,active:Q,coordinate:J,accessibilityLayer:A})));return b.createElement(b.Fragment,null,gc.createPortal(Ce,oe),Q&&b.createElement(DX,{cursor:v,tooltipEventType:M,coordinate:J,payload:le,index:R}))}var b8=e=>null;b8.displayName="Cell";function cQ(e,t,r){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=dQ(e,"string");return typeof t=="symbol"?t:t+""}function dQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fQ{constructor(t){cQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){pQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pQ(e,t,r){return(t=mQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yQ={cacheSize:2e3,enableCache:!0},w8=hQ({},yQ),N_=new fQ(w8.cacheSize),vQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},k_="recharts_measurement_span";function xQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var E_=(e,t)=>{try{var r=document.getElementById(k_);r||(r=document.createElement("span"),r.setAttribute("id",k_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,vQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ol=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Os.isSsr)return{width:0,height:0};if(!w8.enableCache)return E_(t,r);var n=xQ(t,r),i=N_.get(n);if(i)return i;var a=E_(t,r);return N_.set(n,a),a},C_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_Q=Object.keys(_8),Mo="NaN";function jQ(e,t){return e*_8[t]}class yr{static parse(t){var r,[,n,i]=(r=wQ.exec(t))!==null&&r!==void 0?r:[];return new yr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,sn(t)&&(this.unit=""),r!==""&&!bQ.test(r)&&(this.num=NaN,this.unit=""),_Q.includes(r)&&(this.num=jQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new yr(NaN,""):new yr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new yr(NaN,""):new yr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yr(NaN,""):new yr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yr(NaN,""):new yr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return sn(this.num)}}function j8(e){if(e.includes(Mo))return Mo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=C_.exec(t))!==null&&r!==void 0?r:[],o=yr.parse(n??""),s=yr.parse(a??""),c=i==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return Mo;t=t.replace(C_,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=O_.exec(t))!==null&&u!==void 0?u:[],m=yr.parse(d??""),g=yr.parse(h??""),v=f==="+"?m.add(g):m.subtract(g);if(v.isNaN())return Mo;t=t.replace(O_,v.toString())}return t}var P_=/\(([^()]*)\)/;function SQ(e){for(var t=e,r;(r=P_.exec(t))!=null;){var[,n]=r;t=t.replace(P_,j8(n))}return t}function NQ(e){var t=e.replace(/\s+/g,"");return t=SQ(t),t=j8(t),t}function kQ(e){try{return NQ(e)}catch{return Mo}}function U0(e){var t=kQ(e.slice(5,-1));return t===Mo?"":t}var EQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],CQ=["dx","dy","angle","className","breakAll"];function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(null,arguments)}function T_(e,t){if(e==null)return{};var r,n,i=OQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var S8=/[ \f\n\r\t\v\u2028\u2029]+/,N8=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];At(t)||(r?i=t.toString().split(""):i=t.toString().split(S8));var a=i.map(s=>({word:s,width:Ol(s,n).width})),o=r?0:Ol("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},PQ=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:c}=e,u=he(a),d=o,f=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((U,X)=>{var{word:J,width:le}=X,Y=U[U.length-1];if(Y&&(n==null||i||Y.width+le+r<Number(n)))Y.words.push(J),Y.width+=le+r;else{var Q={words:[J],width:le};U.push(Q)}return U},[])},h=f(t),m=R=>R.reduce((L,U)=>L.width>U.width?L:U);if(!u||i)return h;var g=h.length>a||m(h).width>Number(n);if(!g)return h;for(var v="",y=R=>{var L=d.slice(0,R),U=N8({breakAll:c,style:s,children:L+v}).wordsWithComputedWidth,X=f(U),J=X.length>a||m(X).width>Number(n);return[J,X]},p=0,x=d.length-1,w=0,_;p<=x&&w<=d.length-1;){var j=Math.floor((p+x)/2),k=j-1,[P,A]=y(k),[M]=y(j);if(!P&&!M&&(p=j+1),P&&M&&(x=j-1),!P&&M){_=A;break}w++}return _||h},A_=e=>{var t=At(e)?[]:e.toString().split(S8);return[{words:t}]},TQ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!Os.isSsr){var s,c,u=N8({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,c=f}else return A_(n);return PQ({breakAll:a,children:n,maxLines:o,style:i},s,c,t,r)}return A_(n)},R_="#808080",E1=b.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:c="end",fill:u=R_}=e,d=T_(e,EQ),f=b.useMemo(()=>TQ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:m,angle:g,className:v,breakAll:y}=d,p=T_(d,CQ);if(!Hn(r)||!Hn(n)||f.length===0)return null;var x=r+(he(h)?h:0),w=n+(he(m)?m:0),_;switch(c){case"start":_=U0("calc(".concat(a,")"));break;case"middle":_=U0("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:_=U0("calc(".concat(f.length-1," * -").concat(i,")"));break}var j=[];if(o){var k=f[0].width,{width:P}=d;j.push("scale(".concat(he(P)?P/k:1,")"))}return g&&j.push("rotate(".concat(g,", ").concat(x,", ").concat(w,")")),j.length&&(p.transform=j.join(" ")),b.createElement("text",ly({},on(p),{ref:t,x,y:w,className:Ae("recharts-text",v),textAnchor:s,fill:u.includes("url")?R_:u}),f.map((A,M)=>{var R=A.words.join(y?"":" ");return b.createElement("tspan",{x,dy:M===0?_:i,key:"".concat(R,"-").concat(M)},R)}))});E1.displayName="Text";var AQ=["labelRef"];function RQ(e,t){if(e==null)return{};var r,n,i=DQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){MQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MQ(e,t,r){return(t=$Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Q(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jn.apply(null,arguments)}var k8=b.createContext(null),IQ=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,o=b.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return b.createElement(k8.Provider,{value:o},a)},E8=()=>{var e=b.useContext(k8),t=Uh();return e||t},BQ=b.createContext(null),FQ=()=>{var e=b.useContext(BQ),t=me(i5);return e||t},zQ=e=>{var{value:t,formatter:r}=e,n=At(e.children)?t:e.children;return typeof r=="function"?r(n):n},C1=e=>e!=null&&typeof e=="function",UQ=(e,t)=>{var r=br(t-e),n=Math.min(Math.abs(t-e),360);return r*n},WQ=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,g=(u+d)/2,v=UQ(f,h),y=v>=0?1:-1,p,x;switch(t){case"insideStart":p=f+y*a,x=m;break;case"insideEnd":p=h-y*a,x=!m;break;case"end":p=h+y*a,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=v<=0?x:!x;var w=Ut(s,c,g,p),_=Ut(s,c,g,p+(x?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(_.x,",").concat(_.y),k=At(e.id)?tc("recharts-radial-line-"):e.id;return b.createElement("text",Jn({},n,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:k,d:j})),b.createElement("textPath",{xlinkHref:"#".concat(k)},r))},HQ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:d,y:f}=Ut(n,i,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:m,y:g}=Ut(n,i,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},C8=e=>"cx"in e&&he(e.cx),qQ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!C8(r)&&(a=r);var{x:o,y:s,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",g=c>=0?1:-1,v=g*n,y=g>0?"end":"start",p=g>0?"start":"end";if(i==="top"){var x={x:o+c/2,y:s-d*n,textAnchor:"middle",verticalAnchor:h};return dt(dt({},x),a?{height:Math.max(s-a.y,0),width:c}:{})}if(i==="bottom"){var w={x:o+c/2,y:s+u+f,textAnchor:"middle",verticalAnchor:m};return dt(dt({},w),a?{height:Math.max(a.y+a.height-(s+u),0),width:c}:{})}if(i==="left"){var _={x:o-v,y:s+u/2,textAnchor:y,verticalAnchor:"middle"};return dt(dt({},_),a?{width:Math.max(_.x-a.x,0),height:u}:{})}if(i==="right"){var j={x:o+c+v,y:s+u/2,textAnchor:p,verticalAnchor:"middle"};return dt(dt({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:u}:{})}var k=a?{width:c,height:u}:{};return i==="insideLeft"?dt({x:o+v,y:s+u/2,textAnchor:p,verticalAnchor:"middle"},k):i==="insideRight"?dt({x:o+c-v,y:s+u/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideTop"?dt({x:o+c/2,y:s+f,textAnchor:"middle",verticalAnchor:m},k):i==="insideBottom"?dt({x:o+c/2,y:s+u-f,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?dt({x:o+v,y:s+f,textAnchor:p,verticalAnchor:m},k):i==="insideTopRight"?dt({x:o+c-v,y:s+f,textAnchor:y,verticalAnchor:m},k):i==="insideBottomLeft"?dt({x:o+v,y:s+u-f,textAnchor:p,verticalAnchor:h},k):i==="insideBottomRight"?dt({x:o+c-v,y:s+u-f,textAnchor:y,verticalAnchor:h},k):i&&typeof i=="object"&&(he(i.x)||pi(i.x))&&(he(i.y)||pi(i.y))?dt({x:o+kn(i.x,c),y:s+kn(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):dt({x:o+c/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},VQ={offset:5};function Ri(e){var t=dn(e,VQ),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:c,labelRef:u}=t,d=FQ(),f=E8(),h=n==="center"?f:d??f,m=r||h;if(!m||At(i)&&At(a)&&!b.isValidElement(o)&&typeof o!="function")return null;var g=dt(dt({},t),{},{viewBox:m});if(b.isValidElement(o)){var{labelRef:v}=g,y=RQ(g,AQ);return b.cloneElement(o,y)}var p;if(typeof o=="function"){if(p=b.createElement(o,g),b.isValidElement(p))return p}else p=zQ(t);var x=C8(m),w=on(t);if(x&&(n==="insideStart"||n==="insideEnd"||n==="end"))return WQ(t,n,p,w,m);var _=x?HQ(m,t.offset,t.position):qQ(t,m);return b.createElement(E1,Jn({ref:u,className:Ae("recharts-label",s)},w,_,{breakAll:c}),p)}Ri.displayName="Label";var KQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(Ri,Jn({key:"label-implicit"},n)):Hn(e)?b.createElement(Ri,Jn({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===Ri?b.cloneElement(e,dt({key:"label-implicit"},n)):b.createElement(Ri,Jn({key:"label-implicit",content:e},n)):C1(e)?b.createElement(Ri,Jn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(Ri,Jn({},e,{key:"label-implicit"},n)):null};function YQ(e){var{label:t,labelRef:r}=e,n=E8();return KQ(t,n,r)||null}var O8={},P8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(P8);var T8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(T8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P8,r=T8,n=Ph;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(O8);var GQ=O8.last;const XQ=En(GQ);var QQ=["valueAccessor"],JQ=["dataKey","clockWise","id","textBreakAll"];function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(null,arguments)}function M_(e,t){if(e==null)return{};var r,n,i=ZQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eJ=e=>Array.isArray(e.value)?XQ(e.value):e.value,A8=b.createContext(void 0),tJ=A8.Provider,R8=b.createContext(void 0);R8.Provider;function rJ(){return b.useContext(A8)}function nJ(){return b.useContext(R8)}function od(e){var{valueAccessor:t=eJ}=e,r=M_(e,QQ),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,s=M_(r,JQ),c=rJ(),u=nJ(),d=c||u;return!d||!d.length?null:b.createElement(ta,{className:"recharts-label-list"},d.map((f,h)=>{var m,g=At(n)?t(f,h):dr(f&&f.payload,n),v=At(a)?{}:{id:"".concat(a,"-").concat(h)};return b.createElement(Ri,_f({key:"label-".concat(h)},on(f),s,v,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:g,textBreakAll:o,viewBox:f.viewBox,index:h}))}))}od.displayName="LabelList";function iJ(e){var{label:t}=e;return t?t===!0?b.createElement(od,{key:"labelList-implicit"}):b.isValidElement(t)||C1(t)?b.createElement(od,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(od,_f({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var aJ={radiusAxis:{},angleAxis:{}},D8=Ur({name:"polarAxis",initialState:aJ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bne,removeRadiusAxis:wne,addAngleAxis:_ne,removeAngleAxis:jne}=D8.actions,oJ=D8.reducer,M8={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,O1=$t?Symbol.for("react.element"):60103,P1=$t?Symbol.for("react.portal"):60106,lp=$t?Symbol.for("react.fragment"):60107,cp=$t?Symbol.for("react.strict_mode"):60108,up=$t?Symbol.for("react.profiler"):60114,dp=$t?Symbol.for("react.provider"):60109,fp=$t?Symbol.for("react.context"):60110,T1=$t?Symbol.for("react.async_mode"):60111,hp=$t?Symbol.for("react.concurrent_mode"):60111,pp=$t?Symbol.for("react.forward_ref"):60112,mp=$t?Symbol.for("react.suspense"):60113,sJ=$t?Symbol.for("react.suspense_list"):60120,gp=$t?Symbol.for("react.memo"):60115,yp=$t?Symbol.for("react.lazy"):60116,lJ=$t?Symbol.for("react.block"):60121,cJ=$t?Symbol.for("react.fundamental"):60117,uJ=$t?Symbol.for("react.responder"):60118,dJ=$t?Symbol.for("react.scope"):60119;function Hr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case O1:switch(e=e.type,e){case T1:case hp:case lp:case up:case cp:case mp:return e;default:switch(e=e&&e.$$typeof,e){case fp:case pp:case yp:case gp:case dp:return e;default:return t}}case P1:return t}}}function $8(e){return Hr(e)===hp}ze.AsyncMode=T1;ze.ConcurrentMode=hp;ze.ContextConsumer=fp;ze.ContextProvider=dp;ze.Element=O1;ze.ForwardRef=pp;ze.Fragment=lp;ze.Lazy=yp;ze.Memo=gp;ze.Portal=P1;ze.Profiler=up;ze.StrictMode=cp;ze.Suspense=mp;ze.isAsyncMode=function(e){return $8(e)||Hr(e)===T1};ze.isConcurrentMode=$8;ze.isContextConsumer=function(e){return Hr(e)===fp};ze.isContextProvider=function(e){return Hr(e)===dp};ze.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===O1};ze.isForwardRef=function(e){return Hr(e)===pp};ze.isFragment=function(e){return Hr(e)===lp};ze.isLazy=function(e){return Hr(e)===yp};ze.isMemo=function(e){return Hr(e)===gp};ze.isPortal=function(e){return Hr(e)===P1};ze.isProfiler=function(e){return Hr(e)===up};ze.isStrictMode=function(e){return Hr(e)===cp};ze.isSuspense=function(e){return Hr(e)===mp};ze.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lp||e===hp||e===up||e===cp||e===mp||e===sJ||typeof e=="object"&&e!==null&&(e.$$typeof===yp||e.$$typeof===gp||e.$$typeof===dp||e.$$typeof===fp||e.$$typeof===pp||e.$$typeof===cJ||e.$$typeof===uJ||e.$$typeof===dJ||e.$$typeof===lJ)};ze.typeOf=Hr;M8.exports=ze;var fJ=M8.exports,$_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",L_=null,W0=null,L8=e=>{if(e===L_&&Array.isArray(W0))return W0;var t=[];return b.Children.forEach(e,r=>{At(r)||(fJ.isFragment(r)?t=t.concat(L8(r.props.children)):t.push(r))}),W0=t,L_=e,t};function hJ(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>$_(i)):n=[$_(t)],L8(e).forEach(i=>{var a=ss(i,"type.displayName")||ss(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var I8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(I8);var pJ=I8.isPlainObject;const mJ=En(pJ);function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){gJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gJ(e,t,r){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}var F_=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},xJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bJ=e=>{var t=dn(e,xJ),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=b.useRef(null),[m,g]=b.useState(-1),v=b.useRef(i),y=b.useRef(a),p=b.useRef(o),x=b.useRef(r),w=b.useRef(n),_=Cx(e,"trapezoid-");if(b.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var J=h.current.getTotalLength();J&&g(J)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var j=Ae("recharts-trapezoid",s);if(!f)return b.createElement("g",null,b.createElement("path",jf({},on(t),{className:j,d:F_(r,n,i,a,o)})));var k=v.current,P=y.current,A=p.current,M=x.current,R=w.current,L="0px ".concat(m===-1?1:m,"px"),U="".concat(m,"px 0px"),X=HE(["strokeDasharray"],u,c);return b.createElement(Ex,{animationId:_,key:_,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},J=>{var le=ar(k,i,J),Y=ar(P,a,J),Q=ar(A,o,J),q=ar(M,r,J),te=ar(R,n,J);h.current&&(v.current=le,y.current=Y,p.current=Q,x.current=q,w.current=te);var ie=J>0?{transition:X,strokeDasharray:U}:{strokeDasharray:L};return b.createElement("path",jf({},on(t),{className:j,d:F_(q,te,le,Y,Q),ref:h,style:B_(B_({},ie),t.style)}))})},wJ=["option","shapeType","propTransformer","activeClassName","isActive"];function _J(e,t){if(e==null)return{};var r,n,i=jJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){SJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SJ(e,t,r){return(t=NJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NJ(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EJ(e,t){return Sf(Sf({},t),e)}function CJ(e,t){return e==="symbols"}function U_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(YE,r);case"trapezoid":return b.createElement(bJ,r);case"sector":return b.createElement(QE,r);case"symbols":if(CJ(t))return b.createElement(C6,r);break;default:return null}}function OJ(e){return b.isValidElement(e)?e.props:e}function PJ(e){var{option:t,shapeType:r,propTransformer:n=EJ,activeClassName:i="recharts-active-shape",isActive:a}=e,o=_J(e,wJ),s;if(b.isValidElement(t))s=b.cloneElement(t,Sf(Sf({},o),OJ(t)));else if(typeof t=="function")s=t(o);else if(mJ(t)&&typeof t!="boolean"){var c=n(t,o);s=b.createElement(U_,{shapeType:r,elementProps:c})}else{var u=o;s=b.createElement(U_,{shapeType:r,elementProps:u})}return a?b.createElement(ta,{className:i},s):s}var B8=(e,t)=>{var r=St();return(n,i)=>a=>{e==null||e(n,i,a),r(Y5({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},F8=e=>{var t=St();return(r,n)=>i=>{e==null||e(r,n,i),t(TG())}},z8=(e,t)=>{var r=St();return(n,i)=>a=>{e==null||e(n,i,a),r(AG({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function TJ(e){var{fn:t,args:r}=e,n=St(),i=Wr();return b.useLayoutEffect(()=>{if(!i){var a=t(r);return n(CG(a)),()=>{n(OG(a))}}},[t,r,n,i]),null}var AJ=()=>{};function RJ(e){var{legendPayload:t}=e,r=St(),n=Wr();return b.useLayoutEffect(()=>n?AJ:(r(bH(t)),()=>{r(wH(t))}),[r,n,t]),null}var H0,DJ=()=>{var[e]=b.useState(()=>tc("uid-"));return e},MJ=(H0=pj.useId)!==null&&H0!==void 0?H0:DJ;function $J(e,t){var r=MJ();return t||(e?"".concat(e,"-").concat(r):r)}var LJ=b.createContext(void 0),IJ=e=>{var{id:t,type:r,children:n}=e,i=$J("recharts-".concat(r),t);return b.createElement(LJ.Provider,{value:i},n(i))},BJ={cartesianItems:[],polarItems:[]},U8=Ur({name:"graphicalItems",initialState:BJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:or()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ai(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:or()},removeCartesianGraphicalItem:{reducer(e,t){var r=ai(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:or()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:or()},removePolarGraphicalItem:{reducer(e,t){var r=ai(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:or()}}}),{addCartesianGraphicalItem:FJ,replaceCartesianGraphicalItem:zJ,removeCartesianGraphicalItem:UJ,addPolarGraphicalItem:Sne,removePolarGraphicalItem:Nne}=U8.actions,WJ=U8.reducer;function HJ(e){var t=St(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(FJ(e)):r.current!==e&&t(zJ({prev:r.current,next:e})),r.current=e},[t,e]),b.useLayoutEffect(()=>()=>{r.current&&(t(UJ(r.current)),r.current=null)},[t]),null}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){qJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qJ(e,t,r){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YJ={xAxis:{},yAxis:{},zAxis:{}},W8=Ur({name:"cartesianAxis",initialState:YJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:or()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:or()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:or()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:or()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:or()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:or()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=H_(H_({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:GJ,removeXAxis:XJ,addYAxis:QJ,removeYAxis:JJ,addZAxis:kne,removeZAxis:Ene,updateYAxisWidth:ZJ}=W8.actions,eZ=W8.reducer,tZ=V([Dt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),rZ=V([tZ,bi,wi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),H8=()=>me(rZ),nZ="Invariant failed";function iZ(e,t){throw new Error(nZ)}var aZ=["x","y"];function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(null,arguments)}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){oZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cZ(e,t){if(e==null)return{};var r,n,i=uZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dZ(e,t){var{x:r,y:n}=e,i=cZ(e,aZ),a="".concat(r),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return sl(sl(sl(sl(sl({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function A1(e){return b.createElement(PJ,cy({shapeType:"rectangle",propTransformer:dZ,activeClassName:"recharts-active-bar"},e))}var fZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(he(t))return t;var a=he(n)||At(n);return a?t(n,i):(a||iZ(),r)}},hZ={},q8=Ur({name:"errorBars",initialState:hZ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Cne,replaceErrorBar:One,removeErrorBar:Pne}=q8.actions,pZ=q8.reducer,mZ=["children"];function gZ(e,t){if(e==null)return{};var r,n,i=yZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xZ=b.createContext(vZ);function bZ(e){var{children:t}=e,r=gZ(e,mZ);return b.createElement(xZ.Provider,{value:r},t)}function V8(e,t){var r,n,i=me(u=>ji(u,e)),a=me(u=>Si(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Or.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Pr.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function wZ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=H8(),{needClipX:a,needClipY:o,needClip:s}=V8(t,r);if(!s)return null;var{x:c,y:u,width:d,height:f}=i;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:a?c:c-d/2,y:o?u:u-f/2,width:a?d:d*2,height:o?f:f*2}))}var _Z=["onMouseEnter","onMouseLeave","onClick"],jZ=["value","background","tooltipPosition"],SZ=["id"],NZ=["onMouseEnter","onClick","onMouseLeave"];function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ra.apply(null,arguments)}function V_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(r),!0).forEach(function(n){kZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kZ(e,t,r){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=CZ(e,"string");return typeof t=="symbol"?t:t+""}function CZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nf(e,t){if(e==null)return{};var r,n,i=OZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:TE(r,t),payload:e}]};function TZ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:TE(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function AZ(e){var t=me(gs),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=a,u=Nf(a,_Z),d=B8(o,n),f=F8(s),h=z8(c,n);if(!i||r==null)return null;var m=ex(i);return b.createElement(b.Fragment,null,r.map((g,v)=>{var{value:y,background:p,tooltipPosition:x}=g,w=Nf(g,jZ);if(!p)return null;var _=d(g,v),j=f(g,v),k=h(g,v),P=sr(sr(sr(sr(sr({option:i,isActive:String(v)===t},w),{},{fill:"#eee"},p),m),ax(u,g,v)),{},{onMouseEnter:_,onMouseLeave:j,onClick:k,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return b.createElement(A1,ra({key:"background-bar-".concat(v)},P))}))}function RZ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return sr(sr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return b.createElement(tJ,{value:t?i:void 0},r)}function DZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=me(gs),c=me(c8),u=r&&String(a)===s&&(c==null||o===c),d=u?r:t;return b.createElement(A1,ra({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:o}))}function MZ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return b.createElement(A1,ra({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function $Z(e){var{data:t,props:r}=e,n=hi(r),{id:i}=n,a=Nf(n,SZ),{shape:o,dataKey:s,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:f}=r,h=Nf(r,NZ),m=B8(u,s),g=F8(f),v=z8(d,s);return t?b.createElement(b.Fragment,null,t.map((y,p)=>b.createElement(ta,ra({key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(p),className:"recharts-bar-rectangle"},ax(h,y,p),{onMouseEnter:m(y,p),onMouseLeave:g(y,p),onClick:v(y,p)}),c?b.createElement(DZ,{shape:o,activeBar:c,baseProps:a,entry:y,index:p,dataKey:s}):b.createElement(MZ,{shape:o,baseProps:a,entry:y,index:p,dataKey:s})))):null}function LZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Cx(t,"recharts-bar-"),[m,g]=b.useState(!1),v=!m,y=b.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),p=b.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return b.createElement(RZ,{showLabels:v,rects:n},b.createElement(Ex,{animationId:h,begin:o,duration:s,isActive:a,easing:c,onAnimationEnd:y,onAnimationStart:p,key:h},x=>{var w=x===1?n:n==null?void 0:n.map((_,j)=>{var k=f&&f[j];if(k)return sr(sr({},_),{},{x:ar(k.x,_.x,x),y:ar(k.y,_.y,x),width:ar(k.width,_.width,x),height:ar(k.height,_.height,x)});if(i==="horizontal"){var P=ar(0,_.height,x);return sr(sr({},_),{},{y:_.y+_.height-P,height:P})}var A=ar(0,_.width,x);return sr(sr({},_),{},{width:A})});return x>0&&(r.current=w??null),w==null?null:b.createElement(ta,null,b.createElement($Z,{props:t,data:w}))}),b.createElement(iJ,{label:t.label}),t.children)}function IZ(e){var t=b.useRef(null);return b.createElement(LZ,{previousRectanglesRef:t,props:e})}var K8=0,BZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:dr(e,t)}};class FZ extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ae("recharts-bar",i),f=u;return b.createElement(ta,{className:d,id:u},s&&b.createElement("defs",null,b.createElement(wZ,{clipPathId:f,xAxisId:a,yAxisId:o})),b.createElement(ta,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},b.createElement(AZ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),b.createElement(IZ,this.props)))}}var zZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Os.isSsr,legendType:"rect",minPointSize:K8,xAxisId:0,yAxisId:0};function UZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=V8(t,r),h=kx(),m=Wr(),g=hJ(e.children,b8),v=me(x=>gee(x,t,r,m,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var y,p=v==null?void 0:v[0];return p==null||p.height==null||p.width==null?y=0:y=h==="vertical"?p.height/2:p.width/2,b.createElement(bZ,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:BZ,errorBarOffset:y},b.createElement(FZ,ra({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function WZ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g}=e,v=t==="horizontal"?s:o,y=d?v.scale.domain():null,p=BW({numericAxis:v});return f.map((x,w)=>{var _,j,k,P,A,M;d?_=RW(d[w],y):(_=dr(x,r),Array.isArray(_)||(_=[p,_]));var R=fZ(n,K8)(_[1],w);if(t==="horizontal"){var L,[U,X]=[s.scale(_[0]),s.scale(_[1])];j=X2({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:x,index:w}),k=(L=X??U)!==null&&L!==void 0?L:void 0,P=i.size;var J=U-X;if(A=sn(J)?0:J,M={x:j,y:h.top,width:P,height:h.height},Math.abs(R)>0&&Math.abs(A)<Math.abs(R)){var le=br(A||R)*(Math.abs(R)-Math.abs(A));k-=le,A+=le}}else{var[Y,Q]=[o.scale(_[0]),o.scale(_[1])];if(j=Y,k=X2({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:x,index:w}),P=Q-Y,A=i.size,M={x:h.left,y:k,width:h.width,height:A},Math.abs(R)>0&&Math.abs(P)<Math.abs(R)){var q=br(P||R)*(Math.abs(R)-Math.abs(P));P+=q}}if(j==null||k==null||P==null||A==null)return null;var te=sr(sr({},x),{},{x:j,y:k,width:P,height:A,value:d?_:_[1],payload:x,background:M,tooltipPosition:{x:j+P/2,y:k+A/2},parentViewBox:g},m&&m[w]&&m[w].props);return te}).filter(Boolean)}function HZ(e){var t=dn(e,zZ),r=Wr();return b.createElement(IJ,{id:t.id,type:"bar"},n=>b.createElement(b.Fragment,null,b.createElement(RJ,{legendPayload:PZ(t)}),b.createElement(TJ,{fn:TZ,args:t}),b.createElement(HJ,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:IW(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(UZ,ra({},t,{id:n}))))}var Y8=b.memo(HZ);Y8.displayName="Bar";function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YZ=(e,t)=>t,GZ=(e,t,r)=>r,XZ=(e,t,r,n)=>n,QZ=(e,t,r,n,i)=>i,Wc=V([c1,QZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),JZ=V([Wc],e=>e==null?void 0:e.maxBarSize),ZZ=(e,t,r,n,i,a)=>a,Y_=(e,t,r)=>{var n=r??e;if(!At(n))return kn(n,t,0)},eee=V([Fe,c1,YZ,GZ,XZ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),tee=(e,t,r,n)=>{var i=Fe(e);return i==="horizontal"?ny(e,"yAxis",r,n):ny(e,"xAxis",t,n)},ree=(e,t,r)=>{var n=Fe(e);return n==="horizontal"?u_(e,"xAxis",t):u_(e,"yAxis",r)},nee=(e,t,r)=>{var n={},i=e.filter(tp),a=e.filter(u=>u.stackId==null),o=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),s=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=Y_(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=a.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=Y_(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...s,...c]},iee=V([eee,SY,ree],nee),aee=(e,t,r,n,i)=>{var a,o,s=Wc(e,t,r,n,i);if(s!=null){var c=Fe(e),u=QC(e),{maxBarSize:d}=s,f=At(d)?u:d,h,m;return c==="horizontal"?(h=ms(e,"xAxis",t,n),m=ps(e,"xAxis",t,n)):(h=ms(e,"yAxis",r,n),m=ps(e,"yAxis",r,n)),(a=(o=jx(h,m,!0))!==null&&o!==void 0?o:f)!==null&&a!==void 0?a:0}},G8=(e,t,r,n)=>{var i=Fe(e),a,o;return i==="horizontal"?(a=ms(e,"xAxis",t,n),o=ps(e,"xAxis",t,n)):(a=ms(e,"yAxis",r,n),o=ps(e,"yAxis",r,n)),jx(a,o)};function oee(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=kn(e,r,0,!0),s,c=[];if(tr(n[0].barSize)){var u=!1,d=r/a,f=n.reduce((p,x)=>p+(x.barSize||0),0);f+=(a-1)*o,f>=r&&(f-=(a-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=a*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};s=n.reduce((p,x)=>{var w,_={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(w=x.barSize)!==null&&w!==void 0?w:0}},j=[...p,_];return m=j[j.length-1].position,j},c)}else{var g=kn(t,r,0,!0);r-2*g-(a-1)*o<=0&&(o=0);var v=(r-2*g-(a-1)*o)/a;v>1&&(v>>=0);var y=tr(i)?Math.min(v,i):v;s=n.reduce((p,x,w)=>[...p,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:g+(v+o)*w+(v-y)/2,size:y}}],c)}return s}}var see=(e,t,r,n,i,a,o)=>{var s=At(o)?t:o,c=oee(r,n,i!==a?i:a,e,s);return i!==a&&c!=null&&(c=c.map(u=>Du(Du({},u),{},{position:Du(Du({},u.position),{},{offset:u.position.offset-i/2})}))),c},lee=V([iee,QC,jY,JC,aee,G8,JZ],see),cee=(e,t,r,n)=>ms(e,"xAxis",t,n),uee=(e,t,r,n)=>ms(e,"yAxis",r,n),dee=(e,t,r,n)=>ps(e,"xAxis",t,n),fee=(e,t,r,n)=>ps(e,"yAxis",r,n),hee=V([lee,Wc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),pee=(e,t)=>{var r=s1(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},mee=V([tee,Wc],pee),gee=V([Dt,Sx,cee,uee,dee,fee,hee,Fe,Jx,G8,mee,Wc,ZZ],(e,t,r,n,i,a,o,s,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:y}=f,p;if(y!=null&&y.length>0?p=y:p=m==null?void 0:m.slice(g,v+1),p!=null)return WZ({layout:s,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:p,offset:e,cells:h})}}),yee=e=>{var{chartData:t}=e,r=St(),n=Wr();return b.useEffect(()=>n?()=>{}:(r(x_(t)),()=>{r(x_(void 0))}),[t,r,n]),null},G_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},X8=Ur({name:"brush",initialState:G_,reducers:{setBrushSettings(e,t){return t.payload==null?G_:t.payload}}}),{setBrushSettings:Tne}=X8.actions,vee=X8.reducer;function xee(e,t,r){return(t=bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e){var t=wee(e,"string");return typeof t=="symbol"?t:t+""}function wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class R1{static create(t){return new R1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}xee(R1,"EPS",1e-4);function _ee(e){return(e%180+180)%180}var jee=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_ee(i),o=a*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},See={dots:[],areas:[],lines:[]},Q8=Ur({name:"referenceElements",initialState:See,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ai(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ai(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ai(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Ane,removeDot:Rne,addArea:Dne,removeArea:Mne,addLine:$ne,removeLine:Lne}=Q8.actions,Nee=Q8.reducer,kee=b.createContext(void 0),Eee=e=>{var{children:t}=e,[r]=b.useState("".concat(tc("recharts"),"-clip")),n=H8();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return b.createElement(kee.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function ys(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function J8(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Cee(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jee(n,r)}function Oee(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function kf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Pee(e,t){return J8(e,t+1)}function Tee(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:J8(n,u)};var v=c,y,p=()=>(y===void 0&&(y=r(g,v)),y),x=g.coordinate,w=c===0||kf(e,x,p,d,s);w||(c=0,d=o,u+=1),w&&(d=x+e*(p()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return(t=Ree(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ree(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mee(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:c}=t,u=function(h){var m=a[h],g,v=()=>(g===void 0&&(g=r(m,h)),g);if(h===o-1){var y=e*(m.coordinate+e*v()/2-c);a[h]=m=Xt(Xt({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=Xt(Xt({},m),{},{tickCoord:m.coordinate});var p=kf(e,m.tickCoord,v,s,c);p&&(c=m.tickCoord-e*(v()/2+i),a[h]=Xt(Xt({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function $ee(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:c,end:u}=t;if(a){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);o[s-1]=d=Xt(Xt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=kf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),o[s-1]=Xt(Xt({},d),{},{isShow:!0}))}for(var g=a?s-1:s,v=function(x){var w=o[x],_,j=()=>(_===void 0&&(_=r(w,x)),_);if(x===0){var k=e*(w.coordinate-e*j()/2-c);o[x]=w=Xt(Xt({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[x]=w=Xt(Xt({},w),{},{tickCoord:w.coordinate});var P=kf(e,w.tickCoord,j,c,u);P&&(c=w.tickCoord+e*(j()/2+i),o[x]=Xt(Xt({},w),{},{isShow:!0}))},y=0;y<g;y++)v(y);return o}function D1(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(he(c)||Os.isSsr){var h;return(h=Pee(i,he(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=s==="top"||s==="bottom"?"width":"height",v=d&&g==="width"?Ol(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(w,_)=>{var j=typeof u=="function"?u(w.value,_):w.value;return g==="width"?Cee(Ol(j,{fontSize:t,letterSpacing:r}),v,f):Ol(j,{fontSize:t,letterSpacing:r})[g]},p=i.length>=2?br(i[1].coordinate-i[0].coordinate):1,x=Oee(a,p,g);return c==="equidistantPreserveStart"?Tee(p,x,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=$ee(p,x,y,i,o,c==="preserveStartEnd"):m=Mee(p,x,y,i,o),m.filter(w=>w.isShow))}var Lee=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=r?r.getBoundingClientRect().width:0,c=i+a,u=o+c+s+(r?n:0);return Math.round(u)}return 0},Iee=["axisLine","width","height","className","hide","ticks"],Bee=["viewBox"],Fee=["viewBox"];function uy(e,t){if(e==null)return{};var r,n,i=zee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},to.apply(null,arguments)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){Uee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Hee(e,"string");return typeof t=="symbol"?t:t+""}function Hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M1={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function qee(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var u=_t(_t(_t({},c),hi(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);u=_t(_t({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!o||a==="right"&&o);u=_t(_t({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return b.createElement("line",to({},u,{className:Ae("recharts-cartesian-axis-line",ss(s,"className"))}))}function Vee(e,t,r,n,i,a,o,s,c){var u,d,f,h,m,g,v=s?-1:1,y=e.tickSize||o,p=he(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=r+ +!s*i,f=h-v*y,g=f-v*c,m=p;break;case"left":f=h=e.coordinate,d=t+ +!s*n,u=d-v*y,m=u-v*c,g=p;break;case"right":f=h=e.coordinate,d=t+ +s*n,u=d+v*y,m=u+v*c,g=p;break;default:u=d=e.coordinate,h=r+ +s*i,f=h+v*y,g=f+v*c,m=p;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function Kee(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Yee(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Gee(e){var{option:t,tickProps:r,value:n}=e,i,a=Ae(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,_t(_t({},r),{},{className:a}));else if(typeof t=="function")i=t(_t(_t({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ae(o,t==null?void 0:t.className)),i=b.createElement(E1,to({},r,{className:o}),n)}return i}function Xee(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:g,tickSize:v,tickMargin:y,fontSize:p,letterSpacing:x,getTicksConfig:w,events:_}=e,j=D1(_t(_t({},w),{},{ticks:t}),p,x),k=Kee(u,d),P=Yee(u,d),A=hi(w),M=ex(r),R={};typeof n=="object"&&(R=n);var L=_t(_t({},A),{},{fill:"none"},R),U=j.map((X,J)=>{var{line:le,tick:Y}=Vee(X,f,h,m,g,u,v,d,y),Q=_t(_t(_t(_t({textAnchor:k,verticalAnchor:P},A),{},{stroke:"none",fill:i},M),Y),{},{index:J,payload:X,visibleTicksCount:j.length,tickFormatter:a,padding:s},c);return b.createElement(ta,to({className:"recharts-cartesian-axis-tick",key:"tick-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},ax(_,X,J)),n&&b.createElement("line",to({},L,le,{className:Ae("recharts-cartesian-axis-tick-line",ss(n,"className"))})),r&&b.createElement(Gee,{option:r,tickProps:Q,value:"".concat(typeof a=="function"?a(X.value,J):X.value).concat(o||"")}))});return U.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var Qee=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s}=e,c=uy(e,Iee),[u,d]=b.useState(""),[f,h]=b.useState(""),m=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Lee({ticks:m.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=b.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=y;var p=y[0];if(p){var x=window.getComputedStyle(p),w=x.fontSize,_=x.letterSpacing;(w!==u||_!==f)&&(d(w),h(_))}}},[u,f]);return o||n!=null&&n<=0||i!=null&&i<=0?null:b.createElement(ta,{className:Ae("recharts-cartesian-axis",a),ref:g},b.createElement(qee,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:hi(e)}),b.createElement(Xee,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),b.createElement(IQ,{x:e.x,y:e.y,width:e.width,height:e.height},b.createElement(YQ,{label:e.label,labelRef:e.labelRef}),e.children))}),Jee=b.memo(Qee,(e,t)=>{var{viewBox:r}=e,n=uy(e,Bee),{viewBox:i}=t,a=uy(t,Fee);return ys(r,i)&&ys(n,a)}),$1=b.forwardRef((e,t)=>{var r=dn(e,M1);return b.createElement(Jee,to({},r,{ref:t}))});$1.displayName="CartesianAxis";var Zee=["x1","y1","x2","y2","key"],ete=["offset"],tte=["xAxisId","yAxisId"],rte=["xAxisId","yAxisId"];function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nte(e,t,r){return(t=ite(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ite(e){var t=ate(e,"string");return typeof t=="symbol"?t:t+""}function ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pa.apply(null,arguments)}function Ef(e,t){if(e==null)return{};var r,n,i=ote(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ote(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ste=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return b.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Z8(e,t){var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=t,c=Ef(t,Zee),u=hi(c),{offset:d}=u,f=Ef(u,ete);r=b.createElement("line",Pa({},f,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function lte(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Ef(e,tte),c=i.map((u,d)=>{var f=Jt(Jt({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return Z8(n,f)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function cte(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Ef(e,rte),c=i.map((u,d)=>{var f=Jt(Jt({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return Z8(n,f)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function ute(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=s.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+o-f:u[h+1]-f;if(g<=0)return null;var v=h%t.length;return b.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function dte(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+o-f:u[h+1]-f;if(g<=0)return null;var v=h%r.length;return b.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:g,height:s,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var fte=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return OE(D1(Jt(Jt(Jt({},M1),r),{},{ticks:PE(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},hte=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return OE(D1(Jt(Jt(Jt({},M1),r),{},{ticks:PE(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},pte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function eO(e){var t=FE(),r=zE(),n=BE(),i=Jt(Jt({},dn(e,pte)),{},{x:he(e.x)?e.x:n.left,y:he(e.y)?e.y:n.top,width:he(e.width)?e.width:n.width,height:he(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,g=Wr(),v=me(M=>d_(M,"xAxis",a,g)),y=me(M=>d_(M,"yAxis",o,g));if(!he(u)||u<=0||!he(d)||d<=0||!he(s)||s!==+s||!he(c)||c!==+c)return null;var p=i.verticalCoordinatesGenerator||fte,x=i.horizontalCoordinatesGenerator||hte,{horizontalPoints:w,verticalPoints:_}=i;if((!w||!w.length)&&typeof x=="function"){var j=h&&h.length,k=x({yAxis:y?Jt(Jt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);af(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!_||!_.length)&&typeof p=="function"){var P=m&&m.length,A=p({xAxis:v?Jt(Jt({},v),{},{ticks:P?m:v.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);af(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(_=A)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(ste,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(ute,Pa({},i,{horizontalPoints:w})),b.createElement(dte,Pa({},i,{verticalPoints:_})),b.createElement(lte,Pa({},i,{offset:n,horizontalPoints:w,xAxis:v,yAxis:y})),b.createElement(cte,Pa({},i,{offset:n,verticalPoints:_,xAxis:v,yAxis:y})))}eO.displayName="CartesianGrid";var mte=["dangerouslySetInnerHTML","ticks"],gte=["id"],yte=["domain"],vte=["domain"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function Cf(e,t){if(e==null)return{};var r,n,i=xte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bte(e){var t=St();return b.useLayoutEffect(()=>(t(GJ(e)),()=>{t(XJ(e))}),[e,t]),null}var wte=e=>{var{xAxisId:t,className:r}=e,n=me(Sx),i=Wr(),a="xAxis",o=me(y=>$s(y,a,t,i)),s=me(y=>U5(y,a,t,i)),c=me(y=>I5(y,t)),u=me(y=>vG(y,t)),d=me(y=>s5(y,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=Cf(e,mte),{id:g}=d,v=Cf(d,gte);return b.createElement($1,dy({},m,v,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Ae("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},_te={allowDataOverflow:Or.allowDataOverflow,allowDecimals:Or.allowDecimals,allowDuplicatedCategory:Or.allowDuplicatedCategory,height:Or.height,hide:!1,mirror:Or.mirror,orientation:Or.orientation,padding:Or.padding,reversed:Or.reversed,scale:Or.scale,tickCount:Or.tickCount,type:Or.type,xAxisId:0},jte=e=>{var t,r,n,i,a,o=dn(e,_te);return b.createElement(b.Fragment,null,b.createElement(bte,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),b.createElement(wte,o))},Ste=(e,t)=>{var{domain:r}=e,n=Cf(e,yte),{domain:i}=t,a=Cf(t,vte);return ys(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ys({domain:r},{domain:i}):!1},tO=b.memo(jte,Ste);tO.displayName="XAxis";var Nte=["dangerouslySetInnerHTML","ticks"],kte=["id"],Ete=["domain"],Cte=["domain"];function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(null,arguments)}function Of(e,t){if(e==null)return{};var r,n,i=Ote(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ote(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pte(e){var t=St();return b.useLayoutEffect(()=>(t(QJ(e)),()=>{t(JJ(e))}),[e,t]),null}var Tte=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=b.useRef(null),o=b.useRef(null),s=me(Sx),c=Wr(),u=St(),d="yAxis",f=me(j=>$s(j,d,t,c)),h=me(j=>B5(j,t)),m=me(j=>bG(j,t)),g=me(j=>U5(j,d,t,c)),v=me(j=>l5(j,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!h||C1(i)||b.isValidElement(i)||v==null)){var j=a.current;if(j){var k=j.getCalculatedWidth();Math.round(h.width)!==Math.round(k)&&u(ZJ({id:t,width:k}))}}},[g,h,u,i,t,n,v]),h==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:y,ticks:p}=e,x=Of(e,Nte),{id:w}=v,_=Of(v,kte);return b.createElement($1,fy({},x,_,{ref:a,labelRef:o,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Ae("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:g}))},Ate={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:Pr.allowDecimals,allowDuplicatedCategory:Pr.allowDuplicatedCategory,hide:!1,mirror:Pr.mirror,orientation:Pr.orientation,padding:Pr.padding,reversed:Pr.reversed,scale:Pr.scale,tickCount:Pr.tickCount,type:Pr.type,width:Pr.width,yAxisId:0},Rte=e=>{var t,r,n,i,a,o=dn(e,Ate);return b.createElement(b.Fragment,null,b.createElement(Pte,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),b.createElement(Tte,o))},Dte=(e,t)=>{var{domain:r}=e,n=Of(e,Ete),{domain:i}=t,a=Of(t,Cte);return ys(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ys({domain:r},{domain:i}):!1},rO=b.memo(Rte,Dte);rO.displayName="YAxis";var Mte={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=b;function $te(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lte=typeof Object.is=="function"?Object.is:$te,Ite=Hc.useSyncExternalStore,Bte=Hc.useRef,Fte=Hc.useEffect,zte=Hc.useMemo,Ute=Hc.useDebugValue;Mte.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Bte(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=zte(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return f=g}return f=m}if(g=f,Lte(d,m))return g;var v=n(m);return i!==void 0&&i(g,v)?(d=m,g):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var s=Ite(e,a[0],a[1]);return Fte(function(){o.hasValue=!0,o.value=s},[s]),Ute(s),s};function Wte(e){e()}function Hte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Wte(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Z_={notify(){},get:()=>[]};function qte(e,t){let r,n=Z_,i=0,a=!1;function o(v){d();const y=n.subscribe(v);let p=!1;return()=>{p||(p=!0,y(),f())}}function s(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=Hte())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Z_)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const g={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var Vte=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kte=Vte(),Yte=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gte=Yte(),Xte=()=>Kte||Gte?b.useLayoutEffect:b.useEffect,Qte=Xte(),q0=Symbol.for("react-redux-context"),V0=typeof globalThis<"u"?globalThis:{};function Jte(){if(!b.createContext)return{};const e=V0[q0]??(V0[q0]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Zte=Jte();function ere(e){const{children:t,context:r,serverState:n,store:i}=e,a=b.useMemo(()=>{const c=qte(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=b.useMemo(()=>i.getState(),[i]);Qte(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const s=r||Zte;return b.createElement(s.Provider,{value:a},t)}var tre=ere,rre=(e,t)=>t,L1=V([rre,Fe,i5,Et,a8,Ni,SX,Dt],OX),I1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},nO=ln("mouseClick"),iO=Tc();iO.startListening({actionCreator:nO,effect:(e,t)=>{var r=e.payload,n=L1(t.getState(),I1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(RG({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var hy=ln("mouseMove"),aO=Tc();aO.startListening({actionCreator:hy,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=v1(n,n.tooltip.settings.shared),a=L1(n,I1(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(X5({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(G5()))}});var ej={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},oO=Ur({name:"rootProps",initialState:ej,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:ej.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),nre=oO.reducer,{updateOptions:ire}=oO.actions,sO=Ur({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Ine}=sO.actions,are=sO.reducer,lO=ln("keyDown"),cO=ln("focus"),B1=Tc();B1.startListening({actionCreator:lO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(x1(i,Is(r))),s=Ni(r);if(a==="Enter"){var c=wf(r,"axis","hover",String(i.index));t.dispatch(ay({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=SG(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=o+f*d;if(!(s==null||h>=s.length||h<0)){var m=wf(r,"axis","hover",String(h));t.dispatch(ay({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});B1.startListening({actionCreator:cO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=wf(r,"axis","hover",String(a));t.dispatch(ay({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Yr=ln("externalEvent"),uO=Tc();uO.startListening({actionCreator:Yr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:mX(r),activeDataKey:c8(r),activeIndex:gs(r),activeLabel:l8(r),activeTooltipIndex:gs(r),isTooltipActive:gX(r)};e.payload.handler(n,e.payload.reactEvent)}}});var ore=V([Ls],e=>e.tooltipItemPayloads),sre=V([ore,zc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),dO=ln("touchMove"),fO=Tc();fO.startListening({actionCreator:dO,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=v1(n,n.tooltip.settings.shared);if(i==="axis"){var a=L1(n,I1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(X5({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(KW),d=(o=c.getAttribute(YW))!==null&&o!==void 0?o:void 0,f=sre(t.getState(),u,d);t.dispatch(Y5({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var lre=nE({brush:vee,cartesianAxis:eZ,chartData:qX,errorBars:pZ,graphicalItems:WJ,layout:gW,legend:_H,options:FX,polarAxis:oJ,polarOptions:are,referenceElements:Nee,rootProps:nre,tooltip:DG}),cre=function(t){return zU({reducer:lre,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([iO.middleware,aO.middleware,B1.middleware,uO.middleware,fO.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(mE({type:"raf"}))},devTools:Os.devToolsEnabled})};function ure(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Wr(),a=b.useRef(null);if(i)return r;a.current==null&&(a.current=cre(t));var o=mx;return b.createElement(tre,{context:o,store:a.current},r)}function dre(e){var{layout:t,margin:r}=e,n=St(),i=Wr();return b.useEffect(()=>{i||(n(hW(t)),n(fW(r)))},[n,i,t,r]),null}function fre(e){var t=St();return b.useEffect(()=>{t(ire(e))},[t,e]),null}var hre=["children"];function pre(e,t){if(e==null)return{};var r,n,i=mre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(null,arguments)}var gre={width:"100%",height:"100%",display:"block"},yre=b.forwardRef((e,t)=>{var r=FE(),n=zE(),i=WE();if(!us(r)||!us(n))return null;var{children:a,otherAttributes:o,title:s,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,b.createElement(s6,Pf({},o,{title:s,desc:c,role:d,tabIndex:u,width:r,height:n,style:gre,ref:t}),a)}),vre=e=>{var{children:t}=e,r=me(zh);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return b.createElement(s6,{width:n,height:i,x:o,y:a},t)},tj=b.forwardRef((e,t)=>{var{children:r}=e,n=pre(e,hre),i=Wr();return i?b.createElement(vre,null,r):b.createElement(yre,Pf({ref:t},n),r)});function xre(){var e=St(),[t,r]=b.useState(null),n=me(VW);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;tr(a)&&a!==n&&e(mW(a))}},[t,e,n]),r}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wre(e,t,r){return(t=_re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _re(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ro.apply(null,arguments)}var Sre=()=>(eQ(),null);function Tf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Nre=b.forwardRef((e,t)=>{var r,n,i=b.useRef(null),[a,o]=b.useState({containerWidth:Tf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Tf((n=e.style)===null||n===void 0?void 0:n.height)}),s=b.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var h=g=>{var{width:v,height:y}=g[0].contentRect;s(v,y)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,s]);return b.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),b.createElement(b.Fragment,null,b.createElement(Wh,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",ro({ref:c},e)))}),kre=b.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=b.useState({containerWidth:Tf(r),containerHeight:Tf(n)}),o=b.useCallback((c,u)=>{a(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),s=b.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return b.createElement(b.Fragment,null,b.createElement(Wh,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",ro({ref:s},e)))}),Ere=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return b.createElement(b.Fragment,null,b.createElement(Wh,{width:r,height:n}),b.createElement("div",ro({ref:t},e)))}),Cre=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return pi(r)||pi(n)?b.createElement(kre,ro({},e,{ref:t})):b.createElement(Ere,ro({},e,{ref:t}))});function Ore(e){return e===!0?Nre:Cre}var Pre=b.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:v,style:y,width:p,responsive:x,dispatchTouchEvents:w=!0}=e,_=b.useRef(null),j=St(),[k,P]=b.useState(null),[A,M]=b.useState(null),R=xre(),L=Nx(),U=(L==null?void 0:L.width)>0?L.width:p,X=(L==null?void 0:L.height)>0?L.height:i,J=b.useCallback($=>{R($),typeof t=="function"&&t($),P($),M($),$!=null&&(_.current=$)},[R,t,P,M]),le=b.useCallback($=>{j(nO($)),j(Yr({handler:a,reactEvent:$}))},[j,a]),Y=b.useCallback($=>{j(hy($)),j(Yr({handler:u,reactEvent:$}))},[j,u]),Q=b.useCallback($=>{j(G5()),j(Yr({handler:d,reactEvent:$}))},[j,d]),q=b.useCallback($=>{j(hy($)),j(Yr({handler:f,reactEvent:$}))},[j,f]),te=b.useCallback(()=>{j(cO())},[j]),ie=b.useCallback($=>{j(lO($.key))},[j]),oe=b.useCallback($=>{j(Yr({handler:o,reactEvent:$}))},[j,o]),se=b.useCallback($=>{j(Yr({handler:s,reactEvent:$}))},[j,s]),we=b.useCallback($=>{j(Yr({handler:c,reactEvent:$}))},[j,c]),Ce=b.useCallback($=>{j(Yr({handler:h,reactEvent:$}))},[j,h]),ge=b.useCallback($=>{j(Yr({handler:v,reactEvent:$}))},[j,v]),z=b.useCallback($=>{w&&j(dO($)),j(Yr({handler:g,reactEvent:$}))},[j,w,g]),B=b.useCallback($=>{j(Yr({handler:m,reactEvent:$}))},[j,m]),F=Ore(x);return b.createElement(m8.Provider,{value:k},b.createElement(UF.Provider,{value:A},b.createElement(F,{width:U??(y==null?void 0:y.width),height:X??(y==null?void 0:y.height),className:Ae("recharts-wrapper",n),style:bre({position:"relative",cursor:"default",width:U,height:X},y),onClick:le,onContextMenu:oe,onDoubleClick:se,onFocus:te,onKeyDown:ie,onMouseDown:we,onMouseEnter:Y,onMouseLeave:Q,onMouseMove:q,onMouseUp:Ce,onTouchEnd:B,onTouchMove:z,onTouchStart:ge,ref:J},b.createElement(Sre,null),r)))}),Tre=["width","height","responsive","children","className","style","compact","title","desc"];function Are(e,t){if(e==null)return{};var r,n,i=Rre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dre=b.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:c,title:u,desc:d}=e,f=Are(e,Tre),h=hi(f);return c?b.createElement(b.Fragment,null,b.createElement(Wh,{width:r,height:n}),b.createElement(tj,{otherAttributes:h,title:u,desc:d},a)):b.createElement(Pre,{className:o,style:s,width:r,height:n,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(tj,{otherAttributes:h,title:u,desc:d,ref:t},b.createElement(Eee,null,a)))});function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}var Mre={top:5,right:5,bottom:5,left:5},$re={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mre,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Lre=b.forwardRef(function(t,r){var n,i=dn(t.categoricalChartProps,$re),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return b.createElement(ure,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},b.createElement(yee,{chartData:u.data}),b.createElement(dre,{layout:i.layout,margin:i.margin}),b.createElement(fre,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(Dre,py({},i,{ref:r})))}),Ire=["axis","item"],Bre=b.forwardRef((e,t)=>b.createElement(Lre,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ire,tooltipPayloadSearcher:IX,categoricalChartProps:e,ref:t}));function Fre(){var d;const{user:e}=We(),{darkMode:t}=bt(),[r,n]=b.useState(null),[i,a]=b.useState(null),[o,s]=b.useState(!0);b.useEffect(()=>{c()},[]);const c=async()=>{try{const[f,h]=await Promise.all([ue.get("/api/performance/me"),ue.get("/api/performance/team")]);n(f.data),a(h.data),s(!1)}catch(f){console.error("Error fetching performance:",f),s(!1)}};if(o)return l.jsx("div",{className:`h-full ${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 flex items-center justify-center`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"Loading performance data..."})]})});const u=((d=i==null?void 0:i.members)==null?void 0:d.slice(0,5).map(f=>({name:f.full_name.split(" ")[0],points:f.points,messages:f.messages_sent,achievements:f.achievements})))||[];return l.jsxs("div",{className:`h-full ${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 overflow-hidden flex flex-col`,children:[l.jsx("h3",{className:`text-lg font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:" Performance Dashboard"}),l.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-700":"bg-blue-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx(Ma,{className:`text-lg ${t?"text-yellow-400":"text-yellow-600"}`}),l.jsx("span",{className:`text-xs font-medium ${t?"text-gray-300":"text-gray-600"}`,children:"Points"})]}),l.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-800"}`,children:(r==null?void 0:r.total_points)||0})]}),l.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-700":"bg-purple-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx(WN,{className:`text-lg ${t?"text-purple-400":"text-purple-600"}`}),l.jsx("span",{className:`text-xs font-medium ${t?"text-gray-300":"text-gray-600"}`,children:"Rank"})]}),l.jsxs("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-800"}`,children:["#",(r==null?void 0:r.rank)||"-"]})]}),l.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-700":"bg-green-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx(_n,{className:`text-lg ${t?"text-green-400":"text-green-600"}`}),l.jsx("span",{className:`text-xs font-medium ${t?"text-gray-300":"text-gray-600"}`,children:"Messages"})]}),l.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-800"}`,children:(r==null?void 0:r.messages_sent)||0})]}),l.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-700":"bg-pink-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx(Ro,{className:`text-lg ${t?"text-pink-400":"text-pink-600"}`}),l.jsx("span",{className:`text-xs font-medium ${t?"text-gray-300":"text-gray-600"}`,children:"Achievements"})]}),l.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-800"}`,children:(r==null?void 0:r.achievements_unlocked)||0})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("h4",{className:`text-sm font-semibold mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:["Team Comparison - ",(i==null?void 0:i.team)||"All Users"]}),l.jsx(yH,{width:"100%",height:200,children:l.jsxs(Bre,{data:u,children:[l.jsx(eO,{strokeDasharray:"3 3",stroke:t?"#374151":"#e5e7eb"}),l.jsx(tO,{dataKey:"name",stroke:t?"#9ca3af":"#6b7280"}),l.jsx(rO,{stroke:t?"#9ca3af":"#6b7280"}),l.jsx(lQ,{contentStyle:{backgroundColor:t?"#374151":"#ffffff",border:"none",borderRadius:"8px",color:t?"#ffffff":"#000000"}}),l.jsx(Y8,{dataKey:"points",fill:"#3b82f6"})]})})]}),l.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-gray-700":"bg-indigo-50"}`,children:[l.jsx("p",{className:`text-xs font-medium ${t?"text-gray-300":"text-gray-600"} mb-1`,children:"Points Earned (Last 30 Days)"}),l.jsxs("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-800"}`,children:["+",(r==null?void 0:r.points_last_30_days)||0]})]})]})]})}function zre(){const{user:e}=We(),{darkMode:t}=bt(),r=Rt(),[n,i]=b.useState([]),[a,o]=b.useState(""),[s,c]=b.useState(!0);b.useEffect(()=>{u()},[a]);const u=async()=>{try{const f=a?{search:a}:{},h=await ue.get("/api/team-directory",{params:f});i(h.data),c(!1)}catch(f){console.error("Error fetching team directory:",f),c(!1)}},d=f=>{r("/chat",{state:{userId:f}})};return l.jsxs("div",{className:`h-full ${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 overflow-hidden flex flex-col`,children:[l.jsx("h3",{className:`text-lg font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:" Team Directory"}),l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Jl,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${t?"text-gray-400":"text-gray-500"}`}),l.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),placeholder:"Search team members...",className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,"data-testid":"team-search-input"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:s?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"Loading..."})}):n.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"No team members found"})]}):n.map(f=>{var h;return l.jsx("div",{className:`p-3 rounded-lg transition ${t?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"}`,"data-testid":`team-member-${f.id}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${f.id===(e==null?void 0:e.id)?"bg-gradient-to-br from-purple-600 to-blue-600":"bg-gradient-to-br from-gray-600 to-gray-700"}`,children:((h=f.full_name)==null?void 0:h.charAt(0))||"U"}),f.is_online&&l.jsx(El,{className:"absolute bottom-0 right-0 text-green-500 text-xs"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("h4",{className:`font-semibold truncate ${t?"text-white":"text-gray-800"}`,children:[f.full_name,f.id===(e==null?void 0:e.id)&&l.jsx("span",{className:"text-xs text-blue-500",children:" (You)"})]})}),l.jsxs("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"} capitalize`,children:[f.role,"  ",f.department||"No department"]}),f.team&&l.jsxs("p",{className:`text-xs ${t?"text-gray-500":"text-gray-400"}`,children:["Team ",f.team]})]})]}),f.id!==(e==null?void 0:e.id)&&l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("button",{onClick:()=>d(f.id),className:`p-2 rounded-lg transition ${t?"bg-blue-900 text-blue-300 hover:bg-blue-800":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,title:"Send message",children:l.jsx(_n,{})})})]})},f.id)})})]})}function Ure(){const{darkMode:e}=bt(),t=Rt(),[r,n]=b.useState([]),[i,a]=b.useState(!0);b.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await ue.get("/api/announcements");n(u.data.slice(0,5)),a(!1)}catch(u){console.error("Error fetching announcements:",u),a(!1)}},s=u=>{switch(u){case"urgent":return"red";case"high":return"orange";case"normal":return"blue";case"low":return"gray";default:return"blue"}},c=u=>{switch(u){case"urgent":return"";case"high":return"";case"normal":return"";case"low":return"";default:return""}};return l.jsxs("div",{className:`h-full ${e?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 overflow-hidden flex flex-col`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:`text-lg font-bold ${e?"text-white":"text-gray-800"}`,children:" Company News"}),l.jsx("button",{onClick:()=>t("/feed"),className:`text-xs px-3 py-1 rounded-lg transition ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"View All"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:i?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:e?"text-gray-400":"text-gray-500",children:"Loading..."})}):r.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{className:e?"text-gray-400":"text-gray-500",children:"No announcements yet"})]}):r.map(u=>{const d=s(u.priority);return l.jsx("div",{className:`p-3 rounded-lg border-l-4 border-${d}-500 cursor-pointer transition ${e?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>t("/feed"),"data-testid":`announcement-${u.id}`,children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-xl",children:c(u.priority)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:`font-semibold text-sm ${e?"text-white":"text-gray-800"} truncate`,children:u.title}),l.jsx("p",{className:`text-xs ${e?"text-gray-400":"text-gray-600"} line-clamp-2 mt-1`,children:u.content}),l.jsx("p",{className:`text-xs ${e?"text-gray-500":"text-gray-400"} mt-1`,children:yF(n6(u.created_at),{addSuffix:!0})})]})]})},u.id)})})]})}function Wre(){const{darkMode:e}=bt(),[t,r]=b.useState([]),[n,i]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await ue.get("/api/birthdays/upcoming");r(c.data),i(!1)}catch(c){console.error("Error fetching celebrations:",c),i(!1)}},o=c=>c==="birthday"?"":"",s=c=>c==="birthday"?"Birthday":"Work Anniversary";return l.jsxs("div",{className:`h-full ${e?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 overflow-hidden flex flex-col`,children:[l.jsx("h3",{className:`text-lg font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:" Celebrations"}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:n?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:e?"text-gray-400":"text-gray-500",children:"Loading..."})}):t.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{className:e?"text-gray-400":"text-gray-500",children:"No upcoming celebrations"})]}):t.map((c,u)=>l.jsx("div",{className:`p-3 rounded-lg transition ${e?"bg-gray-700":"bg-gradient-to-r from-purple-50 to-pink-50"}`,"data-testid":`celebration-${u}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-3xl",children:o(c.type)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:`font-semibold ${e?"text-white":"text-gray-800"}`,children:c.user.full_name}),l.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:[s(c.type),c.years&&`  ${c.years} years`]}),l.jsx("p",{className:`text-xs ${e?"text-gray-500":"text-gray-400"} mt-1`,children:c.days_until===0?"Today!":c.days_until===1?"Tomorrow":`In ${c.days_until} days`})]})]})},u))})]})}function Hre(){var s;const{darkMode:e}=bt(),[t,r]=b.useState(null),[n,i]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await ue.get("/api/admin/analytics");r(c.data),i(!1)}catch(c){console.error("Error fetching stats:",c),i(!1)}},o=[{icon:l.jsx(Ga,{className:"text-2xl"}),label:"Online Users",value:(t==null?void 0:t.online_users)||0,color:"green",bgColor:e?"bg-green-900":"bg-green-50",textColor:e?"text-green-400":"text-green-600"},{icon:l.jsx(_n,{className:"text-2xl"}),label:"Messages (24h)",value:(t==null?void 0:t.recent_messages_24h)||0,color:"blue",bgColor:e?"bg-blue-900":"bg-blue-50",textColor:e?"text-blue-400":"text-blue-600"},{icon:l.jsx(Ga,{className:"text-2xl"}),label:"Total Users",value:(t==null?void 0:t.total_users)||0,color:"purple",bgColor:e?"bg-purple-900":"bg-purple-50",textColor:e?"text-purple-400":"text-purple-600"},{icon:l.jsx(is,{className:"text-2xl"}),label:"Total Points",value:((s=t==null?void 0:t.total_points)==null?void 0:s.toLocaleString())||0,color:"yellow",bgColor:e?"bg-yellow-900":"bg-yellow-50",textColor:e?"text-yellow-400":"text-yellow-600"}];return l.jsxs("div",{className:`h-full ${e?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 overflow-hidden flex flex-col`,children:[l.jsx("h3",{className:`text-lg font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:" At a Glance"}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:n?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:e?"text-gray-400":"text-gray-500",children:"Loading..."})}):l.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map((c,u)=>l.jsxs("div",{className:`${c.bgColor} rounded-lg p-4`,"data-testid":`stat-${c.label.toLowerCase().replace(/\s+/g,"-")}`,children:[l.jsx("div",{className:`${c.textColor} mb-2`,children:c.icon}),l.jsx("p",{className:`text-xs ${e?"text-gray-400":"text-gray-600"} mb-1`,children:c.label}),l.jsx("p",{className:`text-2xl font-bold ${e?"text-white":"text-gray-800"}`,children:c.value})]},u))})})]})}function qre(){const{user:e}=We(),{darkMode:t}=bt();Rt();const[r,n]=b.useState(null),[i,a]=b.useState(!1),[o,s]=b.useState([]),[c,u]=b.useState([]),d=[{id:"quick-links",component:rB,title:"Quick Links",minH:2,minW:2},{id:"calendar",component:RF,title:"Calendar",minH:3,minW:2},{id:"performance",component:Fre,title:"Performance",minH:3,minW:2},{id:"team-directory",component:zre,title:"Team Directory",minH:3,minW:2},{id:"company-news",component:Ure,title:"Company News",minH:2,minW:2},{id:"birthdays",component:Wre,title:"Celebrations",minH:2,minW:1},{id:"stats",component:Hre,title:"At a Glance",minH:2,minW:2}];b.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await ue.get("/api/user-preferences");n(v.data),u(v.data.hidden_widgets||[]);const p=(v.data.widget_order||d.map(x=>x.id)).map((x,w)=>{const _=d.find(j=>j.id===x);return{i:x,x:w%3*4,y:Math.floor(w/3)*3,w:4,h:(_==null?void 0:_.minH)||2,minW:(_==null?void 0:_.minW)||2,minH:(_==null?void 0:_.minH)||2}});s(p)}catch(v){console.error("Error fetching preferences:",v);const y=d.map((p,x)=>({i:p.id,x:x%3*4,y:Math.floor(x/3)*3,w:4,h:p.minH,minW:p.minW,minH:p.minH}));s(y)}},h=async v=>{s(v);try{const y=v.sort((p,x)=>p.y-x.y||p.x-x.x).map(p=>p.i);await ue.put("/api/user-preferences",{widget_order:y})}catch(y){console.error("Error saving preferences:",y)}},m=async v=>{const y=c.includes(v)?c.filter(p=>p!==v):[...c,v];u(y);try{await ue.put("/api/user-preferences",{hidden_widgets:y})}catch(p){console.error("Error updating widget visibility:",p)}},g=d.filter(v=>!c.includes(v.id));return l.jsxs(fr,{children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-800"} mb-2`,children:" Digital HQ"}),l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Your central command center"})]}),l.jsxs("button",{onClick:()=>a(!i),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition ${t?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,"data-testid":"settings-button",children:[l.jsx(Cv,{className:"text-lg"}),l.jsx("span",{children:"Customize"})]})]})}),i&&l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6 mb-6`,children:[l.jsx("h3",{className:`text-lg font-bold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Widget Visibility"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:d.map(v=>l.jsxs("button",{onClick:()=>m(v.id),className:`flex items-center justify-between p-3 rounded-lg transition ${c.includes(v.id)?t?"bg-gray-700 text-gray-400":"bg-gray-100 text-gray-400":t?"bg-blue-900 text-blue-200":"bg-blue-50 text-blue-600"}`,"data-testid":`toggle-widget-${v.id}`,children:[l.jsx("span",{className:"font-medium",children:v.title}),c.includes(v.id)?l.jsx(VN,{}):l.jsx(KN,{})]},v.id))}),l.jsx("p",{className:`mt-4 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:" Tip: Drag widgets to rearrange them on the dashboard"})]})}),l.jsx("div",{children:o.length>0?l.jsx(tB,{className:"layout",layout:o,cols:12,rowHeight:100,width:1200,onLayoutChange:h,isDraggable:!0,isResizable:!0,compactType:"vertical",preventCollision:!1,children:g.map(v=>{const y=v.component;return l.jsx("div",{className:"widget-container",children:l.jsx(y,{})},v.id)})}):l.jsxs("div",{className:"text-center py-20",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Loading your dashboard..."})]})})]})}const Yt=({children:e})=>{const{user:t,loading:r}=We();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:l.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):t?e:l.jsx(pv,{to:"/login"})},nj=({children:e})=>{const{user:t,loading:r}=We();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:l.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):t?l.jsx(pv,{to:"/dashboard"}):e};function Vre(){return l.jsx(FA,{children:l.jsxs(RA,{children:[l.jsx(mt,{path:"/login",element:l.jsx(nj,{children:l.jsx(OD,{})})}),l.jsx(mt,{path:"/register",element:l.jsx(nj,{children:l.jsx(PD,{})})}),l.jsx(mt,{path:"/dashboard",element:l.jsx(Yt,{children:l.jsx(TD,{})})}),l.jsx(mt,{path:"/chat",element:l.jsx(Yt,{children:l.jsx(_$,{})})}),l.jsx(mt,{path:"/spaces",element:l.jsx(Yt,{children:l.jsx(k$,{})})}),l.jsx(mt,{path:"/feed",element:l.jsx(Yt,{children:l.jsx(g9,{})})}),l.jsx(mt,{path:"/recognition",element:l.jsx(Yt,{children:l.jsx(y9,{})})}),l.jsx(mt,{path:"/polls",element:l.jsx(Yt,{children:l.jsx(k9,{})})}),l.jsx(mt,{path:"/digital-hq",element:l.jsx(Yt,{children:l.jsx(qre,{})})}),l.jsx(mt,{path:"/approvals",element:l.jsx(Yt,{children:l.jsx(v9,{})})}),l.jsx(mt,{path:"/invitations",element:l.jsx(Yt,{children:l.jsx(x9,{})})}),l.jsx(mt,{path:"/leaderboard",element:l.jsx(Yt,{children:l.jsx(E$,{})})}),l.jsx(mt,{path:"/achievements",element:l.jsx(Yt,{children:l.jsx(C$,{})})}),l.jsx(mt,{path:"/challenges",element:l.jsx(Yt,{children:l.jsx(O$,{})})}),l.jsx(mt,{path:"/rewards",element:l.jsx(Yt,{children:l.jsx(P$,{})})}),l.jsx(mt,{path:"/admin",element:l.jsx(Yt,{children:l.jsx(h9,{})})}),l.jsx(mt,{path:"/admin/integrations",element:l.jsx(Yt,{children:l.jsx(p9,{})})}),l.jsx(mt,{path:"/calls",element:l.jsx(Yt,{children:l.jsx(m9,{})})}),l.jsx(mt,{path:"/",element:l.jsx(pv,{to:"/dashboard"})})]})})}function Kre(){return l.jsx(xR,{children:l.jsx(vR,{children:l.jsx(hD,{children:l.jsx(Vre,{})})})})}K0.createRoot(document.getElementById("root")).render(l.jsx(Te.StrictMode,{children:l.jsx(Kre,{})}));
